var yw=Object.defineProperty;var _w=(i,t,e)=>t in i?yw(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var dm=(i,t,e)=>_w(i,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function e(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=e(o);fetch(o.href,l)}})();function Bh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var mm={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function vw(){if(Bv)return Gl;Bv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,o,l){var h=null;if(l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),"key"in o){l={};for(var m in o)m!=="key"&&(l[m]=o[m])}else l=o;return o=l.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:l}}return Gl.Fragment=t,Gl.jsx=e,Gl.jsxs=e,Gl}var zv;function Ew(){return zv||(zv=1,mm.exports=vw()),mm.exports}var M=Ew(),pm={exports:{}},kt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function Tw(){if(Hv)return kt;Hv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function R(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,K={};function B(x,Z,dt){this.props=x,this.context=Z,this.refs=K,this.updater=dt||P}B.prototype.isReactComponent={},B.prototype.setState=function(x,Z){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Z,"setState")},B.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function it(){}it.prototype=B.prototype;function rt(x,Z,dt){this.props=x,this.context=Z,this.refs=K,this.updater=dt||P}var et=rt.prototype=new it;et.constructor=rt,U(et,B.prototype),et.isPureReactComponent=!0;var ct=Array.isArray,lt={H:null,A:null,T:null,S:null},ft=Object.prototype.hasOwnProperty;function D(x,Z,dt,st,at,bt){return dt=bt.ref,{$$typeof:i,type:x,key:Z,ref:dt!==void 0?dt:null,props:bt}}function w(x,Z){return D(x.type,Z,void 0,void 0,void 0,x.props)}function b(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function O(x){var Z={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(dt){return Z[dt]})}var V=/\/+/g;function j(x,Z){return typeof x=="object"&&x!==null&&x.key!=null?O(""+x.key):Z.toString(36)}function I(){}function he(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(I,I):(x.status="pending",x.then(function(Z){x.status==="pending"&&(x.status="fulfilled",x.value=Z)},function(Z){x.status==="pending"&&(x.status="rejected",x.reason=Z)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function re(x,Z,dt,st,at){var bt=typeof x;(bt==="undefined"||bt==="boolean")&&(x=null);var gt=!1;if(x===null)gt=!0;else switch(bt){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(x.$$typeof){case i:case t:gt=!0;break;case E:return gt=x._init,re(gt(x._payload),Z,dt,st,at)}}if(gt)return at=at(x),gt=st===""?"."+j(x,0):st,ct(at)?(dt="",gt!=null&&(dt=gt.replace(V,"$&/")+"/"),re(at,Z,dt,"",function(Jt){return Jt})):at!=null&&(b(at)&&(at=w(at,dt+(at.key==null||x&&x.key===at.key?"":(""+at.key).replace(V,"$&/")+"/")+gt)),Z.push(at)),1;gt=0;var oe=st===""?".":st+":";if(ct(x))for(var Ot=0;Ot<x.length;Ot++)st=x[Ot],bt=oe+j(st,Ot),gt+=re(st,Z,dt,bt,at);else if(Ot=R(x),typeof Ot=="function")for(x=Ot.call(x),Ot=0;!(st=x.next()).done;)st=st.value,bt=oe+j(st,Ot++),gt+=re(st,Z,dt,bt,at);else if(bt==="object"){if(typeof x.then=="function")return re(he(x),Z,dt,st,at);throw Z=String(x),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return gt}function nt(x,Z,dt){if(x==null)return x;var st=[],at=0;return re(x,st,"","",function(bt){return Z.call(dt,bt,at++)}),st}function mt(x){if(x._status===-1){var Z=x._result;Z=Z(),Z.then(function(dt){(x._status===0||x._status===-1)&&(x._status=1,x._result=dt)},function(dt){(x._status===0||x._status===-1)&&(x._status=2,x._result=dt)}),x._status===-1&&(x._status=0,x._result=Z)}if(x._status===1)return x._result.default;throw x._result}var ut=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Mt(){}return kt.Children={map:nt,forEach:function(x,Z,dt){nt(x,function(){Z.apply(this,arguments)},dt)},count:function(x){var Z=0;return nt(x,function(){Z++}),Z},toArray:function(x){return nt(x,function(Z){return Z})||[]},only:function(x){if(!b(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},kt.Component=B,kt.Fragment=e,kt.Profiler=o,kt.PureComponent=rt,kt.StrictMode=s,kt.Suspense=p,kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,kt.act=function(){throw Error("act(...) is not supported in production builds of React.")},kt.cache=function(x){return function(){return x.apply(null,arguments)}},kt.cloneElement=function(x,Z,dt){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var st=U({},x.props),at=x.key,bt=void 0;if(Z!=null)for(gt in Z.ref!==void 0&&(bt=void 0),Z.key!==void 0&&(at=""+Z.key),Z)!ft.call(Z,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&Z.ref===void 0||(st[gt]=Z[gt]);var gt=arguments.length-2;if(gt===1)st.children=dt;else if(1<gt){for(var oe=Array(gt),Ot=0;Ot<gt;Ot++)oe[Ot]=arguments[Ot+2];st.children=oe}return D(x.type,at,void 0,void 0,bt,st)},kt.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:l,_context:x},x},kt.createElement=function(x,Z,dt){var st,at={},bt=null;if(Z!=null)for(st in Z.key!==void 0&&(bt=""+Z.key),Z)ft.call(Z,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(at[st]=Z[st]);var gt=arguments.length-2;if(gt===1)at.children=dt;else if(1<gt){for(var oe=Array(gt),Ot=0;Ot<gt;Ot++)oe[Ot]=arguments[Ot+2];at.children=oe}if(x&&x.defaultProps)for(st in gt=x.defaultProps,gt)at[st]===void 0&&(at[st]=gt[st]);return D(x,bt,void 0,void 0,null,at)},kt.createRef=function(){return{current:null}},kt.forwardRef=function(x){return{$$typeof:m,render:x}},kt.isValidElement=b,kt.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:mt}},kt.memo=function(x,Z){return{$$typeof:g,type:x,compare:Z===void 0?null:Z}},kt.startTransition=function(x){var Z=lt.T,dt={};lt.T=dt;try{var st=x(),at=lt.S;at!==null&&at(dt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Mt,ut)}catch(bt){ut(bt)}finally{lt.T=Z}},kt.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()},kt.use=function(x){return lt.H.use(x)},kt.useActionState=function(x,Z,dt){return lt.H.useActionState(x,Z,dt)},kt.useCallback=function(x,Z){return lt.H.useCallback(x,Z)},kt.useContext=function(x){return lt.H.useContext(x)},kt.useDebugValue=function(){},kt.useDeferredValue=function(x,Z){return lt.H.useDeferredValue(x,Z)},kt.useEffect=function(x,Z){return lt.H.useEffect(x,Z)},kt.useId=function(){return lt.H.useId()},kt.useImperativeHandle=function(x,Z,dt){return lt.H.useImperativeHandle(x,Z,dt)},kt.useInsertionEffect=function(x,Z){return lt.H.useInsertionEffect(x,Z)},kt.useLayoutEffect=function(x,Z){return lt.H.useLayoutEffect(x,Z)},kt.useMemo=function(x,Z){return lt.H.useMemo(x,Z)},kt.useOptimistic=function(x,Z){return lt.H.useOptimistic(x,Z)},kt.useReducer=function(x,Z,dt){return lt.H.useReducer(x,Z,dt)},kt.useRef=function(x){return lt.H.useRef(x)},kt.useState=function(x){return lt.H.useState(x)},kt.useSyncExternalStore=function(x,Z,dt){return lt.H.useSyncExternalStore(x,Z,dt)},kt.useTransition=function(){return lt.H.useTransition()},kt.version="19.0.0",kt}var qv;function Dp(){return qv||(qv=1,pm.exports=Tw()),pm.exports}var N=Dp();const oa=Bh(N);var gm={exports:{}},Kl={},ym={exports:{}},_m={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function Sw(){return Fv||(Fv=1,function(i){function t(nt,mt){var ut=nt.length;nt.push(mt);t:for(;0<ut;){var Mt=ut-1>>>1,x=nt[Mt];if(0<o(x,mt))nt[Mt]=mt,nt[ut]=x,ut=Mt;else break t}}function e(nt){return nt.length===0?null:nt[0]}function s(nt){if(nt.length===0)return null;var mt=nt[0],ut=nt.pop();if(ut!==mt){nt[0]=ut;t:for(var Mt=0,x=nt.length,Z=x>>>1;Mt<Z;){var dt=2*(Mt+1)-1,st=nt[dt],at=dt+1,bt=nt[at];if(0>o(st,ut))at<x&&0>o(bt,st)?(nt[Mt]=bt,nt[at]=ut,Mt=at):(nt[Mt]=st,nt[dt]=ut,Mt=dt);else if(at<x&&0>o(bt,ut))nt[Mt]=bt,nt[at]=ut,Mt=at;else break t}}return mt}function o(nt,mt){var ut=nt.sortIndex-mt.sortIndex;return ut!==0?ut:nt.id-mt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,S=null,R=3,P=!1,U=!1,K=!1,B=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function et(nt){for(var mt=e(g);mt!==null;){if(mt.callback===null)s(g);else if(mt.startTime<=nt)s(g),mt.sortIndex=mt.expirationTime,t(p,mt);else break;mt=e(g)}}function ct(nt){if(K=!1,et(nt),!U)if(e(p)!==null)U=!0,he();else{var mt=e(g);mt!==null&&re(ct,mt.startTime-nt)}}var lt=!1,ft=-1,D=5,w=-1;function b(){return!(i.unstable_now()-w<D)}function O(){if(lt){var nt=i.unstable_now();w=nt;var mt=!0;try{t:{U=!1,K&&(K=!1,it(ft),ft=-1),P=!0;var ut=R;try{e:{for(et(nt),S=e(p);S!==null&&!(S.expirationTime>nt&&b());){var Mt=S.callback;if(typeof Mt=="function"){S.callback=null,R=S.priorityLevel;var x=Mt(S.expirationTime<=nt);if(nt=i.unstable_now(),typeof x=="function"){S.callback=x,et(nt),mt=!0;break e}S===e(p)&&s(p),et(nt)}else s(p);S=e(p)}if(S!==null)mt=!0;else{var Z=e(g);Z!==null&&re(ct,Z.startTime-nt),mt=!1}}break t}finally{S=null,R=ut,P=!1}mt=void 0}}finally{mt?V():lt=!1}}}var V;if(typeof rt=="function")V=function(){rt(O)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,I=j.port2;j.port1.onmessage=O,V=function(){I.postMessage(null)}}else V=function(){B(O,0)};function he(){lt||(lt=!0,V())}function re(nt,mt){ft=B(function(){nt(i.unstable_now())},mt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(nt){nt.callback=null},i.unstable_continueExecution=function(){U||P||(U=!0,he())},i.unstable_forceFrameRate=function(nt){0>nt||125<nt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<nt?Math.floor(1e3/nt):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_getFirstCallbackNode=function(){return e(p)},i.unstable_next=function(nt){switch(R){case 1:case 2:case 3:var mt=3;break;default:mt=R}var ut=R;R=mt;try{return nt()}finally{R=ut}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(nt,mt){switch(nt){case 1:case 2:case 3:case 4:case 5:break;default:nt=3}var ut=R;R=nt;try{return mt()}finally{R=ut}},i.unstable_scheduleCallback=function(nt,mt,ut){var Mt=i.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Mt+ut:Mt):ut=Mt,nt){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=ut+x,nt={id:E++,callback:mt,priorityLevel:nt,startTime:ut,expirationTime:x,sortIndex:-1},ut>Mt?(nt.sortIndex=ut,t(g,nt),e(p)===null&&nt===e(g)&&(K?(it(ft),ft=-1):K=!0,re(ct,ut-Mt))):(nt.sortIndex=x,t(p,nt),U||P||(U=!0,he())),nt},i.unstable_shouldYield=b,i.unstable_wrapCallback=function(nt){var mt=R;return function(){var ut=R;R=mt;try{return nt.apply(this,arguments)}finally{R=ut}}}}(_m)),_m}var Gv;function Aw(){return Gv||(Gv=1,ym.exports=Sw()),ym.exports}var vm={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function bw(){if(Kv)return an;Kv=1;var i=Dp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(p,g,null,E)},an.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},an.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},an.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},an.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:P}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:R,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},an.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},an.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},an.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},an.requestFormReset=function(p){s.d.r(p)},an.unstable_batchedUpdates=function(p,g){return p(g)},an.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},an.useFormStatus=function(){return h.H.useHostTransitionStatus()},an.version="19.0.0",an}var $v;function JT(){if($v)return vm.exports;$v=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),vm.exports=bw(),vm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function Rw(){if(Qv)return Kl;Qv=1;var i=Aw(),t=Dp(),e=JT();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var l=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),P=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),it=Symbol.for("react.memo"),rt=Symbol.for("react.lazy"),et=Symbol.for("react.offscreen"),ct=Symbol.for("react.memo_cache_sentinel"),lt=Symbol.iterator;function ft(n){return n===null||typeof n!="object"?null:(n=lt&&n[lt]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function w(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case g:return"StrictMode";case K:return"Suspense";case B:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case P:return(n.displayName||"Context")+".Provider";case R:return(n._context.displayName||"Context")+".Consumer";case U:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case it:return r=n.displayName||null,r!==null?r:w(n.type)||"Memo";case rt:r=n._payload,n=n._init;try{return w(n(r))}catch{}}return null}var b=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign,V,j;function I(n){if(V===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);V=r&&r[1]||"",j=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+n+j}var he=!1;function re(n,r){if(!n||he)return"";he=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Q){var F=Q}Reflect.construct(n,[],J)}else{try{J.call()}catch(Q){F=Q}n.call(J.prototype)}}else{try{throw Error()}catch(Q){F=Q}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=u.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var C=v.split(`
`),L=T.split(`
`);for(f=u=0;u<C.length&&!C[u].includes("DetermineComponentFrameRoot");)u++;for(;f<L.length&&!L[f].includes("DetermineComponentFrameRoot");)f++;if(u===C.length||f===L.length)for(u=C.length-1,f=L.length-1;1<=u&&0<=f&&C[u]!==L[f];)f--;for(;1<=u&&0<=f;u--,f--)if(C[u]!==L[f]){if(u!==1||f!==1)do if(u--,f--,0>f||C[u]!==L[f]){var Y=`
`+C[u].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=u&&0<=f);break}}}finally{he=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?I(a):""}function nt(n){switch(n.tag){case 26:case 27:case 5:return I(n.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return n=re(n.type,!1),n;case 11:return n=re(n.type.render,!1),n;case 1:return n=re(n.type,!0),n;default:return""}}function mt(n){try{var r="";do r+=nt(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ut(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,r.flags&4098&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function Mt(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function x(n){if(ut(n)!==n)throw Error(s(188))}function Z(n){var r=n.alternate;if(!r){if(r=ut(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,u=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return x(f),n;if(d===u)return x(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=d;else{for(var v=!1,T=f.child;T;){if(T===a){v=!0,a=f,u=d;break}if(T===u){v=!0,u=f,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,u=f;break}if(T===u){v=!0,u=d,a=f;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function dt(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=dt(n),r!==null)return r;n=n.sibling}return null}var st=Array.isArray,at=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bt={pending:!1,data:null,method:null,action:null},gt=[],oe=-1;function Ot(n){return{current:n}}function Jt(n){0>oe||(n.current=gt[oe],gt[oe]=null,oe--)}function Lt(n,r){oe++,gt[oe]=n.current,n.current=r}var te=Ot(null),le=Ot(null),Ee=Ot(null),He=Ot(null);function Vt(n,r){switch(Lt(Ee,r),Lt(le,n),Lt(te,null),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?pv(r):0;break;default:if(n=n===8?r.parentNode:r,r=n.tagName,n=n.namespaceURI)n=pv(n),r=gv(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Jt(te),Lt(te,r)}function rn(){Jt(te),Jt(le),Jt(Ee)}function Sn(n){n.memoizedState!==null&&Lt(He,n);var r=te.current,a=gv(r,n.type);r!==a&&(Lt(le,n),Lt(te,a))}function ci(n){le.current===n&&(Jt(te),Jt(le)),He.current===n&&(Jt(He),Bl._currentValue=bt)}var hi=Object.prototype.hasOwnProperty,Xn=i.unstable_scheduleCallback,fi=i.unstable_cancelCallback,bs=i.unstable_shouldYield,di=i.unstable_requestPaint,Te=i.unstable_now,Ui=i.unstable_getCurrentPriorityLevel,vt=i.unstable_ImmediatePriority,ue=i.unstable_UserBlockingPriority,yn=i.unstable_NormalPriority,Rs=i.unstable_LowPriority,ji=i.unstable_IdlePriority,Aa=i.log,Et=i.unstable_setDisableYieldValue,qt=null,fe=null;function Wn(n){if(fe&&typeof fe.onCommitFiberRoot=="function")try{fe.onCommitFiberRoot(qt,n,void 0,(n.current.flags&128)===128)}catch{}}function Dn(n){if(typeof Aa=="function"&&Et(n),fe&&typeof fe.setStrictMode=="function")try{fe.setStrictMode(qt,n)}catch{}}var fn=Math.clz32?Math.clz32:Du,Fo=Math.log,Nu=Math.LN2;function Du(n){return n>>>=0,n===0?32:31-(Fo(n)/Nu|0)|0}var mi=128,br=4194304;function Zn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function xn(n,r){var a=n.pendingLanes;if(a===0)return 0;var u=0,f=n.suspendedLanes,d=n.pingedLanes,v=n.warmLanes;n=n.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~f,a!==0?u=Zn(a):(d&=T,d!==0?u=Zn(d):n||(v=T&~v,v!==0&&(u=Zn(v))))):(T=a&~f,T!==0?u=Zn(T):d!==0?u=Zn(d):n||(v=a&~v,v!==0&&(u=Zn(v)))),u===0?0:r!==0&&r!==u&&!(r&f)&&(f=u&-u,v=r&-r,f>=v||f===32&&(v&4194176)!==0)?r:u}function Rr(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function ba(n,r){switch(n){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Go(){var n=mi;return mi<<=1,!(mi&4194176)&&(mi=128),n}function wr(){var n=br;return br<<=1,!(br&62914560)&&(br=4194304),n}function Ra(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Ce(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function xu(n,r,a,u,f,d){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,C=n.expirationTimes,L=n.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-fn(a),J=1<<Y;T[Y]=0,C[Y]=-1;var F=L[Y];if(F!==null)for(L[Y]=null,Y=0;Y<F.length;Y++){var Q=F[Y];Q!==null&&(Q.lane&=-536870913)}a&=~J}u!==0&&Cr(n,u,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(v&~r))}function Cr(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-fn(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|a&4194218}function Ir(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var u=31-fn(a),f=1<<u;f&r|n[u]&r&&(n[u]|=r),a&=~f}}function Mu(n){return n&=-n,2<n?8<n?n&134217727?32:268435456:8:2}function Vu(){var n=at.p;return n!==0?n:(n=window.event,n===void 0?32:Vv(n.type))}function Or(n,r){var a=at.p;try{return at.p=n,r()}finally{at.p=a}}var pi=Math.random().toString(36).slice(2),qe="__reactFiber$"+pi,Ve="__reactProps$"+pi,Bi="__reactContainer$"+pi,ws="__reactEvents$"+pi,wa="__reactListeners$"+pi,gi="__reactHandles$"+pi,Ko="__reactResources$"+pi,Nr="__reactMarker$"+pi;function Cs(n){delete n[qe],delete n[Ve],delete n[ws],delete n[wa],delete n[gi]}function Jn(n){var r=n[qe];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Bi]||a[qe]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=vv(n);n!==null;){if(a=n[qe])return a;n=vv(n)}return r}n=a,a=n.parentNode}return null}function zi(n){if(n=n[qe]||n[Bi]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Dr(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function xr(n){var r=n[Ko];return r||(r=n[Ko]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ge(n){n[Nr]=!0}var $o=new Set,Ca={};function An(n,r){_n(n,r),_n(n+"Capture",r)}function _n(n,r){for(Ca[n]=r,n=0;n<r.length;n++)$o.add(r[n])}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qo={},Yo={};function ku(n){return hi.call(Yo,n)?!0:hi.call(Qo,n)?!1:yf.test(n)?Yo[n]=!0:(Qo[n]=!0,!1)}function Mr(n,r,a){if(ku(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Vr(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Mn(n,r,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+u)}}function dn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Lu(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function _f(n){var r=Lu(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){u=""+v,d.call(this,v)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Is(n){n._valueTracker||(n._valueTracker=_f(n))}function Xo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return n&&(u=Lu(n)?n.checked?"true":"false":n.value),n=u,n!==a?(r.setValue(n),!0):!1}function Ia(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Hi=/[\n"\\]/g;function Se(n){return n.replace(Hi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function kr(n,r,a,u,f,d,v,T){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),r!=null?v==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+dn(r)):n.value!==""+dn(r)&&(n.value=""+dn(r)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),r!=null?Oa(n,v,dn(r)):a!=null?Oa(n,v,dn(a)):u!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+dn(T):n.removeAttribute("name")}function Os(n,r,a,u,f,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+dn(a):"",r=r!=null?""+dn(r):a,T||r===n.value||(n.value=r),n.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=T?n.checked:!!u,n.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function Oa(n,r,a){r==="number"&&Ia(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Xt(n,r,a,u){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&u&&(n[a].defaultSelected=!0)}else{for(a=""+dn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Ns(n,r,a){if(r!=null&&(r=""+dn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+dn(a):""}function Lr(n,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(st(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=dn(r),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u)}function Vn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var vf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wo(n,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,a):typeof a!="number"||a===0||vf.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Pu(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&a[f]!==u&&Wo(n,f,u)}else for(var d in r)r.hasOwnProperty(d)&&Wo(n,d,r[d])}function Zo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ef=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yi(n){return Tf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var kn=null;function Na(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var qi=null,Fi=null;function Gi(n){var r=zi(n);if(r&&(n=r.stateNode)){var a=n[Ve]||null;t:switch(n=r.stateNode,r.type){case"input":if(kr(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Se(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==n&&u.form===n.form){var f=u[Ve]||null;if(!f)throw Error(s(90));kr(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===n.form&&Xo(u)}break t;case"textarea":Ns(n,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Xt(n,!!a.multiple,r,!1)}}}var Jo=!1;function Uu(n,r,a){if(Jo)return n(r,a);Jo=!0;try{var u=n(r);return u}finally{if(Jo=!1,(qi!==null||Fi!==null)&&(Oc(),qi&&(r=qi,n=Fi,Fi=qi=null,Gi(r),n)))for(r=0;r<n.length;r++)Gi(n[r])}}function Ds(n,r){var a=n.stateNode;if(a===null)return null;var u=a[Ve]||null;if(u===null)return null;a=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Ln=!1;if(bn)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){Ln=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{Ln=!1}var _i=null,Pr=null,Ki=null;function tl(){if(Ki)return Ki;var n,r=Pr,a=r.length,u,f="value"in _i?_i.value:_i.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var v=a-n;for(u=1;u<=v&&r[a-u]===f[d-u];u++);return Ki=f.slice(n,1<u?1-u:void 0)}function vi(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Ei(){return!0}function el(){return!1}function Fe(n){function r(a,u,f,d,v){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ei:el,this.isPropagationStopped=el,this}return O(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),r}var ee={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Da=Fe(ee),Ms=O({},ee,{view:0,detail:0}),ju=Fe(Ms),xa,Ma,Ti,Vs=O({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ti&&(Ti&&n.type==="mousemove"?(xa=n.screenX-Ti.screenX,Ma=n.screenY-Ti.screenY):Ma=xa=0,Ti=n),xa)},movementY:function(n){return"movementY"in n?n.movementY:Ma}}),Pn=Fe(Vs),Bu=O({},Vs,{dataTransfer:0}),Sf=Fe(Bu),ks=O({},Ms,{relatedTarget:0}),Va=Fe(ks),nl=O({},ee,{animationName:0,elapsedTime:0,pseudoElement:0}),ka=Fe(nl),zu=O({},ee,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),La=Fe(zu),Af=O({},ee,{data:0}),il=Fe(Af),Ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=qu[n])?!!r[n]:!1}function Ps(){return rl}var Fu=O({},Ms,{key:function(n){if(n.key){var r=Ls[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=vi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Hu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(n){return n.type==="keypress"?vi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?vi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Pa=Fe(Fu),Gu=O({},Vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sl=Fe(Gu),$i=O({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),Ku=Fe($i),$u=O({},ee,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qu=Fe($u),Yu=O({},Vs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ua=Fe(Yu),mn=O({},ee,{newState:0,oldState:0}),Xu=Fe(mn),Wu=[9,13,27,32],Si=bn&&"CompositionEvent"in window,c=null;bn&&"documentMode"in document&&(c=document.documentMode);var y=bn&&"TextEvent"in window&&!c,_=bn&&(!Si||c&&8<c&&11>=c),A=" ",H=!1;function G(n,r){switch(n){case"keyup":return Wu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Kt=!1;function ke(n,r){switch(n){case"compositionend":return ot(r);case"keypress":return r.which!==32?null:(H=!0,A);case"textInput":return n=r.data,n===A&&H?null:n;default:return null}}function $t(n,r){if(Kt)return n==="compositionend"||!Si&&G(n,r)?(n=tl(),Ki=Pr=_i=null,Kt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Ge={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Le(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Ge[n.type]:r==="textarea"}function Qi(n,r,a,u){qi?Fi?Fi.push(u):Fi=[u]:qi=u,r=Vc(r,"onChange"),0<r.length&&(a=new Da("onChange","change",null,a,u),n.push({event:a,listeners:r}))}var Xe=null,Ai=null;function al(n){cv(n,0)}function Zu(n){var r=Dr(n);if(Xo(r))return n}function jg(n,r){if(n==="change")return r}var Bg=!1;if(bn){var bf;if(bn){var Rf="oninput"in document;if(!Rf){var zg=document.createElement("div");zg.setAttribute("oninput","return;"),Rf=typeof zg.oninput=="function"}bf=Rf}else bf=!1;Bg=bf&&(!document.documentMode||9<document.documentMode)}function Hg(){Xe&&(Xe.detachEvent("onpropertychange",qg),Ai=Xe=null)}function qg(n){if(n.propertyName==="value"&&Zu(Ai)){var r=[];Qi(r,Ai,n,Na(n)),Uu(al,r)}}function $b(n,r,a){n==="focusin"?(Hg(),Xe=r,Ai=a,Xe.attachEvent("onpropertychange",qg)):n==="focusout"&&Hg()}function Qb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Zu(Ai)}function Yb(n,r){if(n==="click")return Zu(r)}function Xb(n,r){if(n==="input"||n==="change")return Zu(r)}function Wb(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Rn=typeof Object.is=="function"?Object.is:Wb;function ol(n,r){if(Rn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!hi.call(r,f)||!Rn(n[f],r[f]))return!1}return!0}function Fg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Gg(n,r){var a=Fg(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=r&&u>=r)return{node:a,offset:r-n};n=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Fg(a)}}function Kg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Kg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function $g(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ia(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Ia(n.document)}return r}function wf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function Zb(n,r){var a=$g(r);r=n.focusedElem;var u=n.selectionRange;if(a!==r&&r&&r.ownerDocument&&Kg(r.ownerDocument.documentElement,r)){if(u!==null&&wf(r)){if(n=u.start,a=u.end,a===void 0&&(a=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(a,r.value.length);else if(a=(n=r.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=r.textContent.length,d=Math.min(u.start,f);u=u.end===void 0?d:Math.min(u.end,f),!a.extend&&d>u&&(f=u,u=d,d=f),f=Gg(r,d);var v=Gg(r,u);f&&v&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),d>u?(a.addRange(n),a.extend(v.node,v.offset)):(n.setEnd(v.node,v.offset),a.addRange(n)))}}for(n=[],a=r;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)a=n[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Jb=bn&&"documentMode"in document&&11>=document.documentMode,ja=null,Cf=null,ll=null,If=!1;function Qg(n,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;If||ja==null||ja!==Ia(u)||(u=ja,"selectionStart"in u&&wf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ll&&ol(ll,u)||(ll=u,u=Vc(Cf,"onSelect"),0<u.length&&(r=new Da("onSelect","select",null,r,a),n.push({event:r,listeners:u}),r.target=ja)))}function Us(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ba={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},Of={},Yg={};bn&&(Yg=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function js(n){if(Of[n])return Of[n];if(!Ba[n])return n;var r=Ba[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Yg)return Of[n]=r[a];return n}var Xg=js("animationend"),Wg=js("animationiteration"),Zg=js("animationstart"),tR=js("transitionrun"),eR=js("transitionstart"),nR=js("transitioncancel"),Jg=js("transitionend"),ty=new Map,ey="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ti(n,r){ty.set(n,r),An(r,[n])}var Un=[],za=0,Nf=0;function Ju(){for(var n=za,r=Nf=za=0;r<n;){var a=Un[r];Un[r++]=null;var u=Un[r];Un[r++]=null;var f=Un[r];Un[r++]=null;var d=Un[r];if(Un[r++]=null,u!==null&&f!==null){var v=u.pending;v===null?f.next=f:(f.next=v.next,v.next=f),u.pending=f}d!==0&&ny(a,f,d)}}function tc(n,r,a,u){Un[za++]=n,Un[za++]=r,Un[za++]=a,Un[za++]=u,Nf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Df(n,r,a,u){return tc(n,r,a,u),ec(n)}function Ur(n,r){return tc(n,null,null,r),ec(n)}function ny(n,r,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,u=d.alternate,u!==null&&(u.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;f&&r!==null&&n.tag===3&&(d=n.stateNode,f=31-fn(a),d=d.hiddenUpdates,n=d[f],n===null?d[f]=[r]:n.push(r),r.lane=a|536870912)}function ec(n){if(50<Ml)throw Ml=0,Pd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ha={},iy=new WeakMap;function jn(n,r){if(typeof n=="object"&&n!==null){var a=iy.get(n);return a!==void 0?a:(r={value:n,source:r,stack:mt(r)},iy.set(n,r),r)}return{value:n,source:r,stack:mt(r)}}var qa=[],Fa=0,nc=null,ic=0,Bn=[],zn=0,Bs=null,Yi=1,Xi="";function zs(n,r){qa[Fa++]=ic,qa[Fa++]=nc,nc=n,ic=r}function ry(n,r,a){Bn[zn++]=Yi,Bn[zn++]=Xi,Bn[zn++]=Bs,Bs=n;var u=Yi;n=Xi;var f=32-fn(u)-1;u&=~(1<<f),a+=1;var d=32-fn(r)+f;if(30<d){var v=f-f%5;d=(u&(1<<v)-1).toString(32),u>>=v,f-=v,Yi=1<<32-fn(r)+f|a<<f|u,Xi=d+n}else Yi=1<<d|a<<f|u,Xi=n}function xf(n){n.return!==null&&(zs(n,1),ry(n,1,0))}function Mf(n){for(;n===nc;)nc=qa[--Fa],qa[Fa]=null,ic=qa[--Fa],qa[Fa]=null;for(;n===Bs;)Bs=Bn[--zn],Bn[zn]=null,Xi=Bn[--zn],Bn[zn]=null,Yi=Bn[--zn],Bn[zn]=null}var pn=null,We=null,Wt=!1,ei=null,bi=!1,Vf=Error(s(519));function Hs(n){var r=Error(s(418,""));throw hl(jn(r,n)),Vf}function sy(n){var r=n.stateNode,a=n.type,u=n.memoizedProps;switch(r[qe]=n,r[Ve]=u,a){case"dialog":Ft("cancel",r),Ft("close",r);break;case"iframe":case"object":case"embed":Ft("load",r);break;case"video":case"audio":for(a=0;a<kl.length;a++)Ft(kl[a],r);break;case"source":Ft("error",r);break;case"img":case"image":case"link":Ft("error",r),Ft("load",r);break;case"details":Ft("toggle",r);break;case"input":Ft("invalid",r),Os(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Is(r);break;case"select":Ft("invalid",r);break;case"textarea":Ft("invalid",r),Lr(r,u.value,u.defaultValue,u.children),Is(r)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||mv(r.textContent,a)?(u.popover!=null&&(Ft("beforetoggle",r),Ft("toggle",r)),u.onScroll!=null&&Ft("scroll",r),u.onScrollEnd!=null&&Ft("scrollend",r),u.onClick!=null&&(r.onclick=kc),r=!0):r=!1,r||Hs(n)}function ay(n){for(pn=n.return;pn;)switch(pn.tag){case 3:case 27:bi=!0;return;case 5:case 13:bi=!1;return;default:pn=pn.return}}function ul(n){if(n!==pn)return!1;if(!Wt)return ay(n),Wt=!0,!1;var r=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||tm(n.type,n.memoizedProps)),a=!a),a&&(r=!0),r&&We&&Hs(n),ay(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){We=ii(n.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}We=null}}else We=pn?ii(n.stateNode.nextSibling):null;return!0}function cl(){We=pn=null,Wt=!1}function hl(n){ei===null?ei=[n]:ei.push(n)}var fl=Error(s(460)),oy=Error(s(474)),kf={then:function(){}};function ly(n){return n=n.status,n==="fulfilled"||n==="rejected"}function rc(){}function uy(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(rc,rc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===fl?Error(s(483)):n;default:if(typeof r.status=="string")r.then(rc,rc);else{if(n=de,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===fl?Error(s(483)):n}throw dl=r,fl}}var dl=null;function cy(){if(dl===null)throw Error(s(459));var n=dl;return dl=null,n}var Ga=null,ml=0;function sc(n){var r=ml;return ml+=1,Ga===null&&(Ga=[]),uy(Ga,n,r)}function pl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function ac(n,r){throw r.$$typeof===l?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function hy(n){var r=n._init;return r(n._payload)}function fy(n){function r(z,k){if(n){var q=z.deletions;q===null?(z.deletions=[k],z.flags|=16):q.push(k)}}function a(z,k){if(!n)return null;for(;k!==null;)r(z,k),k=k.sibling;return null}function u(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function f(z,k){return z=Xr(z,k),z.index=0,z.sibling=null,z}function d(z,k,q){return z.index=q,n?(q=z.alternate,q!==null?(q=q.index,q<k?(z.flags|=33554434,k):q):(z.flags|=33554434,k)):(z.flags|=1048576,k)}function v(z){return n&&z.alternate===null&&(z.flags|=33554434),z}function T(z,k,q,X){return k===null||k.tag!==6?(k=Od(q,z.mode,X),k.return=z,k):(k=f(k,q),k.return=z,k)}function C(z,k,q,X){var pt=q.type;return pt===p?Y(z,k,q.props.children,X,q.key):k!==null&&(k.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===rt&&hy(pt)===k.type)?(k=f(k,q.props),pl(k,q),k.return=z,k):(k=bc(q.type,q.key,q.props,null,z.mode,X),pl(k,q),k.return=z,k)}function L(z,k,q,X){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=Nd(q,z.mode,X),k.return=z,k):(k=f(k,q.children||[]),k.return=z,k)}function Y(z,k,q,X,pt){return k===null||k.tag!==7?(k=Zs(q,z.mode,X,pt),k.return=z,k):(k=f(k,q),k.return=z,k)}function J(z,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Od(""+k,z.mode,q),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case h:return q=bc(k.type,k.key,k.props,null,z.mode,q),pl(q,k),q.return=z,q;case m:return k=Nd(k,z.mode,q),k.return=z,k;case rt:var X=k._init;return k=X(k._payload),J(z,k,q)}if(st(k)||ft(k))return k=Zs(k,z.mode,q,null),k.return=z,k;if(typeof k.then=="function")return J(z,sc(k),q);if(k.$$typeof===P)return J(z,Tc(z,k),q);ac(z,k)}return null}function F(z,k,q,X){var pt=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return pt!==null?null:T(z,k,""+q,X);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case h:return q.key===pt?C(z,k,q,X):null;case m:return q.key===pt?L(z,k,q,X):null;case rt:return pt=q._init,q=pt(q._payload),F(z,k,q,X)}if(st(q)||ft(q))return pt!==null?null:Y(z,k,q,X,null);if(typeof q.then=="function")return F(z,k,sc(q),X);if(q.$$typeof===P)return F(z,k,Tc(z,q),X);ac(z,q)}return null}function Q(z,k,q,X,pt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return z=z.get(q)||null,T(k,z,""+X,pt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case h:return z=z.get(X.key===null?q:X.key)||null,C(k,z,X,pt);case m:return z=z.get(X.key===null?q:X.key)||null,L(k,z,X,pt);case rt:var Ut=X._init;return X=Ut(X._payload),Q(z,k,q,X,pt)}if(st(X)||ft(X))return z=z.get(q)||null,Y(k,z,X,pt,null);if(typeof X.then=="function")return Q(z,k,q,sc(X),pt);if(X.$$typeof===P)return Q(z,k,q,Tc(k,X),pt);ac(k,X)}return null}function yt(z,k,q,X){for(var pt=null,Ut=null,_t=k,At=k=0,Qe=null;_t!==null&&At<q.length;At++){_t.index>At?(Qe=_t,_t=null):Qe=_t.sibling;var Zt=F(z,_t,q[At],X);if(Zt===null){_t===null&&(_t=Qe);break}n&&_t&&Zt.alternate===null&&r(z,_t),k=d(Zt,k,At),Ut===null?pt=Zt:Ut.sibling=Zt,Ut=Zt,_t=Qe}if(At===q.length)return a(z,_t),Wt&&zs(z,At),pt;if(_t===null){for(;At<q.length;At++)_t=J(z,q[At],X),_t!==null&&(k=d(_t,k,At),Ut===null?pt=_t:Ut.sibling=_t,Ut=_t);return Wt&&zs(z,At),pt}for(_t=u(_t);At<q.length;At++)Qe=Q(_t,z,At,q[At],X),Qe!==null&&(n&&Qe.alternate!==null&&_t.delete(Qe.key===null?At:Qe.key),k=d(Qe,k,At),Ut===null?pt=Qe:Ut.sibling=Qe,Ut=Qe);return n&&_t.forEach(function(is){return r(z,is)}),Wt&&zs(z,At),pt}function Nt(z,k,q,X){if(q==null)throw Error(s(151));for(var pt=null,Ut=null,_t=k,At=k=0,Qe=null,Zt=q.next();_t!==null&&!Zt.done;At++,Zt=q.next()){_t.index>At?(Qe=_t,_t=null):Qe=_t.sibling;var is=F(z,_t,Zt.value,X);if(is===null){_t===null&&(_t=Qe);break}n&&_t&&is.alternate===null&&r(z,_t),k=d(is,k,At),Ut===null?pt=is:Ut.sibling=is,Ut=is,_t=Qe}if(Zt.done)return a(z,_t),Wt&&zs(z,At),pt;if(_t===null){for(;!Zt.done;At++,Zt=q.next())Zt=J(z,Zt.value,X),Zt!==null&&(k=d(Zt,k,At),Ut===null?pt=Zt:Ut.sibling=Zt,Ut=Zt);return Wt&&zs(z,At),pt}for(_t=u(_t);!Zt.done;At++,Zt=q.next())Zt=Q(_t,z,At,Zt.value,X),Zt!==null&&(n&&Zt.alternate!==null&&_t.delete(Zt.key===null?At:Zt.key),k=d(Zt,k,At),Ut===null?pt=Zt:Ut.sibling=Zt,Ut=Zt);return n&&_t.forEach(function(gw){return r(z,gw)}),Wt&&zs(z,At),pt}function Re(z,k,q,X){if(typeof q=="object"&&q!==null&&q.type===p&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case h:t:{for(var pt=q.key;k!==null;){if(k.key===pt){if(pt=q.type,pt===p){if(k.tag===7){a(z,k.sibling),X=f(k,q.props.children),X.return=z,z=X;break t}}else if(k.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===rt&&hy(pt)===k.type){a(z,k.sibling),X=f(k,q.props),pl(X,q),X.return=z,z=X;break t}a(z,k);break}else r(z,k);k=k.sibling}q.type===p?(X=Zs(q.props.children,z.mode,X,q.key),X.return=z,z=X):(X=bc(q.type,q.key,q.props,null,z.mode,X),pl(X,q),X.return=z,z=X)}return v(z);case m:t:{for(pt=q.key;k!==null;){if(k.key===pt)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){a(z,k.sibling),X=f(k,q.children||[]),X.return=z,z=X;break t}else{a(z,k);break}else r(z,k);k=k.sibling}X=Nd(q,z.mode,X),X.return=z,z=X}return v(z);case rt:return pt=q._init,q=pt(q._payload),Re(z,k,q,X)}if(st(q))return yt(z,k,q,X);if(ft(q)){if(pt=ft(q),typeof pt!="function")throw Error(s(150));return q=pt.call(q),Nt(z,k,q,X)}if(typeof q.then=="function")return Re(z,k,sc(q),X);if(q.$$typeof===P)return Re(z,k,Tc(z,q),X);ac(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(a(z,k.sibling),X=f(k,q),X.return=z,z=X):(a(z,k),X=Od(q,z.mode,X),X.return=z,z=X),v(z)):a(z,k)}return function(z,k,q,X){try{ml=0;var pt=Re(z,k,q,X);return Ga=null,pt}catch(_t){if(_t===fl)throw _t;var Ut=Gn(29,_t,null,z.mode);return Ut.lanes=X,Ut.return=z,Ut}finally{}}}var qs=fy(!0),dy=fy(!1),Ka=Ot(null),oc=Ot(0);function my(n,r){n=or,Lt(oc,n),Lt(Ka,r),or=n|r.baseLanes}function Lf(){Lt(oc,or),Lt(Ka,Ka.current)}function Pf(){or=oc.current,Jt(Ka),Jt(oc)}var Hn=Ot(null),Ri=null;function jr(n){var r=n.alternate;Lt(Pe,Pe.current&1),Lt(Hn,n),Ri===null&&(r===null||Ka.current!==null||r.memoizedState!==null)&&(Ri=n)}function py(n){if(n.tag===22){if(Lt(Pe,Pe.current),Lt(Hn,n),Ri===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Ri=n)}}else Br()}function Br(){Lt(Pe,Pe.current),Lt(Hn,Hn.current)}function Wi(n){Jt(Hn),Ri===n&&(Ri=null),Jt(Pe)}var Pe=Ot(0);function lc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var iR=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},rR=i.unstable_scheduleCallback,sR=i.unstable_NormalPriority,Ue={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uf(){return{controller:new iR,data:new Map,refCount:0}}function gl(n){n.refCount--,n.refCount===0&&rR(sR,function(){n.controller.abort()})}var yl=null,jf=0,$a=0,Qa=null;function aR(n,r){if(yl===null){var a=yl=[];jf=0,$a=Gd(),Qa={status:"pending",value:void 0,then:function(u){a.push(u)}}}return jf++,r.then(gy,gy),r}function gy(){if(--jf===0&&yl!==null){Qa!==null&&(Qa.status="fulfilled");var n=yl;yl=null,$a=0,Qa=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function oR(n,r){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var yy=b.S;b.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&aR(n,r),yy!==null&&yy(n,r)};var Fs=Ot(null);function Bf(){var n=Fs.current;return n!==null?n:de.pooledCache}function uc(n,r){r===null?Lt(Fs,Fs.current):Lt(Fs,r.pool)}function _y(){var n=Bf();return n===null?null:{parent:Ue._currentValue,pool:n}}var zr=0,Pt=null,se=null,Ne=null,cc=!1,Ya=!1,Gs=!1,hc=0,_l=0,Xa=null,lR=0;function Ie(){throw Error(s(321))}function zf(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Rn(n[a],r[a]))return!1;return!0}function Hf(n,r,a,u,f,d){return zr=d,Pt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,b.H=n===null||n.memoizedState===null?Ks:Hr,Gs=!1,d=a(u,f),Gs=!1,Ya&&(d=Ey(r,a,u,f)),vy(n),d}function vy(n){b.H=wi;var r=se!==null&&se.next!==null;if(zr=0,Ne=se=Pt=null,cc=!1,_l=0,Xa=null,r)throw Error(s(300));n===null||Ke||(n=n.dependencies,n!==null&&Ec(n)&&(Ke=!0))}function Ey(n,r,a,u){Pt=n;var f=0;do{if(Ya&&(Xa=null),_l=0,Ya=!1,25<=f)throw Error(s(301));if(f+=1,Ne=se=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}b.H=$s,d=r(a,u)}while(Ya);return d}function uR(){var n=b.H,r=n.useState()[0];return r=typeof r.then=="function"?vl(r):r,n=n.useState()[0],(se!==null?se.memoizedState:null)!==n&&(Pt.flags|=1024),r}function qf(){var n=hc!==0;return hc=0,n}function Ff(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Gf(n){if(cc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}cc=!1}zr=0,Ne=se=Pt=null,Ya=!1,_l=hc=0,Xa=null}function vn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?Pt.memoizedState=Ne=n:Ne=Ne.next=n,Ne}function De(){if(se===null){var n=Pt.alternate;n=n!==null?n.memoizedState:null}else n=se.next;var r=Ne===null?Pt.memoizedState:Ne.next;if(r!==null)Ne=r,se=n;else{if(n===null)throw Pt.alternate===null?Error(s(467)):Error(s(310));se=n,n={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},Ne===null?Pt.memoizedState=Ne=n:Ne=Ne.next=n}return Ne}var fc;fc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function vl(n){var r=_l;return _l+=1,Xa===null&&(Xa=[]),n=uy(Xa,n,r),r=Pt,(Ne===null?r.memoizedState:Ne.next)===null&&(r=r.alternate,b.H=r===null||r.memoizedState===null?Ks:Hr),n}function dc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return vl(n);if(n.$$typeof===P)return sn(n)}throw Error(s(438,String(n)))}function Kf(n){var r=null,a=Pt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=Pt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=fc(),Pt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),u=0;u<n;u++)a[u]=ct;return r.index++,a}function Zi(n,r){return typeof r=="function"?r(n):r}function mc(n){var r=De();return $f(r,se,n)}function $f(n,r,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=n.baseQueue,d=u.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}r.baseQueue=f=d,u.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var T=v=null,C=null,L=r,Y=!1;do{var J=L.lane&-536870913;if(J!==L.lane?(Qt&J)===J:(zr&J)===J){var F=L.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),J===$a&&(Y=!0);else if((zr&F)===F){L=L.next,F===$a&&(Y=!0);continue}else J={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(T=C=J,v=d):C=C.next=J,Pt.lanes|=F,Wr|=F;J=L.action,Gs&&a(d,J),d=L.hasEagerState?L.eagerState:a(d,J)}else F={lane:J,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(T=C=F,v=d):C=C.next=F,Pt.lanes|=J,Wr|=J;L=L.next}while(L!==null&&L!==r);if(C===null?v=d:C.next=T,!Rn(d,n.memoizedState)&&(Ke=!0,Y&&(a=Qa,a!==null)))throw a;n.memoizedState=d,n.baseState=v,n.baseQueue=C,u.lastRenderedState=d}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Qf(n){var r=De(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=n(d,v.action),v=v.next;while(v!==f);Rn(d,r.memoizedState)||(Ke=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,u]}function Ty(n,r,a){var u=Pt,f=De(),d=Wt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!Rn((se||f).memoizedState,a);if(v&&(f.memoizedState=a,Ke=!0),f=f.queue,Wf(by.bind(null,u,f,n),[n]),f.getSnapshot!==r||v||Ne!==null&&Ne.memoizedState.tag&1){if(u.flags|=2048,Wa(9,Ay.bind(null,u,f,a,r),{destroy:void 0},null),de===null)throw Error(s(349));d||zr&60||Sy(u,r,a)}return a}function Sy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Pt.updateQueue,r===null?(r=fc(),Pt.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Ay(n,r,a,u){r.value=a,r.getSnapshot=u,Ry(r)&&wy(n)}function by(n,r,a){return a(function(){Ry(r)&&wy(n)})}function Ry(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Rn(n,a)}catch{return!0}}function wy(n){var r=Ur(n,2);r!==null&&gn(r,n,2)}function Yf(n){var r=vn();if(typeof n=="function"){var a=n;if(n=a(),Gs){Dn(!0);try{a()}finally{Dn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:n},r}function Cy(n,r,a,u){return n.baseState=a,$f(n,se,typeof u=="function"?u:Zi)}function cR(n,r,a,u,f){if(yc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};b.T!==null?a(!0):d.isTransition=!1,u(d),a=r.pending,a===null?(d.next=r.pending=d,Iy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Iy(n,r){var a=r.action,u=r.payload,f=n.state;if(r.isTransition){var d=b.T,v={};b.T=v;try{var T=a(f,u),C=b.S;C!==null&&C(v,T),Oy(n,r,T)}catch(L){Xf(n,r,L)}finally{b.T=d}}else try{d=a(f,u),Oy(n,r,d)}catch(L){Xf(n,r,L)}}function Oy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Ny(n,r,u)},function(u){return Xf(n,r,u)}):Ny(n,r,a)}function Ny(n,r,a){r.status="fulfilled",r.value=a,Dy(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Iy(n,a)))}function Xf(n,r,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,Dy(r),r=r.next;while(r!==u)}n.action=null}function Dy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function xy(n,r){return r}function My(n,r){if(Wt){var a=de.formState;if(a!==null){t:{var u=Pt;if(Wt){if(We){e:{for(var f=We,d=bi;f.nodeType!==8;){if(!d){f=null;break e}if(f=ii(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){We=ii(f.nextSibling),u=f.data==="F!";break t}}Hs(u)}u=!1}u&&(r=a[0])}}return a=vn(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xy,lastRenderedState:r},a.queue=u,a=Wy.bind(null,Pt,u),u.dispatch=a,u=Yf(!1),d=nd.bind(null,Pt,!1,u.queue),u=vn(),f={state:r,dispatch:null,action:n,pending:null},u.queue=f,a=cR.bind(null,Pt,f,d,a),f.dispatch=a,u.memoizedState=n,[r,a,!1]}function Vy(n){var r=De();return ky(r,se,n)}function ky(n,r,a){r=$f(n,r,xy)[0],n=mc(Zi)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?vl(r):r;var u=De(),f=u.queue,d=f.dispatch;return a!==u.memoizedState&&(Pt.flags|=2048,Wa(9,hR.bind(null,f,a),{destroy:void 0},null)),[r,d,n]}function hR(n,r){n.action=r}function Ly(n){var r=De(),a=se;if(a!==null)return ky(r,a,n);De(),r=r.memoizedState,a=De();var u=a.queue.dispatch;return a.memoizedState=n,[r,u,!1]}function Wa(n,r,a,u){return n={tag:n,create:r,inst:a,deps:u,next:null},r=Pt.updateQueue,r===null&&(r=fc(),Pt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,r.lastEffect=n),n}function Py(){return De().memoizedState}function pc(n,r,a,u){var f=vn();Pt.flags|=n,f.memoizedState=Wa(1|r,a,{destroy:void 0},u===void 0?null:u)}function gc(n,r,a,u){var f=De();u=u===void 0?null:u;var d=f.memoizedState.inst;se!==null&&u!==null&&zf(u,se.memoizedState.deps)?f.memoizedState=Wa(r,a,d,u):(Pt.flags|=n,f.memoizedState=Wa(1|r,a,d,u))}function Uy(n,r){pc(8390656,8,n,r)}function Wf(n,r){gc(2048,8,n,r)}function jy(n,r){return gc(4,2,n,r)}function By(n,r){return gc(4,4,n,r)}function zy(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Hy(n,r,a){a=a!=null?a.concat([n]):null,gc(4,4,zy.bind(null,r,n),a)}function Zf(){}function qy(n,r){var a=De();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&zf(r,u[1])?u[0]:(a.memoizedState=[n,r],n)}function Fy(n,r){var a=De();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&zf(r,u[1]))return u[0];if(u=n(),Gs){Dn(!0);try{n()}finally{Dn(!1)}}return a.memoizedState=[u,r],u}function Jf(n,r,a){return a===void 0||zr&1073741824?n.memoizedState=r:(n.memoizedState=a,n=K_(),Pt.lanes|=n,Wr|=n,a)}function Gy(n,r,a,u){return Rn(a,r)?a:Ka.current!==null?(n=Jf(n,a,u),Rn(n,r)||(Ke=!0),n):zr&42?(n=K_(),Pt.lanes|=n,Wr|=n,r):(Ke=!0,n.memoizedState=a)}function Ky(n,r,a,u,f){var d=at.p;at.p=d!==0&&8>d?d:8;var v=b.T,T={};b.T=T,nd(n,!1,r,a);try{var C=f(),L=b.S;if(L!==null&&L(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=oR(C,u);El(n,r,Y,On(n))}else El(n,r,u,On(n))}catch(J){El(n,r,{then:function(){},status:"rejected",reason:J},On())}finally{at.p=d,b.T=v}}function fR(){}function td(n,r,a,u){if(n.tag!==5)throw Error(s(476));var f=$y(n).queue;Ky(n,f,r,bt,a===null?fR:function(){return Qy(n),a(u)})}function $y(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:bt,baseState:bt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:bt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Qy(n){var r=$y(n).next.queue;El(n,r,{},On())}function ed(){return sn(Bl)}function Yy(){return De().memoizedState}function Xy(){return De().memoizedState}function dR(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=On();n=Gr(a);var u=Kr(r,n,a);u!==null&&(gn(u,r,a),Al(u,r,a)),r={cache:Uf()},n.payload=r;return}r=r.return}}function mR(n,r,a){var u=On();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},yc(n)?Zy(r,a):(a=Df(n,r,a,u),a!==null&&(gn(a,n,u),Jy(a,r,u)))}function Wy(n,r,a){var u=On();El(n,r,a,u)}function El(n,r,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(yc(n))Zy(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(f.hasEagerState=!0,f.eagerState=T,Rn(T,v))return tc(n,r,f,0),de===null&&Ju(),!1}catch{}finally{}if(a=Df(n,r,f,u),a!==null)return gn(a,n,u),Jy(a,r,u),!0}return!1}function nd(n,r,a,u){if(u={lane:2,revertLane:Gd(),action:u,hasEagerState:!1,eagerState:null,next:null},yc(n)){if(r)throw Error(s(479))}else r=Df(n,a,u,2),r!==null&&gn(r,n,2)}function yc(n){var r=n.alternate;return n===Pt||r!==null&&r===Pt}function Zy(n,r){Ya=cc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Jy(n,r,a){if(a&4194176){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,Ir(n,a)}}var wi={readContext:sn,use:dc,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie};wi.useCacheRefresh=Ie,wi.useMemoCache=Ie,wi.useHostTransitionStatus=Ie,wi.useFormState=Ie,wi.useActionState=Ie,wi.useOptimistic=Ie;var Ks={readContext:sn,use:dc,useCallback:function(n,r){return vn().memoizedState=[n,r===void 0?null:r],n},useContext:sn,useEffect:Uy,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,pc(4194308,4,zy.bind(null,r,n),a)},useLayoutEffect:function(n,r){return pc(4194308,4,n,r)},useInsertionEffect:function(n,r){pc(4,2,n,r)},useMemo:function(n,r){var a=vn();r=r===void 0?null:r;var u=n();if(Gs){Dn(!0);try{n()}finally{Dn(!1)}}return a.memoizedState=[u,r],u},useReducer:function(n,r,a){var u=vn();if(a!==void 0){var f=a(r);if(Gs){Dn(!0);try{a(r)}finally{Dn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=mR.bind(null,Pt,n),[u.memoizedState,n]},useRef:function(n){var r=vn();return n={current:n},r.memoizedState=n},useState:function(n){n=Yf(n);var r=n.queue,a=Wy.bind(null,Pt,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Zf,useDeferredValue:function(n,r){var a=vn();return Jf(a,n,r)},useTransition:function(){var n=Yf(!1);return n=Ky.bind(null,Pt,n.queue,!0,!1),vn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var u=Pt,f=vn();if(Wt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),de===null)throw Error(s(349));Qt&60||Sy(u,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Uy(by.bind(null,u,d,n),[n]),u.flags|=2048,Wa(9,Ay.bind(null,u,d,a,r),{destroy:void 0},null),a},useId:function(){var n=vn(),r=de.identifierPrefix;if(Wt){var a=Xi,u=Yi;a=(u&~(1<<32-fn(u)-1)).toString(32)+a,r=":"+r+"R"+a,a=hc++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=lR++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},useCacheRefresh:function(){return vn().memoizedState=dR.bind(null,Pt)}};Ks.useMemoCache=Kf,Ks.useHostTransitionStatus=ed,Ks.useFormState=My,Ks.useActionState=My,Ks.useOptimistic=function(n){var r=vn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=nd.bind(null,Pt,!0,a),a.dispatch=r,[n,r]};var Hr={readContext:sn,use:dc,useCallback:qy,useContext:sn,useEffect:Wf,useImperativeHandle:Hy,useInsertionEffect:jy,useLayoutEffect:By,useMemo:Fy,useReducer:mc,useRef:Py,useState:function(){return mc(Zi)},useDebugValue:Zf,useDeferredValue:function(n,r){var a=De();return Gy(a,se.memoizedState,n,r)},useTransition:function(){var n=mc(Zi)[0],r=De().memoizedState;return[typeof n=="boolean"?n:vl(n),r]},useSyncExternalStore:Ty,useId:Yy};Hr.useCacheRefresh=Xy,Hr.useMemoCache=Kf,Hr.useHostTransitionStatus=ed,Hr.useFormState=Vy,Hr.useActionState=Vy,Hr.useOptimistic=function(n,r){var a=De();return Cy(a,se,n,r)};var $s={readContext:sn,use:dc,useCallback:qy,useContext:sn,useEffect:Wf,useImperativeHandle:Hy,useInsertionEffect:jy,useLayoutEffect:By,useMemo:Fy,useReducer:Qf,useRef:Py,useState:function(){return Qf(Zi)},useDebugValue:Zf,useDeferredValue:function(n,r){var a=De();return se===null?Jf(a,n,r):Gy(a,se.memoizedState,n,r)},useTransition:function(){var n=Qf(Zi)[0],r=De().memoizedState;return[typeof n=="boolean"?n:vl(n),r]},useSyncExternalStore:Ty,useId:Yy};$s.useCacheRefresh=Xy,$s.useMemoCache=Kf,$s.useHostTransitionStatus=ed,$s.useFormState=Ly,$s.useActionState=Ly,$s.useOptimistic=function(n,r){var a=De();return se!==null?Cy(a,se,n,r):(a.baseState=n,[n,a.queue.dispatch])};function id(n,r,a,u){r=n.memoizedState,a=a(u,r),a=a==null?r:O({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var rd={isMounted:function(n){return(n=n._reactInternals)?ut(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var u=On(),f=Gr(u);f.payload=r,a!=null&&(f.callback=a),r=Kr(n,f,u),r!==null&&(gn(r,n,u),Al(r,n,u))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var u=On(),f=Gr(u);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Kr(n,f,u),r!==null&&(gn(r,n,u),Al(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=On(),u=Gr(a);u.tag=2,r!=null&&(u.callback=r),r=Kr(n,u,a),r!==null&&(gn(r,n,a),Al(r,n,a))}};function t_(n,r,a,u,f,d,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,d,v):r.prototype&&r.prototype.isPureReactComponent?!ol(a,u)||!ol(f,d):!0}function e_(n,r,a,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==n&&rd.enqueueReplaceState(r,r.state,null)}function Qs(n,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(n=n.defaultProps){a===r&&(a=O({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var _c=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function n_(n){_c(n)}function i_(n){console.error(n)}function r_(n){_c(n)}function vc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function s_(n,r,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function sd(n,r,a){return a=Gr(a),a.tag=3,a.payload={element:null},a.callback=function(){vc(n,r)},a}function a_(n){return n=Gr(n),n.tag=3,n}function o_(n,r,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=u.value;n.payload=function(){return f(d)},n.callback=function(){s_(r,a,u)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){s_(r,a,u),typeof f!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function pR(n,r,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&Sl(r,a,f,!0),a=Hn.current,a!==null){switch(a.tag){case 13:return Ri===null?Bd():a.alternate===null&&be===0&&(be=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===kf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),Hd(n,u,f)),!1;case 22:return a.flags|=65536,u===kf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),Hd(n,u,f)),!1}throw Error(s(435,a.tag))}return Hd(n,u,f),Bd(),!1}if(Wt)return r=Hn.current,r!==null?(!(r.flags&65536)&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Vf&&(n=Error(s(422),{cause:u}),hl(jn(n,a)))):(u!==Vf&&(r=Error(s(423),{cause:u}),hl(jn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=jn(u,a),f=sd(n.stateNode,u,f),Ed(n,f),be!==4&&(be=2)),!1;var d=Error(s(520),{cause:u});if(d=jn(d,a),Dl===null?Dl=[d]:Dl.push(d),be!==4&&(be=2),r===null)return!0;u=jn(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=sd(a.stateNode,u,n),Ed(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Zr===null||!Zr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=a_(f),o_(f,n,a,u),Ed(a,f),!1}a=a.return}while(a!==null);return!1}var l_=Error(s(461)),Ke=!1;function Ze(n,r,a,u){r.child=n===null?dy(r,null,a,u):qs(r,n.child,a,u)}function u_(n,r,a,u,f){a=a.render;var d=r.ref;if("ref"in u){var v={};for(var T in u)T!=="ref"&&(v[T]=u[T])}else v=u;return Xs(r),u=Hf(n,r,a,v,d,f),T=qf(),n!==null&&!Ke?(Ff(n,r,f),Ji(n,r,f)):(Wt&&T&&xf(r),r.flags|=1,Ze(n,r,u,f),r.child)}function c_(n,r,a,u,f){if(n===null){var d=a.type;return typeof d=="function"&&!Id(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,h_(n,r,d,u,f)):(n=bc(a.type,null,u,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!md(n,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:ol,a(v,u)&&n.ref===r.ref)return Ji(n,r,f)}return r.flags|=1,n=Xr(d,u),n.ref=r.ref,n.return=r,r.child=n}function h_(n,r,a,u,f){if(n!==null){var d=n.memoizedProps;if(ol(d,u)&&n.ref===r.ref)if(Ke=!1,r.pendingProps=u=d,md(n,f))n.flags&131072&&(Ke=!0);else return r.lanes=n.lanes,Ji(n,r,f)}return ad(n,r,a,u,f)}function f_(n,r,a){var u=r.pendingProps,f=u.children,d=(r.stateNode._pendingVisibility&2)!==0,v=n!==null?n.memoizedState:null;if(Tl(n,r),u.mode==="hidden"||d){if(r.flags&128){if(u=v!==null?v.baseLanes|a:a,n!==null){for(f=r.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~u}else r.childLanes=0,r.child=null;return d_(n,r,u,a)}if(a&536870912)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&uc(r,v!==null?v.cachePool:null),v!==null?my(r,v):Lf(),py(r);else return r.lanes=r.childLanes=536870912,d_(n,r,v!==null?v.baseLanes|a:a,a)}else v!==null?(uc(r,v.cachePool),my(r,v),Br(),r.memoizedState=null):(n!==null&&uc(r,null),Lf(),Br());return Ze(n,r,f,a),r.child}function d_(n,r,a,u){var f=Bf();return f=f===null?null:{parent:Ue._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&uc(r,null),Lf(),py(r),n!==null&&Sl(n,r,u,!0),null}function Tl(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=2097664)}}function ad(n,r,a,u,f){return Xs(r),a=Hf(n,r,a,u,void 0,f),u=qf(),n!==null&&!Ke?(Ff(n,r,f),Ji(n,r,f)):(Wt&&u&&xf(r),r.flags|=1,Ze(n,r,a,f),r.child)}function m_(n,r,a,u,f,d){return Xs(r),r.updateQueue=null,a=Ey(r,u,a,f),vy(n),u=qf(),n!==null&&!Ke?(Ff(n,r,d),Ji(n,r,d)):(Wt&&u&&xf(r),r.flags|=1,Ze(n,r,a,d),r.child)}function p_(n,r,a,u,f){if(Xs(r),r.stateNode===null){var d=Ha,v=a.contextType;typeof v=="object"&&v!==null&&(d=sn(v)),d=new a(u,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=rd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=u,d.state=r.memoizedState,d.refs={},_d(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?sn(v):Ha,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(id(r,a,v,u),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&rd.enqueueReplaceState(d,d.state,null),Rl(r,u,d,f),bl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){d=r.stateNode;var T=r.memoizedProps,C=Qs(a,T);d.props=C;var L=d.context,Y=a.contextType;v=Ha,typeof Y=="object"&&Y!==null&&(v=sn(Y));var J=a.getDerivedStateFromProps;Y=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||L!==v)&&e_(r,d,u,v),Fr=!1;var F=r.memoizedState;d.state=F,Rl(r,u,d,f),bl(),L=r.memoizedState,T||F!==L||Fr?(typeof J=="function"&&(id(r,a,J,u),L=r.memoizedState),(C=Fr||t_(r,a,C,u,F,L,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=L),d.props=u,d.state=L,d.context=v,u=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{d=r.stateNode,vd(n,r),v=r.memoizedProps,Y=Qs(a,v),d.props=Y,J=r.pendingProps,F=d.context,L=a.contextType,C=Ha,typeof L=="object"&&L!==null&&(C=sn(L)),T=a.getDerivedStateFromProps,(L=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||F!==C)&&e_(r,d,u,C),Fr=!1,F=r.memoizedState,d.state=F,Rl(r,u,d,f),bl();var Q=r.memoizedState;v!==J||F!==Q||Fr||n!==null&&n.dependencies!==null&&Ec(n.dependencies)?(typeof T=="function"&&(id(r,a,T,u),Q=r.memoizedState),(Y=Fr||t_(r,a,Y,u,F,Q,C)||n!==null&&n.dependencies!==null&&Ec(n.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(u,Q,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(u,Q,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&F===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&F===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Q),d.props=u,d.state=Q,d.context=C,u=Y):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&F===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&F===n.memoizedState||(r.flags|=1024),u=!1)}return d=u,Tl(n,r),u=(r.flags&128)!==0,d||u?(d=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&u?(r.child=qs(r,n.child,null,f),r.child=qs(r,null,a,f)):Ze(n,r,a,f),r.memoizedState=d.state,n=r.child):n=Ji(n,r,f),n}function g_(n,r,a,u){return cl(),r.flags|=256,Ze(n,r,a,u),r.child}var od={dehydrated:null,treeContext:null,retryLane:0};function ld(n){return{baseLanes:n,cachePool:_y()}}function ud(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Kn),n}function y_(n,r,a){var u=r.pendingProps,f=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=n!==null&&n.memoizedState===null?!1:(Pe.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,n===null){if(Wt){if(f?jr(r):Br(),Wt){var T=We,C;if(C=T){t:{for(C=T,T=bi;C.nodeType!==8;){if(!T){T=null;break t}if(C=ii(C.nextSibling),C===null){T=null;break t}}T=C}T!==null?(r.memoizedState={dehydrated:T,treeContext:Bs!==null?{id:Yi,overflow:Xi}:null,retryLane:536870912},C=Gn(18,null,null,0),C.stateNode=T,C.return=r,r.child=C,pn=r,We=null,C=!0):C=!1}C||Hs(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?r.lanes=16:r.lanes=536870912,null;Wi(r)}return T=u.children,u=u.fallback,f?(Br(),f=r.mode,T=hd({mode:"hidden",children:T},f),u=Zs(u,f,a,null),T.return=r,u.return=r,T.sibling=u,r.child=T,f=r.child,f.memoizedState=ld(a),f.childLanes=ud(n,v,a),r.memoizedState=od,u):(jr(r),cd(r,T))}if(C=n.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)r.flags&256?(jr(r),r.flags&=-257,r=fd(n,r,a)):r.memoizedState!==null?(Br(),r.child=n.child,r.flags|=128,r=null):(Br(),f=u.fallback,T=r.mode,u=hd({mode:"visible",children:u.children},T),f=Zs(f,T,a,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,qs(r,n.child,null,a),u=r.child,u.memoizedState=ld(a),u.childLanes=ud(n,v,a),r.memoizedState=od,r=f);else if(jr(r),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var L=v.dgst;v=L,u=Error(s(419)),u.stack="",u.digest=v,hl({value:u,source:null,stack:null}),r=fd(n,r,a)}else if(Ke||Sl(n,r,a,!1),v=(a&n.childLanes)!==0,Ke||v){if(v=de,v!==null){if(u=a&-a,u&42)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=u&(v.suspendedLanes|a)?0:u,u!==0&&u!==C.retryLane)throw C.retryLane=u,Ur(n,u),gn(v,n,u),l_}T.data==="$?"||Bd(),r=fd(n,r,a)}else T.data==="$?"?(r.flags|=128,r.child=n.child,r=NR.bind(null,n),T._reactRetry=r,r=null):(n=C.treeContext,We=ii(T.nextSibling),pn=r,Wt=!0,ei=null,bi=!1,n!==null&&(Bn[zn++]=Yi,Bn[zn++]=Xi,Bn[zn++]=Bs,Yi=n.id,Xi=n.overflow,Bs=r),r=cd(r,u.children),r.flags|=4096);return r}return f?(Br(),f=u.fallback,T=r.mode,C=n.child,L=C.sibling,u=Xr(C,{mode:"hidden",children:u.children}),u.subtreeFlags=C.subtreeFlags&31457280,L!==null?f=Xr(L,f):(f=Zs(f,T,a,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,T=n.child.memoizedState,T===null?T=ld(a):(C=T.cachePool,C!==null?(L=Ue._currentValue,C=C.parent!==L?{parent:L,pool:L}:C):C=_y(),T={baseLanes:T.baseLanes|a,cachePool:C}),f.memoizedState=T,f.childLanes=ud(n,v,a),r.memoizedState=od,u):(jr(r),a=n.child,n=a.sibling,a=Xr(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,n!==null&&(v=r.deletions,v===null?(r.deletions=[n],r.flags|=16):v.push(n)),r.child=a,r.memoizedState=null,a)}function cd(n,r){return r=hd({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function hd(n,r){return q_(n,r,0,null)}function fd(n,r,a){return qs(r,n.child,null,a),n=cd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function __(n,r,a){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),gd(n.return,r,a)}function dd(n,r,a,u,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=u,d.tail=a,d.tailMode=f)}function v_(n,r,a){var u=r.pendingProps,f=u.revealOrder,d=u.tail;if(Ze(n,r,u.children,a),u=Pe.current,u&2)u=u&1|2,r.flags|=128;else{if(n!==null&&n.flags&128)t:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&__(n,a,r);else if(n.tag===19)__(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break t;for(;n.sibling===null;){if(n.return===null||n.return===r)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(Lt(Pe,u),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&lc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),dd(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&lc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}dd(r,!0,a,null,d);break;case"together":dd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ji(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Wr|=r.lanes,!(a&r.childLanes))if(n!==null){if(Sl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Xr(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Xr(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function md(n,r){return n.lanes&r?!0:(n=n.dependencies,!!(n!==null&&Ec(n)))}function gR(n,r,a){switch(r.tag){case 3:Vt(r,r.stateNode.containerInfo),qr(r,Ue,n.memoizedState.cache),cl();break;case 27:case 5:Sn(r);break;case 4:Vt(r,r.stateNode.containerInfo);break;case 10:qr(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(jr(r),r.flags|=128,null):a&r.child.childLanes?y_(n,r,a):(jr(r),n=Ji(n,r,a),n!==null?n.sibling:null);jr(r);break;case 19:var f=(n.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(Sl(n,r,a,!1),u=(a&r.childLanes)!==0),f){if(u)return v_(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Lt(Pe,Pe.current),u)break;return null;case 22:case 23:return r.lanes=0,f_(n,r,a);case 24:qr(r,Ue,n.memoizedState.cache)}return Ji(n,r,a)}function E_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Ke=!0;else{if(!md(n,a)&&!(r.flags&128))return Ke=!1,gR(n,r,a);Ke=!!(n.flags&131072)}else Ke=!1,Wt&&r.flags&1048576&&ry(r,ic,r.index);switch(r.lanes=0,r.tag){case 16:t:{n=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")Id(u)?(n=Qs(u,n),r.tag=1,r=p_(null,r,u,n,a)):(r.tag=0,r=ad(null,r,u,n,a));else{if(u!=null){if(f=u.$$typeof,f===U){r.tag=11,r=u_(null,r,u,n,a);break t}else if(f===it){r.tag=14,r=c_(null,r,u,n,a);break t}}throw r=w(u)||u,Error(s(306,r,""))}}return r;case 0:return ad(n,r,r.type,r.pendingProps,a);case 1:return u=r.type,f=Qs(u,r.pendingProps),p_(n,r,u,f,a);case 3:t:{if(Vt(r,r.stateNode.containerInfo),n===null)throw Error(s(387));var d=r.pendingProps;f=r.memoizedState,u=f.element,vd(n,r),Rl(r,d,null,a);var v=r.memoizedState;if(d=v.cache,qr(r,Ue,d),d!==f.cache&&yd(r,[Ue],a,!0),bl(),d=v.element,f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=g_(n,r,d,a);break t}else if(d!==u){u=jn(Error(s(424)),r),hl(u),r=g_(n,r,d,a);break t}else for(We=ii(r.stateNode.containerInfo.firstChild),pn=r,Wt=!0,ei=null,bi=!0,a=dy(r,null,d,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(cl(),d===u){r=Ji(n,r,a);break t}Ze(n,r,d,a)}r=r.child}return r;case 26:return Tl(n,r),n===null?(a=Av(r.type,null,r.pendingProps,null))?r.memoizedState=a:Wt||(a=r.type,n=r.pendingProps,u=Lc(Ee.current).createElement(a),u[qe]=r,u[Ve]=n,Je(u,a,n),ge(u),r.stateNode=u):r.memoizedState=Av(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Sn(r),n===null&&Wt&&(u=r.stateNode=Ev(r.type,r.pendingProps,Ee.current),pn=r,bi=!0,We=ii(u.firstChild)),u=r.pendingProps.children,n!==null||Wt?Ze(n,r,u,a):r.child=qs(r,null,u,a),Tl(n,r),r.child;case 5:return n===null&&Wt&&((f=u=We)&&(u=KR(u,r.type,r.pendingProps,bi),u!==null?(r.stateNode=u,pn=r,We=ii(u.firstChild),bi=!1,f=!0):f=!1),f||Hs(r)),Sn(r),f=r.type,d=r.pendingProps,v=n!==null?n.memoizedProps:null,u=d.children,tm(f,d)?u=null:v!==null&&tm(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=Hf(n,r,uR,null,null,a),Bl._currentValue=f),Tl(n,r),Ze(n,r,u,a),r.child;case 6:return n===null&&Wt&&((n=a=We)&&(a=$R(a,r.pendingProps,bi),a!==null?(r.stateNode=a,pn=r,We=null,n=!0):n=!1),n||Hs(r)),null;case 13:return y_(n,r,a);case 4:return Vt(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=qs(r,null,u,a):Ze(n,r,u,a),r.child;case 11:return u_(n,r,r.type,r.pendingProps,a);case 7:return Ze(n,r,r.pendingProps,a),r.child;case 8:return Ze(n,r,r.pendingProps.children,a),r.child;case 12:return Ze(n,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,qr(r,r.type,u.value),Ze(n,r,u.children,a),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,Xs(r),f=sn(f),u=u(f),r.flags|=1,Ze(n,r,u,a),r.child;case 14:return c_(n,r,r.type,r.pendingProps,a);case 15:return h_(n,r,r.type,r.pendingProps,a);case 19:return v_(n,r,a);case 22:return f_(n,r,a);case 24:return Xs(r),u=sn(Ue),n===null?(f=Bf(),f===null&&(f=de,d=Uf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:u,cache:f},_d(r),qr(r,Ue,f)):(n.lanes&a&&(vd(n,r),Rl(r,null,null,a),bl()),f=n.memoizedState,d=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),qr(r,Ue,u)):(u=d.cache,qr(r,Ue,u),u!==f.cache&&yd(r,[Ue],a,!0))),Ze(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var pd=Ot(null),Ys=null,tr=null;function qr(n,r,a){Lt(pd,r._currentValue),r._currentValue=a}function er(n){n._currentValue=pd.current,Jt(pd)}function gd(n,r,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===a)break;n=n.return}}function yd(n,r,a,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=f;for(var C=0;C<r.length;C++)if(T.context===r[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),gd(d.return,a,n),u||(v=null);break t}d=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),gd(v,a,n),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===n){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Sl(n,r,a,u){n=null;for(var f=r,d=!1;f!==null;){if(!d){if(f.flags&524288)d=!0;else if(f.flags&262144)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=f.type;Rn(f.pendingProps.value,v.value)||(n!==null?n.push(T):n=[T])}}else if(f===He.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Bl):n=[Bl])}f=f.return}n!==null&&yd(r,n,a,u),r.flags|=262144}function Ec(n){for(n=n.firstContext;n!==null;){if(!Rn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Xs(n){Ys=n,tr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function sn(n){return T_(Ys,n)}function Tc(n,r){return Ys===null&&Xs(n),T_(n,r)}function T_(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},tr===null){if(n===null)throw Error(s(308));tr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else tr=tr.next=r;return a}var Fr=!1;function _d(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Gr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Kr(n,r,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,_e&2){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=ec(n),ny(n,null,a),r}return tc(n,u,r,a),ec(n)}function Al(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,Ir(n,a)}}function Ed(n,r){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Td=!1;function bl(){if(Td){var n=Qa;if(n!==null)throw n}}function Rl(n,r,a,u){Td=!1;var f=n.updateQueue;Fr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var C=T,L=C.next;C.next=null,v===null?d=L:v.next=L,v=C;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=L:T.next=L,Y.lastBaseUpdate=C))}if(d!==null){var J=f.baseState;v=0,Y=L=C=null,T=d;do{var F=T.lane&-536870913,Q=F!==T.lane;if(Q?(Qt&F)===F:(u&F)===F){F!==0&&F===$a&&(Td=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var yt=n,Nt=T;F=r;var Re=a;switch(Nt.tag){case 1:if(yt=Nt.payload,typeof yt=="function"){J=yt.call(Re,J,F);break t}J=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=Nt.payload,F=typeof yt=="function"?yt.call(Re,J,F):yt,F==null)break t;J=O({},J,F);break t;case 2:Fr=!0}}F=T.callback,F!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(L=Y=Q,C=J):Y=Y.next=Q,v|=F;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);Y===null&&(C=J),f.baseState=C,f.firstBaseUpdate=L,f.lastBaseUpdate=Y,d===null&&(f.shared.lanes=0),Wr|=v,n.lanes=v,n.memoizedState=J}}function S_(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function A_(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)S_(a[n],r)}function wl(n,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&n)===n){u=void 0;var d=a.create,v=a.inst;u=d(),v.destroy=u}a=a.next}while(a!==f)}}catch(T){ce(r,r.return,T)}}function $r(n,r,a){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var d=f.next;u=d;do{if((u.tag&n)===n){var v=u.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=r;var C=a;try{T()}catch(L){ce(f,C,L)}}}u=u.next}while(u!==d)}}catch(L){ce(r,r.return,L)}}function b_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{A_(r,a)}catch(u){ce(n,n.return,u)}}}function R_(n,r,a){a.props=Qs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){ce(n,r,u)}}function Ws(n,r){try{var a=n.ref;if(a!==null){var u=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(d){ce(n,r,d)}}function wn(n,r){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){ce(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ce(n,r,f)}else a.current=null}function w_(n){var r=n.type,a=n.memoizedProps,u=n.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){ce(n,n.return,f)}}function C_(n,r,a){try{var u=n.stateNode;zR(u,n.type,a,r),u[Ve]=r}catch(f){ce(n,n.return,f)}}function I_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Sd(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||I_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ad(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=kc));else if(u!==4&&u!==27&&(n=n.child,n!==null))for(Ad(n,r,a),n=n.sibling;n!==null;)Ad(n,r,a),n=n.sibling}function Sc(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(u!==4&&u!==27&&(n=n.child,n!==null))for(Sc(n,r,a),n=n.sibling;n!==null;)Sc(n,r,a),n=n.sibling}var nr=!1,Ae=!1,bd=!1,O_=typeof WeakSet=="function"?WeakSet:Set,$e=null,N_=!1;function yR(n,r){if(n=n.containerInfo,Zd=Hc,n=$g(n),wf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,C=-1,L=0,Y=0,J=n,F=null;e:for(;;){for(var Q;J!==a||f!==0&&J.nodeType!==3||(T=v+f),J!==d||u!==0&&J.nodeType!==3||(C=v+u),J.nodeType===3&&(v+=J.nodeValue.length),(Q=J.firstChild)!==null;)F=J,J=Q;for(;;){if(J===n)break e;if(F===a&&++L===f&&(T=v),F===d&&++Y===u&&(C=v),(Q=J.nextSibling)!==null)break;J=F,F=J.parentNode}J=Q}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jd={focusedElem:n,selectionRange:a},Hc=!1,$e=r;$e!==null;)if(r=$e,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,$e=n;else for(;$e!==null;){switch(r=$e,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,u=a.stateNode;try{var yt=Qs(a.type,f,a.elementType===a.type);n=u.getSnapshotBeforeUpdate(yt,d),u.__reactInternalSnapshotBeforeUpdate=n}catch(Nt){ce(a,a.return,Nt)}}break;case 3:if(n&1024){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)im(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":im(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,$e=n;break}$e=r.return}return yt=N_,N_=!1,yt}function D_(n,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:rr(n,a),u&4&&wl(5,a);break;case 1:if(rr(n,a),u&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(T){ce(a,a.return,T)}else{var f=Qs(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(T){ce(a,a.return,T)}}u&64&&b_(a),u&512&&Ws(a,a.return);break;case 3:if(rr(n,a),u&64&&(u=a.updateQueue,u!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{A_(u,n)}catch(T){ce(a,a.return,T)}}break;case 26:rr(n,a),u&512&&Ws(a,a.return);break;case 27:case 5:rr(n,a),r===null&&u&4&&w_(a),u&512&&Ws(a,a.return);break;case 12:rr(n,a);break;case 13:rr(n,a),u&4&&V_(n,a);break;case 22:if(f=a.memoizedState!==null||nr,!f){r=r!==null&&r.memoizedState!==null||Ae;var d=nr,v=Ae;nr=f,(Ae=r)&&!v?Qr(n,a,(a.subtreeFlags&8772)!==0):rr(n,a),nr=d,Ae=v}u&512&&(a.memoizedProps.mode==="manual"?Ws(a,a.return):wn(a,a.return));break;default:rr(n,a)}}function x_(n){var r=n.alternate;r!==null&&(n.alternate=null,x_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Cs(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var xe=null,Cn=!1;function ir(n,r,a){for(a=a.child;a!==null;)M_(n,r,a),a=a.sibling}function M_(n,r,a){if(fe&&typeof fe.onCommitFiberUnmount=="function")try{fe.onCommitFiberUnmount(qt,a)}catch{}switch(a.tag){case 26:Ae||wn(a,r),ir(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ae||wn(a,r);var u=xe,f=Cn;for(xe=a.stateNode,ir(n,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);Cs(a),xe=u,Cn=f;break;case 5:Ae||wn(a,r);case 6:f=xe;var d=Cn;if(xe=null,ir(n,r,a),xe=f,Cn=d,xe!==null)if(Cn)try{n=xe,u=a.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)}catch(v){ce(a,r,v)}else try{xe.removeChild(a.stateNode)}catch(v){ce(a,r,v)}break;case 18:xe!==null&&(Cn?(r=xe,a=a.stateNode,r.nodeType===8?nm(r.parentNode,a):r.nodeType===1&&nm(r,a),Fl(r)):nm(xe,a.stateNode));break;case 4:u=xe,f=Cn,xe=a.stateNode.containerInfo,Cn=!0,ir(n,r,a),xe=u,Cn=f;break;case 0:case 11:case 14:case 15:Ae||$r(2,a,r),Ae||$r(4,a,r),ir(n,r,a);break;case 1:Ae||(wn(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&R_(a,r,u)),ir(n,r,a);break;case 21:ir(n,r,a);break;case 22:Ae||wn(a,r),Ae=(u=Ae)||a.memoizedState!==null,ir(n,r,a),Ae=u;break;default:ir(n,r,a)}}function V_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Fl(n)}catch(a){ce(r,r.return,a)}}function _R(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new O_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new O_),r;default:throw Error(s(435,n.tag))}}function Rd(n,r){var a=_R(n);r.forEach(function(u){var f=DR.bind(null,n,u);a.has(u)||(a.add(u),u.then(f,f))})}function qn(n,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],d=n,v=r,T=v;t:for(;T!==null;){switch(T.tag){case 27:case 5:xe=T.stateNode,Cn=!1;break t;case 3:xe=T.stateNode.containerInfo,Cn=!0;break t;case 4:xe=T.stateNode.containerInfo,Cn=!0;break t}T=T.return}if(xe===null)throw Error(s(160));M_(d,v,f),xe=null,Cn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)k_(r,n),r=r.sibling}var ni=null;function k_(n,r){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:qn(r,n),Fn(n),u&4&&($r(3,n,n.return),wl(3,n),$r(5,n,n.return));break;case 1:qn(r,n),Fn(n),u&512&&(Ae||a===null||wn(a,a.return)),u&64&&nr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=ni;if(qn(r,n),Fn(n),u&512&&(Ae||a===null||wn(a,a.return)),u&4){var d=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){t:{u=n.type,a=n.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Nr]||d[qe]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(u),f.head.insertBefore(d,f.querySelector("head > title"))),Je(d,u,a),d[qe]=n,ge(d),u=d;break t;case"link":var v=wv("link","href",f).get(u+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=f.createElement(u),Je(d,u,a),f.head.appendChild(d);break;case"meta":if(v=wv("meta","content",f).get(u+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=f.createElement(u),Je(d,u,a),f.head.appendChild(d);break;default:throw Error(s(468,u))}d[qe]=n,ge(d),u=d}n.stateNode=u}else Cv(f,n.type,n.stateNode);else n.stateNode=Rv(f,u,n.memoizedProps);else d!==u?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,u===null?Cv(f,n.type,n.stateNode):Rv(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&C_(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(u&4&&n.alternate===null){f=n.stateNode,d=n.memoizedProps;try{for(var C=f.firstChild;C;){var L=C.nextSibling,Y=C.nodeName;C[Nr]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&C.rel.toLowerCase()==="stylesheet"||f.removeChild(C),C=L}for(var J=n.type,F=f.attributes;F.length;)f.removeAttributeNode(F[0]);Je(f,J,d),f[qe]=n,f[Ve]=d}catch(yt){ce(n,n.return,yt)}}case 5:if(qn(r,n),Fn(n),u&512&&(Ae||a===null||wn(a,a.return)),n.flags&32){f=n.stateNode;try{Vn(f,"")}catch(yt){ce(n,n.return,yt)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,C_(n,f,a!==null?a.memoizedProps:f)),u&1024&&(bd=!0);break;case 6:if(qn(r,n),Fn(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(yt){ce(n,n.return,yt)}}break;case 3:if(jc=null,f=ni,ni=Pc(r.containerInfo),qn(r,n),ni=f,Fn(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Fl(r.containerInfo)}catch(yt){ce(n,n.return,yt)}bd&&(bd=!1,L_(n));break;case 4:u=ni,ni=Pc(n.stateNode.containerInfo),qn(r,n),Fn(n),ni=u;break;case 12:qn(r,n),Fn(n);break;case 13:qn(r,n),Fn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vd=Te()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Rd(n,u)));break;case 22:if(u&512&&(Ae||a===null||wn(a,a.return)),C=n.memoizedState!==null,L=a!==null&&a.memoizedState!==null,Y=nr,J=Ae,nr=Y||C,Ae=J||L,qn(r,n),Ae=J,nr=Y,Fn(n),r=n.stateNode,r._current=n,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,u&8192&&(r._visibility=C?r._visibility&-2:r._visibility|1,C&&(r=nr||Ae,a===null||L||r||Za(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))t:for(a=null,r=n;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){L=a=r;try{if(f=L.stateNode,C)d=f.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=L.stateNode,T=L.memoizedProps.style;var Q=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(yt){ce(L,L.return,yt)}}}else if(r.tag===6){if(a===null){L=r;try{L.stateNode.nodeValue=C?"":L.memoizedProps}catch(yt){ce(L,L.return,yt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break t;for(;r.sibling===null;){if(r.return===null||r.return===n)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Rd(n,a))));break;case 19:qn(r,n),Fn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Rd(n,u)));break;case 21:break;default:qn(r,n),Fn(n)}}function Fn(n){var r=n.flags;if(r&2){try{if(n.tag!==27){t:{for(var a=n.return;a!==null;){if(I_(a)){var u=a;break t}a=a.return}throw Error(s(160))}switch(u.tag){case 27:var f=u.stateNode,d=Sd(n);Sc(n,d,f);break;case 5:var v=u.stateNode;u.flags&32&&(Vn(v,""),u.flags&=-33);var T=Sd(n);Sc(n,T,v);break;case 3:case 4:var C=u.stateNode.containerInfo,L=Sd(n);Ad(n,L,C);break;default:throw Error(s(161))}}}catch(Y){ce(n,n.return,Y)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function L_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;L_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function rr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)D_(n,r.alternate,r),r=r.sibling}function Za(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:$r(4,r,r.return),Za(r);break;case 1:wn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&R_(r,r.return,a),Za(r);break;case 26:case 27:case 5:wn(r,r.return),Za(r);break;case 22:wn(r,r.return),r.memoizedState===null&&Za(r);break;default:Za(r)}n=n.sibling}}function Qr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=n,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Qr(f,d,a),wl(4,d);break;case 1:if(Qr(f,d,a),u=d,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(L){ce(u,u.return,L)}if(u=d,f=u.updateQueue,f!==null){var T=u.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)S_(C[f],T)}catch(L){ce(u,u.return,L)}}a&&v&64&&b_(d),Ws(d,d.return);break;case 26:case 27:case 5:Qr(f,d,a),a&&u===null&&v&4&&w_(d),Ws(d,d.return);break;case 12:Qr(f,d,a);break;case 13:Qr(f,d,a),a&&v&4&&V_(f,d);break;case 22:d.memoizedState===null&&Qr(f,d,a),Ws(d,d.return);break;default:Qr(f,d,a)}r=r.sibling}}function wd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&gl(a))}function Cd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&gl(n))}function Yr(n,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)P_(n,r,a,u),r=r.sibling}function P_(n,r,a,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Yr(n,r,a,u),f&2048&&wl(9,r);break;case 3:Yr(n,r,a,u),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&gl(n)));break;case 12:if(f&2048){Yr(n,r,a,u),n=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){ce(r,r.return,C)}}else Yr(n,r,a,u);break;case 23:break;case 22:d=r.stateNode,r.memoizedState!==null?d._visibility&4?Yr(n,r,a,u):Cl(n,r):d._visibility&4?Yr(n,r,a,u):(d._visibility|=4,Ja(n,r,a,u,(r.subtreeFlags&10256)!==0)),f&2048&&wd(r.alternate,r);break;case 24:Yr(n,r,a,u),f&2048&&Cd(r.alternate,r);break;default:Yr(n,r,a,u)}}function Ja(n,r,a,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,v=r,T=a,C=u,L=v.flags;switch(v.tag){case 0:case 11:case 15:Ja(d,v,T,C,f),wl(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&4?Ja(d,v,T,C,f):Cl(d,v):(Y._visibility|=4,Ja(d,v,T,C,f)),f&&L&2048&&wd(v.alternate,v);break;case 24:Ja(d,v,T,C,f),f&&L&2048&&Cd(v.alternate,v);break;default:Ja(d,v,T,C,f)}r=r.sibling}}function Cl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,u=r,f=u.flags;switch(u.tag){case 22:Cl(a,u),f&2048&&wd(u.alternate,u);break;case 24:Cl(a,u),f&2048&&Cd(u.alternate,u);break;default:Cl(a,u)}r=r.sibling}}var Il=8192;function to(n){if(n.subtreeFlags&Il)for(n=n.child;n!==null;)U_(n),n=n.sibling}function U_(n){switch(n.tag){case 26:to(n),n.flags&Il&&n.memoizedState!==null&&aw(ni,n.memoizedState,n.memoizedProps);break;case 5:to(n);break;case 3:case 4:var r=ni;ni=Pc(n.stateNode.containerInfo),to(n),ni=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Il,Il=16777216,to(n),Il=r):to(n));break;default:to(n)}}function j_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Ol(n){var r=n.deletions;if(n.flags&16){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];$e=u,z_(u,n)}j_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)B_(n),n=n.sibling}function B_(n){switch(n.tag){case 0:case 11:case 15:Ol(n),n.flags&2048&&$r(9,n,n.return);break;case 3:Ol(n);break;case 12:Ol(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&4&&(n.return===null||n.return.tag!==13)?(r._visibility&=-5,Ac(n)):Ol(n);break;default:Ol(n)}}function Ac(n){var r=n.deletions;if(n.flags&16){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];$e=u,z_(u,n)}j_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:$r(8,r,r.return),Ac(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Ac(r));break;default:Ac(r)}n=n.sibling}}function z_(n,r){for(;$e!==null;){var a=$e;switch(a.tag){case 0:case 11:case 15:$r(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:gl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,$e=u;else t:for(a=n;$e!==null;){u=$e;var f=u.sibling,d=u.return;if(x_(u),u===a){$e=null;break t}if(f!==null){f.return=d,$e=f;break t}$e=d}}}function vR(n,r,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(n,r,a,u){return new vR(n,r,a,u)}function Id(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Xr(n,r){var a=n.alternate;return a===null?(a=Gn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function H_(n,r){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function bc(n,r,a,u,f,d){var v=0;if(u=n,typeof n=="function")Id(n)&&(v=1);else if(typeof n=="string")v=rw(n,a,te.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case p:return Zs(a.children,f,d,r);case g:v=8,f|=24;break;case E:return n=Gn(12,a,r,f|2),n.elementType=E,n.lanes=d,n;case K:return n=Gn(13,a,r,f),n.elementType=K,n.lanes=d,n;case B:return n=Gn(19,a,r,f),n.elementType=B,n.lanes=d,n;case et:return q_(a,f,d,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case S:case P:v=10;break t;case R:v=9;break t;case U:v=11;break t;case it:v=14;break t;case rt:v=16,u=null;break t}v=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=Gn(v,a,r,f),r.elementType=n,r.type=u,r.lanes=d,r}function Zs(n,r,a,u){return n=Gn(7,n,u,r),n.lanes=a,n}function q_(n,r,a,u){n=Gn(22,n,u,r),n.elementType=et,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=f._current;if(d===null)throw Error(s(456));if(!(f._pendingVisibility&2)){var v=Ur(d,2);v!==null&&(f._pendingVisibility|=2,gn(v,d,2))}},attach:function(){var d=f._current;if(d===null)throw Error(s(456));if(f._pendingVisibility&2){var v=Ur(d,2);v!==null&&(f._pendingVisibility&=-3,gn(v,d,2))}}};return n.stateNode=f,n}function Od(n,r,a){return n=Gn(6,n,null,r),n.lanes=a,n}function Nd(n,r,a){return r=Gn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function sr(n){n.flags|=4}function F_(n,r){if(r.type!=="stylesheet"||r.state.loading&4)n.flags&=-16777217;else if(n.flags|=16777216,!Iv(r)){if(r=Hn.current,r!==null&&((Qt&4194176)===Qt?Ri!==null:(Qt&62914560)!==Qt&&!(Qt&536870912)||r!==Ri))throw dl=kf,oy;n.flags|=8192}}function Rc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?wr():536870912,n.lanes|=r,no|=r)}function Nl(n,r){if(!Wt)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ye(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=a,r}function ER(n,r,a){var u=r.pendingProps;switch(Mf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(r),null;case 1:return ye(r),null;case 3:return a=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),er(Ue),rn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(ul(r)?sr(r):n===null||n.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,ei!==null&&(Ud(ei),ei=null))),ye(r),null;case 26:return a=r.memoizedState,n===null?(sr(r),a!==null?(ye(r),F_(r,a)):(ye(r),r.flags&=-16777217)):a?a!==n.memoizedState?(sr(r),ye(r),F_(r,a)):(ye(r),r.flags&=-16777217):(n.memoizedProps!==u&&sr(r),ye(r),r.flags&=-16777217),null;case 27:ci(r),a=Ee.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==u&&sr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ye(r),null}n=te.current,ul(r)?sy(r):(n=Ev(f,u,a),r.stateNode=n,sr(r))}return ye(r),null;case 5:if(ci(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&sr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ye(r),null}if(n=te.current,ul(r))sy(r);else{switch(f=Lc(Ee.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}n[qe]=r,n[Ve]=u;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;t:switch(Je(n,a,u),a){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&sr(r)}}return ye(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&sr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=Ee.current,ul(r)){if(n=r.stateNode,a=r.memoizedProps,u=null,f=pn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[qe]=r,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||mv(n.nodeValue,a)),n||Hs(r)}else n=Lc(n).createTextNode(u),n[qe]=r,r.stateNode=n}return ye(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=ul(r),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[qe]=r}else cl(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;ye(r),f=!1}else ei!==null&&(Ud(ei),ei=null),f=!0;if(!f)return r.flags&256?(Wi(r),r):(Wi(r),null)}if(Wi(r),r.flags&128)return r.lanes=a,r;if(a=u!==null,n=n!==null&&n.memoizedState!==null,a){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var d=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(d=u.memoizedState.cachePool.pool),d!==f&&(u.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Rc(r,r.updateQueue),ye(r),null;case 4:return rn(),n===null&&Yd(r.stateNode.containerInfo),ye(r),null;case 10:return er(r.type),ye(r),null;case 19:if(Jt(Pe),f=r.memoizedState,f===null)return ye(r),null;if(u=(r.flags&128)!==0,d=f.rendering,d===null)if(u)Nl(f,!1);else{if(be!==0||n!==null&&n.flags&128)for(n=r.child;n!==null;){if(d=lc(n),d!==null){for(r.flags|=128,Nl(f,!1),n=d.updateQueue,r.updateQueue=n,Rc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)H_(a,n),a=a.sibling;return Lt(Pe,Pe.current&1|2),r.child}n=n.sibling}f.tail!==null&&Te()>wc&&(r.flags|=128,u=!0,Nl(f,!1),r.lanes=4194304)}else{if(!u)if(n=lc(d),n!==null){if(r.flags|=128,u=!0,n=n.updateQueue,r.updateQueue=n,Rc(r,n),Nl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Wt)return ye(r),null}else 2*Te()-f.renderingStartTime>wc&&a!==536870912&&(r.flags|=128,u=!0,Nl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(n=f.last,n!==null?n.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Te(),r.sibling=null,n=Pe.current,Lt(Pe,u?n&1|2:n&1),r):(ye(r),null);case 22:case 23:return Wi(r),Pf(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?a&536870912&&!(r.flags&128)&&(ye(r),r.subtreeFlags&6&&(r.flags|=8192)):ye(r),a=r.updateQueue,a!==null&&Rc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),n!==null&&Jt(Fs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),er(Ue),ye(r),null;case 25:return null}throw Error(s(156,r.tag))}function TR(n,r){switch(Mf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return er(Ue),rn(),n=r.flags,n&65536&&!(n&128)?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return ci(r),null;case 13:if(Wi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));cl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Jt(Pe),null;case 4:return rn(),null;case 10:return er(r.type),null;case 22:case 23:return Wi(r),Pf(),n!==null&&Jt(Fs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return er(Ue),null;case 25:return null;default:return null}}function G_(n,r){switch(Mf(r),r.tag){case 3:er(Ue),rn();break;case 26:case 27:case 5:ci(r);break;case 4:rn();break;case 13:Wi(r);break;case 19:Jt(Pe);break;case 10:er(r.type);break;case 22:case 23:Wi(r),Pf(),n!==null&&Jt(Fs);break;case 24:er(Ue)}}var SR={getCacheForType:function(n){var r=sn(Ue),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},AR=typeof WeakMap=="function"?WeakMap:Map,_e=0,de=null,jt=null,Qt=0,me=0,In=null,ar=!1,eo=!1,Dd=!1,or=0,be=0,Wr=0,Js=0,xd=0,Kn=0,no=0,Dl=null,Ci=null,Md=!1,Vd=0,wc=1/0,Cc=null,Zr=null,Ic=!1,ta=null,xl=0,kd=0,Ld=null,Ml=0,Pd=null;function On(){if(_e&2&&Qt!==0)return Qt&-Qt;if(b.T!==null){var n=$a;return n!==0?n:Gd()}return Vu()}function K_(){Kn===0&&(Kn=!(Qt&536870912)||Wt?Go():536870912);var n=Hn.current;return n!==null&&(n.flags|=32),Kn}function gn(n,r,a){(n===de&&me===2||n.cancelPendingCommit!==null)&&(io(n,0),lr(n,Qt,Kn,!1)),Ce(n,a),(!(_e&2)||n!==de)&&(n===de&&(!(_e&2)&&(Js|=a),be===4&&lr(n,Qt,Kn,!1)),Ii(n))}function $_(n,r,a){if(_e&6)throw Error(s(327));var u=!a&&(r&60)===0&&(r&n.expiredLanes)===0||Rr(n,r),f=u?wR(n,r):zd(n,r,!0),d=u;do{if(f===0){eo&&!u&&lr(n,r,0,!1);break}else if(f===6)lr(n,r,0,!ar);else{if(a=n.current.alternate,d&&!bR(a)){f=zd(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;t:{var T=n;f=Dl;var C=T.current.memoizedState.isDehydrated;if(C&&(io(T,v).flags|=256),v=zd(T,v,!1),v!==2){if(Dd&&!C){T.errorRecoveryDisabledLanes|=d,Js|=d,f=4;break t}d=Ci,Ci=f,d!==null&&Ud(d)}f=v}if(d=!1,f!==2)continue}}if(f===1){io(n,0),lr(n,r,0,!0);break}t:{switch(u=n,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){lr(u,r,Kn,!ar);break t}break;case 2:Ci=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=a,u.finishedLanes=r,(r&62914560)===r&&(d=Vd+300-Te(),10<d)){if(lr(u,r,Kn,!ar),xn(u,0)!==0)break t;u.timeoutHandle=yv(Q_.bind(null,u,a,Ci,Cc,Md,r,Kn,Js,no,ar,2,-0,0),d);break t}Q_(u,a,Ci,Cc,Md,r,Kn,Js,no,ar,0,-0,0)}}break}while(!0);Ii(n)}function Ud(n){Ci===null?Ci=n:Ci.push.apply(Ci,n)}function Q_(n,r,a,u,f,d,v,T,C,L,Y,J,F){var Q=r.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(jl={stylesheets:null,count:0,unsuspend:sw},U_(r),r=ow(),r!==null)){n.cancelPendingCommit=r(ev.bind(null,n,a,u,f,v,T,C,1,J,F)),lr(n,d,v,!L);return}ev(n,a,u,f,v,T,C,Y,J,F)}function bR(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],d=f.getSnapshot;f=f.value;try{if(!Rn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function lr(n,r,a,u){r&=~xd,r&=~Js,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var f=r;0<f;){var d=31-fn(f),v=1<<d;u[d]=-1,f&=~v}a!==0&&Cr(n,a,r)}function Oc(){return _e&6?!0:(Vl(0),!1)}function jd(){if(jt!==null){if(me===0)var n=jt.return;else n=jt,tr=Ys=null,Gf(n),Ga=null,ml=0,n=jt;for(;n!==null;)G_(n.alternate,n),n=n.return;jt=null}}function io(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,qR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),jd(),de=n,jt=a=Xr(n.current,null),Qt=r,me=0,In=null,ar=!1,eo=Rr(n,r),Dd=!1,no=Kn=xd=Js=Wr=be=0,Ci=Dl=null,Md=!1,r&8&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var f=31-fn(u),d=1<<f;r|=n[f],u&=~d}return or=r,Ju(),a}function Y_(n,r){Pt=null,b.H=wi,r===fl?(r=cy(),me=3):r===oy?(r=cy(),me=4):me=r===l_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,In=r,jt===null&&(be=1,vc(n,jn(r,n.current)))}function X_(){var n=b.H;return b.H=wi,n===null?wi:n}function W_(){var n=b.A;return b.A=SR,n}function Bd(){be=4,ar||(Qt&4194176)!==Qt&&Hn.current!==null||(eo=!0),!(Wr&134217727)&&!(Js&134217727)||de===null||lr(de,Qt,Kn,!1)}function zd(n,r,a){var u=_e;_e|=2;var f=X_(),d=W_();(de!==n||Qt!==r)&&(Cc=null,io(n,r)),r=!1;var v=be;t:do try{if(me!==0&&jt!==null){var T=jt,C=In;switch(me){case 8:jd(),v=6;break t;case 3:case 2:case 6:Hn.current===null&&(r=!0);var L=me;if(me=0,In=null,ro(n,T,C,L),a&&eo){v=0;break t}break;default:L=me,me=0,In=null,ro(n,T,C,L)}}RR(),v=be;break}catch(Y){Y_(n,Y)}while(!0);return r&&n.shellSuspendCounter++,tr=Ys=null,_e=u,b.H=f,b.A=d,jt===null&&(de=null,Qt=0,Ju()),v}function RR(){for(;jt!==null;)Z_(jt)}function wR(n,r){var a=_e;_e|=2;var u=X_(),f=W_();de!==n||Qt!==r?(Cc=null,wc=Te()+500,io(n,r)):eo=Rr(n,r);t:do try{if(me!==0&&jt!==null){r=jt;var d=In;e:switch(me){case 1:me=0,In=null,ro(n,r,d,1);break;case 2:if(ly(d)){me=0,In=null,J_(r);break}r=function(){me===2&&de===n&&(me=7),Ii(n)},d.then(r,r);break t;case 3:me=7;break t;case 4:me=5;break t;case 7:ly(d)?(me=0,In=null,J_(r)):(me=0,In=null,ro(n,r,d,7));break;case 5:var v=null;switch(jt.tag){case 26:v=jt.memoizedState;case 5:case 27:var T=jt;if(!v||Iv(v)){me=0,In=null;var C=T.sibling;if(C!==null)jt=C;else{var L=T.return;L!==null?(jt=L,Nc(L)):jt=null}break e}}me=0,In=null,ro(n,r,d,5);break;case 6:me=0,In=null,ro(n,r,d,6);break;case 8:jd(),be=6;break t;default:throw Error(s(462))}}CR();break}catch(Y){Y_(n,Y)}while(!0);return tr=Ys=null,b.H=u,b.A=f,_e=a,jt!==null?0:(de=null,Qt=0,Ju(),be)}function CR(){for(;jt!==null&&!bs();)Z_(jt)}function Z_(n){var r=E_(n.alternate,n,or);n.memoizedProps=n.pendingProps,r===null?Nc(n):jt=r}function J_(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=m_(a,r,r.pendingProps,r.type,void 0,Qt);break;case 11:r=m_(a,r,r.pendingProps,r.type.render,r.ref,Qt);break;case 5:Gf(r);default:G_(a,r),r=jt=H_(r,or),r=E_(a,r,or)}n.memoizedProps=n.pendingProps,r===null?Nc(n):jt=r}function ro(n,r,a,u){tr=Ys=null,Gf(r),Ga=null,ml=0;var f=r.return;try{if(pR(n,f,r,a,Qt)){be=1,vc(n,jn(a,n.current)),jt=null;return}}catch(d){if(f!==null)throw jt=f,d;be=1,vc(n,jn(a,n.current)),jt=null;return}r.flags&32768?(Wt||u===1?n=!0:eo||Qt&536870912?n=!1:(ar=n=!0,(u===2||u===3||u===6)&&(u=Hn.current,u!==null&&u.tag===13&&(u.flags|=16384))),tv(r,n)):Nc(r)}function Nc(n){var r=n;do{if(r.flags&32768){tv(r,ar);return}n=r.return;var a=ER(r.alternate,r,or);if(a!==null){jt=a;return}if(r=r.sibling,r!==null){jt=r;return}jt=r=n}while(r!==null);be===0&&(be=5)}function tv(n,r){do{var a=TR(n.alternate,n);if(a!==null){a.flags&=32767,jt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){jt=n;return}jt=n=a}while(n!==null);be=6,jt=null}function ev(n,r,a,u,f,d,v,T,C,L){var Y=b.T,J=at.p;try{at.p=2,b.T=null,IR(n,r,a,u,J,f,d,v,T,C,L)}finally{b.T=Y,at.p=J}}function IR(n,r,a,u,f,d,v,T){do so();while(ta!==null);if(_e&6)throw Error(s(327));var C=n.finishedWork;if(u=n.finishedLanes,C===null)return null;if(n.finishedWork=null,n.finishedLanes=0,C===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var L=C.lanes|C.childLanes;if(L|=Nf,xu(n,u,L,d,v,T),n===de&&(jt=de=null,Qt=0),!(C.subtreeFlags&10256)&&!(C.flags&10256)||Ic||(Ic=!0,kd=L,Ld=a,xR(yn,function(){return so(),null})),a=(C.flags&15990)!==0,C.subtreeFlags&15990||a?(a=b.T,b.T=null,d=at.p,at.p=2,v=_e,_e|=4,yR(n,C),k_(C,n),Zb(Jd,n.containerInfo),Hc=!!Zd,Jd=Zd=null,n.current=C,D_(n,C.alternate,C),di(),_e=v,at.p=d,b.T=a):n.current=C,Ic?(Ic=!1,ta=n,xl=u):nv(n,L),L=n.pendingLanes,L===0&&(Zr=null),Wn(C.stateNode),Ii(n),r!==null)for(f=n.onRecoverableError,C=0;C<r.length;C++)L=r[C],f(L.value,{componentStack:L.stack});return xl&3&&so(),L=n.pendingLanes,u&4194218&&L&42?n===Pd?Ml++:(Ml=0,Pd=n):Ml=0,Vl(0),null}function nv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,gl(r)))}function so(){if(ta!==null){var n=ta,r=kd;kd=0;var a=Mu(xl),u=b.T,f=at.p;try{if(at.p=32>a?32:a,b.T=null,ta===null)var d=!1;else{a=Ld,Ld=null;var v=ta,T=xl;if(ta=null,xl=0,_e&6)throw Error(s(331));var C=_e;if(_e|=4,B_(v.current),P_(v,v.current,T,a),_e=C,Vl(0,!1),fe&&typeof fe.onPostCommitFiberRoot=="function")try{fe.onPostCommitFiberRoot(qt,v)}catch{}d=!0}return d}finally{at.p=f,b.T=u,nv(n,r)}}return!1}function iv(n,r,a){r=jn(a,r),r=sd(n.stateNode,r,2),n=Kr(n,r,2),n!==null&&(Ce(n,2),Ii(n))}function ce(n,r,a){if(n.tag===3)iv(n,n,a);else for(;r!==null;){if(r.tag===3){iv(r,n,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Zr===null||!Zr.has(u))){n=jn(a,n),a=a_(2),u=Kr(r,a,2),u!==null&&(o_(a,u,r,n),Ce(u,2),Ii(u));break}}r=r.return}}function Hd(n,r,a){var u=n.pingCache;if(u===null){u=n.pingCache=new AR;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(a)||(Dd=!0,f.add(a),n=OR.bind(null,n,r,a),r.then(n,n))}function OR(n,r,a){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,de===n&&(Qt&a)===a&&(be===4||be===3&&(Qt&62914560)===Qt&&300>Te()-Vd?!(_e&2)&&io(n,0):xd|=a,no===Qt&&(no=0)),Ii(n)}function rv(n,r){r===0&&(r=wr()),n=Ur(n,r),n!==null&&(Ce(n,r),Ii(n))}function NR(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),rv(n,a)}function DR(n,r){var a=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),rv(n,a)}function xR(n,r){return Xn(n,r)}var Dc=null,ao=null,qd=!1,xc=!1,Fd=!1,ea=0;function Ii(n){n!==ao&&n.next===null&&(ao===null?Dc=ao=n:ao=ao.next=n),xc=!0,qd||(qd=!0,VR(MR))}function Vl(n,r){if(!Fd&&xc){Fd=!0;do for(var a=!1,u=Dc;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var d=0;else{var v=u.suspendedLanes,T=u.pingedLanes;d=(1<<31-fn(42|n)+1)-1,d&=f&~(v&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,ov(u,d))}else d=Qt,d=xn(u,u===de?d:0),!(d&3)||Rr(u,d)||(a=!0,ov(u,d));u=u.next}while(a);Fd=!1}}function MR(){xc=qd=!1;var n=0;ea!==0&&(HR()&&(n=ea),ea=0);for(var r=Te(),a=null,u=Dc;u!==null;){var f=u.next,d=sv(u,r);d===0?(u.next=null,a===null?Dc=f:a.next=f,f===null&&(ao=a)):(a=u,(n!==0||d&3)&&(xc=!0)),u=f}Vl(n)}function sv(n,r){for(var a=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var v=31-fn(d),T=1<<v,C=f[v];C===-1?(!(T&a)||T&u)&&(f[v]=ba(T,r)):C<=r&&(n.expiredLanes|=T),d&=~T}if(r=de,a=Qt,a=xn(n,n===r?a:0),u=n.callbackNode,a===0||n===r&&me===2||n.cancelPendingCommit!==null)return u!==null&&u!==null&&fi(u),n.callbackNode=null,n.callbackPriority=0;if(!(a&3)||Rr(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(u!==null&&fi(u),Mu(a)){case 2:case 8:a=ue;break;case 32:a=yn;break;case 268435456:a=ji;break;default:a=yn}return u=av.bind(null,n),a=Xn(a,u),n.callbackPriority=r,n.callbackNode=a,r}return u!==null&&u!==null&&fi(u),n.callbackPriority=2,n.callbackNode=null,2}function av(n,r){var a=n.callbackNode;if(so()&&n.callbackNode!==a)return null;var u=Qt;return u=xn(n,n===de?u:0),u===0?null:($_(n,u,r),sv(n,Te()),n.callbackNode!=null&&n.callbackNode===a?av.bind(null,n):null)}function ov(n,r){if(so())return null;$_(n,r,!0)}function VR(n){FR(function(){_e&6?Xn(vt,n):n()})}function Gd(){return ea===0&&(ea=Go()),ea}function lv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:yi(""+n)}function uv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function kR(n,r,a,u,f){if(r==="submit"&&a&&a.stateNode===f){var d=lv((f[Ve]||null).action),v=u.submitter;v&&(r=(r=v[Ve]||null)?lv(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new Da("action","action",null,u,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ea!==0){var C=v?uv(f,v):new FormData(f);td(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=v?uv(f,v):new FormData(f),td(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var Kd=0;Kd<ey.length;Kd++){var $d=ey[Kd],LR=$d.toLowerCase(),PR=$d[0].toUpperCase()+$d.slice(1);ti(LR,"on"+PR)}ti(Xg,"onAnimationEnd"),ti(Wg,"onAnimationIteration"),ti(Zg,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(tR,"onTransitionRun"),ti(eR,"onTransitionStart"),ti(nR,"onTransitionCancel"),ti(Jg,"onTransitionEnd"),_n("onMouseEnter",["mouseout","mouseover"]),_n("onMouseLeave",["mouseout","mouseover"]),_n("onPointerEnter",["pointerout","pointerover"]),_n("onPointerLeave",["pointerout","pointerover"]),An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),An("onBeforeInput",["compositionend","keypress","textInput","paste"]),An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function cv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],f=u.event;u=u.listeners;t:{var d=void 0;if(r)for(var v=u.length-1;0<=v;v--){var T=u[v],C=T.instance,L=T.currentTarget;if(T=T.listener,C!==d&&f.isPropagationStopped())break t;d=T,f.currentTarget=L;try{d(f)}catch(Y){_c(Y)}f.currentTarget=null,d=C}else for(v=0;v<u.length;v++){if(T=u[v],C=T.instance,L=T.currentTarget,T=T.listener,C!==d&&f.isPropagationStopped())break t;d=T,f.currentTarget=L;try{d(f)}catch(Y){_c(Y)}f.currentTarget=null,d=C}}}}function Ft(n,r){var a=r[ws];a===void 0&&(a=r[ws]=new Set);var u=n+"__bubble";a.has(u)||(hv(r,n,2,!1),a.add(u))}function Qd(n,r,a){var u=0;r&&(u|=4),hv(a,n,u,r)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function Yd(n){if(!n[Mc]){n[Mc]=!0,$o.forEach(function(a){a!=="selectionchange"&&(UR.has(a)||Qd(a,!1,n),Qd(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Mc]||(r[Mc]=!0,Qd("selectionchange",!1,r))}}function hv(n,r,a,u){switch(Vv(r)){case 2:var f=cw;break;case 8:f=hw;break;default:f=lm}a=f.bind(null,r,a,n),f=void 0,!Ln||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function Xd(n,r,a,u,f){var d=u;if(!(r&1)&&!(r&2)&&u!==null)t:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var T=u.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(v===4)for(v=u.return;v!==null;){var C=v.tag;if((C===3||C===4)&&(C=v.stateNode.containerInfo,C===f||C.nodeType===8&&C.parentNode===f))return;v=v.return}for(;T!==null;){if(v=Jn(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){u=d=v;continue t}T=T.parentNode}}u=u.return}Uu(function(){var L=d,Y=Na(a),J=[];t:{var F=ty.get(n);if(F!==void 0){var Q=Da,yt=n;switch(n){case"keypress":if(vi(a)===0)break t;case"keydown":case"keyup":Q=Pa;break;case"focusin":yt="focus",Q=Va;break;case"focusout":yt="blur",Q=Va;break;case"beforeblur":case"afterblur":Q=Va;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Sf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Ku;break;case Xg:case Wg:case Zg:Q=ka;break;case Jg:Q=Qu;break;case"scroll":case"scrollend":Q=ju;break;case"wheel":Q=Ua;break;case"copy":case"cut":case"paste":Q=La;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=sl;break;case"toggle":case"beforetoggle":Q=Xu}var Nt=(r&4)!==0,Re=!Nt&&(n==="scroll"||n==="scrollend"),z=Nt?F!==null?F+"Capture":null:F;Nt=[];for(var k=L,q;k!==null;){var X=k;if(q=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||q===null||z===null||(X=Ds(k,z),X!=null&&Nt.push(Ll(k,X,q))),Re)break;k=k.return}0<Nt.length&&(F=new Q(F,yt,null,a,Y),J.push({event:F,listeners:Nt}))}}if(!(r&7)){t:{if(F=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",F&&a!==kn&&(yt=a.relatedTarget||a.fromElement)&&(Jn(yt)||yt[Bi]))break t;if((Q||F)&&(F=Y.window===Y?Y:(F=Y.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(yt=a.relatedTarget||a.toElement,Q=L,yt=yt?Jn(yt):null,yt!==null&&(Re=ut(yt),Nt=yt.tag,yt!==Re||Nt!==5&&Nt!==27&&Nt!==6)&&(yt=null)):(Q=null,yt=L),Q!==yt)){if(Nt=Pn,X="onMouseLeave",z="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(Nt=sl,X="onPointerLeave",z="onPointerEnter",k="pointer"),Re=Q==null?F:Dr(Q),q=yt==null?F:Dr(yt),F=new Nt(X,k+"leave",Q,a,Y),F.target=Re,F.relatedTarget=q,X=null,Jn(Y)===L&&(Nt=new Nt(z,k+"enter",yt,a,Y),Nt.target=q,Nt.relatedTarget=Re,X=Nt),Re=X,Q&&yt)e:{for(Nt=Q,z=yt,k=0,q=Nt;q;q=oo(q))k++;for(q=0,X=z;X;X=oo(X))q++;for(;0<k-q;)Nt=oo(Nt),k--;for(;0<q-k;)z=oo(z),q--;for(;k--;){if(Nt===z||z!==null&&Nt===z.alternate)break e;Nt=oo(Nt),z=oo(z)}Nt=null}else Nt=null;Q!==null&&fv(J,F,Q,Nt,!1),yt!==null&&Re!==null&&fv(J,Re,yt,Nt,!0)}}t:{if(F=L?Dr(L):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var pt=jg;else if(Le(F))if(Bg)pt=Xb;else{pt=Qb;var Ut=$b}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?L&&Zo(L.elementType)&&(pt=jg):pt=Yb;if(pt&&(pt=pt(n,L))){Qi(J,pt,a,Y);break t}Ut&&Ut(n,F,L),n==="focusout"&&L&&F.type==="number"&&L.memoizedProps.value!=null&&Oa(F,"number",F.value)}switch(Ut=L?Dr(L):window,n){case"focusin":(Le(Ut)||Ut.contentEditable==="true")&&(ja=Ut,Cf=L,ll=null);break;case"focusout":ll=Cf=ja=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,Qg(J,a,Y);break;case"selectionchange":if(Jb)break;case"keydown":case"keyup":Qg(J,a,Y)}var _t;if(Si)t:{switch(n){case"compositionstart":var At="onCompositionStart";break t;case"compositionend":At="onCompositionEnd";break t;case"compositionupdate":At="onCompositionUpdate";break t}At=void 0}else Kt?G(n,a)&&(At="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(At="onCompositionStart");At&&(_&&a.locale!=="ko"&&(Kt||At!=="onCompositionStart"?At==="onCompositionEnd"&&Kt&&(_t=tl()):(_i=Y,Pr="value"in _i?_i.value:_i.textContent,Kt=!0)),Ut=Vc(L,At),0<Ut.length&&(At=new il(At,n,null,a,Y),J.push({event:At,listeners:Ut}),_t?At.data=_t:(_t=ot(a),_t!==null&&(At.data=_t)))),(_t=y?ke(n,a):$t(n,a))&&(At=Vc(L,"onBeforeInput"),0<At.length&&(Ut=new il("onBeforeInput","beforeinput",null,a,Y),J.push({event:Ut,listeners:At}),Ut.data=_t)),kR(J,n,L,a,Y)}cv(J,r)})}function Ll(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Vc(n,r){for(var a=r+"Capture",u=[];n!==null;){var f=n,d=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Ds(n,a),f!=null&&u.unshift(Ll(n,f,d)),f=Ds(n,r),f!=null&&u.push(Ll(n,f,d))),n=n.return}return u}function oo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function fv(n,r,a,u,f){for(var d=r._reactName,v=[];a!==null&&a!==u;){var T=a,C=T.alternate,L=T.stateNode;if(T=T.tag,C!==null&&C===u)break;T!==5&&T!==26&&T!==27||L===null||(C=L,f?(L=Ds(a,d),L!=null&&v.unshift(Ll(a,L,C))):f||(L=Ds(a,d),L!=null&&v.push(Ll(a,L,C)))),a=a.return}v.length!==0&&n.push({event:r,listeners:v})}var jR=/\r\n?/g,BR=/\u0000|\uFFFD/g;function dv(n){return(typeof n=="string"?n:""+n).replace(jR,`
`).replace(BR,"")}function mv(n,r){return r=dv(r),dv(n)===r}function kc(){}function ae(n,r,a,u,f,d){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Vn(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Vn(n,""+u);break;case"className":Vr(n,"class",u);break;case"tabIndex":Vr(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Vr(n,a,u);break;case"style":Pu(n,u,d);break;case"data":if(r!=="object"){Vr(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=yi(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&ae(n,r,"name",f.name,f,null),ae(n,r,"formEncType",f.formEncType,f,null),ae(n,r,"formMethod",f.formMethod,f,null),ae(n,r,"formTarget",f.formTarget,f,null)):(ae(n,r,"encType",f.encType,f,null),ae(n,r,"method",f.method,f,null),ae(n,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=yi(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=kc);break;case"onScroll":u!=null&&Ft("scroll",n);break;case"onScrollEnd":u!=null&&Ft("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=yi(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":Ft("beforetoggle",n),Ft("toggle",n),Mr(n,"popover",u);break;case"xlinkActuate":Mn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Mn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Mn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Mn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Mn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Mn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Mn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Mn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Mn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Mr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ef.get(a)||a,Mr(n,a,u))}}function Wd(n,r,a,u,f,d){switch(a){case"style":Pu(n,u,d);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?Vn(n,u):(typeof u=="number"||typeof u=="bigint")&&Vn(n,""+u);break;case"onScroll":u!=null&&Ft("scroll",n);break;case"onScrollEnd":u!=null&&Ft("scrollend",n);break;case"onClick":u!=null&&(n.onclick=kc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ca.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[Ve]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof u=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,u,f);break t}a in n?n[a]=u:u===!0?n.setAttribute(a,""):Mr(n,a,u)}}}function Je(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ft("error",n),Ft("load",n);var u=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ae(n,r,d,v,a,null)}}f&&ae(n,r,"srcSet",a.srcSet,a,null),u&&ae(n,r,"src",a.src,a,null);return;case"input":Ft("invalid",n);var T=d=v=f=null,C=null,L=null;for(u in a)if(a.hasOwnProperty(u)){var Y=a[u];if(Y!=null)switch(u){case"name":f=Y;break;case"type":v=Y;break;case"checked":C=Y;break;case"defaultChecked":L=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:ae(n,r,u,Y,a,null)}}Os(n,d,T,C,L,v,f,!1),Is(n);return;case"select":Ft("invalid",n),u=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":u=T;default:ae(n,r,f,T,a,null)}r=d,a=v,n.multiple=!!u,r!=null?Xt(n,!!u,r,!1):a!=null&&Xt(n,!!u,a,!0);return;case"textarea":Ft("invalid",n),d=f=u=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":u=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:ae(n,r,v,T,a,null)}Lr(n,u,f,d),Is(n);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(u=a[C],u!=null))switch(C){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ae(n,r,C,u,a,null)}return;case"dialog":Ft("cancel",n),Ft("close",n);break;case"iframe":case"object":Ft("load",n);break;case"video":case"audio":for(u=0;u<kl.length;u++)Ft(kl[u],n);break;case"image":Ft("error",n),Ft("load",n);break;case"details":Ft("toggle",n);break;case"embed":case"source":case"link":Ft("error",n),Ft("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(u=a[L],u!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ae(n,r,L,u,a,null)}return;default:if(Zo(r)){for(Y in a)a.hasOwnProperty(Y)&&(u=a[Y],u!==void 0&&Wd(n,r,Y,u,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(u=a[T],u!=null&&ae(n,r,T,u,a,null))}function zR(n,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,T=null,C=null,L=null,Y=null;for(Q in a){var J=a[Q];if(a.hasOwnProperty(Q)&&J!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":C=J;default:u.hasOwnProperty(Q)||ae(n,r,Q,null,u,J)}}for(var F in u){var Q=u[F];if(J=a[F],u.hasOwnProperty(F)&&(Q!=null||J!=null))switch(F){case"type":d=Q;break;case"name":f=Q;break;case"checked":L=Q;break;case"defaultChecked":Y=Q;break;case"value":v=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==J&&ae(n,r,F,Q,u,J)}}kr(n,v,T,C,L,Y,d,f);return;case"select":Q=v=T=F=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":Q=C;default:u.hasOwnProperty(d)||ae(n,r,d,null,u,C)}for(f in u)if(d=u[f],C=a[f],u.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==C&&ae(n,r,f,d,u,C)}r=T,a=v,u=Q,F!=null?Xt(n,!!a,F,!1):!!u!=!!a&&(r!=null?Xt(n,!!a,r,!0):Xt(n,!!a,a?[]:"",!1));return;case"textarea":Q=F=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ae(n,r,T,null,u,f)}for(v in u)if(f=u[v],d=a[v],u.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":F=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&ae(n,r,v,f,u,d)}Ns(n,F,Q);return;case"option":for(var yt in a)if(F=a[yt],a.hasOwnProperty(yt)&&F!=null&&!u.hasOwnProperty(yt))switch(yt){case"selected":n.selected=!1;break;default:ae(n,r,yt,null,u,F)}for(C in u)if(F=u[C],Q=a[C],u.hasOwnProperty(C)&&F!==Q&&(F!=null||Q!=null))switch(C){case"selected":n.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:ae(n,r,C,F,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Nt in a)F=a[Nt],a.hasOwnProperty(Nt)&&F!=null&&!u.hasOwnProperty(Nt)&&ae(n,r,Nt,null,u,F);for(L in u)if(F=u[L],Q=a[L],u.hasOwnProperty(L)&&F!==Q&&(F!=null||Q!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:ae(n,r,L,F,u,Q)}return;default:if(Zo(r)){for(var Re in a)F=a[Re],a.hasOwnProperty(Re)&&F!==void 0&&!u.hasOwnProperty(Re)&&Wd(n,r,Re,void 0,u,F);for(Y in u)F=u[Y],Q=a[Y],!u.hasOwnProperty(Y)||F===Q||F===void 0&&Q===void 0||Wd(n,r,Y,F,u,Q);return}}for(var z in a)F=a[z],a.hasOwnProperty(z)&&F!=null&&!u.hasOwnProperty(z)&&ae(n,r,z,null,u,F);for(J in u)F=u[J],Q=a[J],!u.hasOwnProperty(J)||F===Q||F==null&&Q==null||ae(n,r,J,F,u,Q)}var Zd=null,Jd=null;function Lc(n){return n.nodeType===9?n:n.ownerDocument}function pv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function tm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var em=null;function HR(){var n=window.event;return n&&n.type==="popstate"?n===em?!1:(em=n,!0):(em=null,!1)}var yv=typeof setTimeout=="function"?setTimeout:void 0,qR=typeof clearTimeout=="function"?clearTimeout:void 0,_v=typeof Promise=="function"?Promise:void 0,FR=typeof queueMicrotask=="function"?queueMicrotask:typeof _v<"u"?function(n){return _v.resolve(null).then(n).catch(GR)}:yv;function GR(n){setTimeout(function(){throw n})}function nm(n,r){var a=r,u=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(u===0){n.removeChild(f),Fl(r);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=f}while(a);Fl(r)}function im(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":im(a),Cs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function KR(n,r,a,u){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Nr])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=ii(n.nextSibling),n===null)break}return null}function $R(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ii(n.nextSibling),n===null))return null;return n}function ii(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}function vv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function Ev(n,r,a){switch(r=Lc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var $n=new Map,Tv=new Set;function Pc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var ur=at.d;at.d={f:QR,r:YR,D:XR,C:WR,L:ZR,m:JR,X:ew,S:tw,M:nw};function QR(){var n=ur.f(),r=Oc();return n||r}function YR(n){var r=zi(n);r!==null&&r.tag===5&&r.type==="form"?Qy(r):ur.r(n)}var lo=typeof document>"u"?null:document;function Sv(n,r,a){var u=lo;if(u&&typeof r=="string"&&r){var f=Se(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Tv.has(f)||(Tv.add(f),n={rel:n,crossOrigin:a,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Je(r,"link",n),ge(r),u.head.appendChild(r)))}}function XR(n){ur.D(n),Sv("dns-prefetch",n,null)}function WR(n,r){ur.C(n,r),Sv("preconnect",n,r)}function ZR(n,r,a){ur.L(n,r,a);var u=lo;if(u&&n&&r){var f='link[rel="preload"][as="'+Se(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Se(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Se(a.imageSizes)+'"]')):f+='[href="'+Se(n)+'"]';var d=f;switch(r){case"style":d=uo(n);break;case"script":d=co(n)}$n.has(d)||(n=O({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),$n.set(d,n),u.querySelector(f)!==null||r==="style"&&u.querySelector(Pl(d))||r==="script"&&u.querySelector(Ul(d))||(r=u.createElement("link"),Je(r,"link",n),ge(r),u.head.appendChild(r)))}}function JR(n,r){ur.m(n,r);var a=lo;if(a&&n){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Se(u)+'"][href="'+Se(n)+'"]',d=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=co(n)}if(!$n.has(d)&&(n=O({rel:"modulepreload",href:n},r),$n.set(d,n),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ul(d)))return}u=a.createElement("link"),Je(u,"link",n),ge(u),a.head.appendChild(u)}}}function tw(n,r,a){ur.S(n,r,a);var u=lo;if(u&&n){var f=xr(u).hoistableStyles,d=uo(n);r=r||"default";var v=f.get(d);if(!v){var T={loading:0,preload:null};if(v=u.querySelector(Pl(d)))T.loading=5;else{n=O({rel:"stylesheet",href:n,"data-precedence":r},a),(a=$n.get(d))&&rm(n,a);var C=v=u.createElement("link");ge(C),Je(C,"link",n),C._p=new Promise(function(L,Y){C.onload=L,C.onerror=Y}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Uc(v,r,u)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(d,v)}}}function ew(n,r){ur.X(n,r);var a=lo;if(a&&n){var u=xr(a).hoistableScripts,f=co(n),d=u.get(f);d||(d=a.querySelector(Ul(f)),d||(n=O({src:n,async:!0},r),(r=$n.get(f))&&sm(n,r),d=a.createElement("script"),ge(d),Je(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function nw(n,r){ur.M(n,r);var a=lo;if(a&&n){var u=xr(a).hoistableScripts,f=co(n),d=u.get(f);d||(d=a.querySelector(Ul(f)),d||(n=O({src:n,async:!0,type:"module"},r),(r=$n.get(f))&&sm(n,r),d=a.createElement("script"),ge(d),Je(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function Av(n,r,a,u){var f=(f=Ee.current)?Pc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=uo(a.href),a=xr(f).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=uo(a.href);var d=xr(f).hoistableStyles,v=d.get(n);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,v),(d=f.querySelector(Pl(n)))&&!d._p&&(v.instance=d,v.state.loading=5),$n.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(n,a),d||iw(f,n,a,v.state))),r&&u===null)throw Error(s(528,""));return v}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=co(a),a=xr(f).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function uo(n){return'href="'+Se(n)+'"'}function Pl(n){return'link[rel="stylesheet"]['+n+"]"}function bv(n){return O({},n,{"data-precedence":n.precedence,precedence:null})}function iw(n,r,a,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Je(r,"link",a),ge(r),n.head.appendChild(r))}function co(n){return'[src="'+Se(n)+'"]'}function Ul(n){return"script[async]"+n}function Rv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+Se(a.href)+'"]');if(u)return r.instance=u,ge(u),u;var f=O({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),ge(u),Je(u,"style",f),Uc(u,a.precedence,n),r.instance=u;case"stylesheet":f=uo(a.href);var d=n.querySelector(Pl(f));if(d)return r.state.loading|=4,r.instance=d,ge(d),d;u=bv(a),(f=$n.get(f))&&rm(u,f),d=(n.ownerDocument||n).createElement("link"),ge(d);var v=d;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Je(d,"link",u),r.state.loading|=4,Uc(d,a.precedence,n),r.instance=d;case"script":return d=co(a.src),(f=n.querySelector(Ul(d)))?(r.instance=f,ge(f),f):(u=a,(f=$n.get(d))&&(u=O({},a),sm(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),ge(f),Je(f,"link",u),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&!(r.state.loading&4)&&(u=r.instance,r.state.loading|=4,Uc(u,a.precedence,n));return r.instance}function Uc(n,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,d=f,v=0;v<u.length;v++){var T=u[v];if(T.dataset.precedence===r)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function rm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function sm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var jc=null;function wv(n,r,a){if(jc===null){var u=new Map,f=jc=new Map;f.set(a,u)}else f=jc,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[Nr]||d[qe]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=n+v;var T=u.get(v);T?T.push(d):u.set(v,[d])}}return u}function Cv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function rw(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Iv(n){return!(n.type==="stylesheet"&&!(n.state.loading&3))}var jl=null;function sw(){}function aw(n,r,a){if(jl===null)throw Error(s(475));var u=jl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var f=uo(a.href),d=n.querySelector(Pl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Bc.bind(u),n.then(u,u)),r.state.loading|=4,r.instance=d,ge(d);return}d=n.ownerDocument||n,a=bv(a),(f=$n.get(f))&&rm(a,f),d=d.createElement("link"),ge(d);var v=d;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Je(d,"link",a),r.instance=d}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,n),(n=r.state.preload)&&!(r.state.loading&3)&&(u.count++,r=Bc.bind(u),n.addEventListener("load",r),n.addEventListener("error",r))}}function ow(){if(jl===null)throw Error(s(475));var n=jl;return n.stylesheets&&n.count===0&&am(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&am(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Bc(){if(this.count--,this.count===0){if(this.stylesheets)am(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var zc=null;function am(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,zc=new Map,r.forEach(lw,n),zc=null,Bc.call(n))}function lw(n,r){if(!(r.state.loading&4)){var a=zc.get(n);if(a)var u=a.get(null);else{a=new Map,zc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),u=v)}u&&a.set(null,u)}f=r.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||u,d===u&&a.set(null,f),a.set(v,f),this.count++,u=Bc.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Bl={$$typeof:P,Provider:null,Consumer:null,_currentValue:bt,_currentValue2:bt,_threadCount:0};function uw(n,r,a,u,f,d,v,T){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ra(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ra(0),this.hiddenUpdates=Ra(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Ov(n,r,a,u,f,d,v,T,C,L,Y,J){return n=new uw(n,r,a,v,T,C,L,J),r=1,d===!0&&(r|=24),d=Gn(3,null,null,r),n.current=d,d.stateNode=n,r=Uf(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:u,isDehydrated:a,cache:r},_d(d),n}function Nv(n){return n?(n=Ha,n):Ha}function Dv(n,r,a,u,f,d){f=Nv(f),u.context===null?u.context=f:u.pendingContext=f,u=Gr(r),u.payload={element:a},d=d===void 0?null:d,d!==null&&(u.callback=d),a=Kr(n,u,r),a!==null&&(gn(a,n,r),Al(a,n,r))}function xv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function om(n,r){xv(n,r),(n=n.alternate)&&xv(n,r)}function Mv(n){if(n.tag===13){var r=Ur(n,67108864);r!==null&&gn(r,n,67108864),om(n,67108864)}}var Hc=!0;function cw(n,r,a,u){var f=b.T;b.T=null;var d=at.p;try{at.p=2,lm(n,r,a,u)}finally{at.p=d,b.T=f}}function hw(n,r,a,u){var f=b.T;b.T=null;var d=at.p;try{at.p=8,lm(n,r,a,u)}finally{at.p=d,b.T=f}}function lm(n,r,a,u){if(Hc){var f=um(u);if(f===null)Xd(n,r,u,qc,a),kv(n,u);else if(dw(f,n,r,a,u))u.stopPropagation();else if(kv(n,u),r&4&&-1<fw.indexOf(n)){for(;f!==null;){var d=zi(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Zn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-fn(v);T.entanglements[1]|=C,v&=~C}Ii(d),!(_e&6)&&(wc=Te()+500,Vl(0))}}break;case 13:T=Ur(d,2),T!==null&&gn(T,d,2),Oc(),om(d,2)}if(d=um(u),d===null&&Xd(n,r,u,qc,a),d===f)break;f=d}f!==null&&u.stopPropagation()}else Xd(n,r,u,null,a)}}function um(n){return n=Na(n),cm(n)}var qc=null;function cm(n){if(qc=null,n=Jn(n),n!==null){var r=ut(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=Mt(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return qc=n,null}function Vv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ui()){case vt:return 2;case ue:return 8;case yn:case Rs:return 32;case ji:return 268435456;default:return 32}default:return 32}}var hm=!1,Jr=null,ts=null,es=null,zl=new Map,Hl=new Map,ns=[],fw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kv(n,r){switch(n){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":zl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(r.pointerId)}}function ql(n,r,a,u,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:d,targetContainers:[f]},r!==null&&(r=zi(r),r!==null&&Mv(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function dw(n,r,a,u,f){switch(r){case"focusin":return Jr=ql(Jr,n,r,a,u,f),!0;case"dragenter":return ts=ql(ts,n,r,a,u,f),!0;case"mouseover":return es=ql(es,n,r,a,u,f),!0;case"pointerover":var d=f.pointerId;return zl.set(d,ql(zl.get(d)||null,n,r,a,u,f)),!0;case"gotpointercapture":return d=f.pointerId,Hl.set(d,ql(Hl.get(d)||null,n,r,a,u,f)),!0}return!1}function Lv(n){var r=Jn(n.target);if(r!==null){var a=ut(r);if(a!==null){if(r=a.tag,r===13){if(r=Mt(a),r!==null){n.blockedOn=r,Or(n.priority,function(){if(a.tag===13){var u=On(),f=Ur(a,u);f!==null&&gn(f,a,u),om(a,u)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Fc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=um(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);kn=u,a.target.dispatchEvent(u),kn=null}else return r=zi(a),r!==null&&Mv(r),n.blockedOn=a,!1;r.shift()}return!0}function Pv(n,r,a){Fc(n)&&a.delete(r)}function mw(){hm=!1,Jr!==null&&Fc(Jr)&&(Jr=null),ts!==null&&Fc(ts)&&(ts=null),es!==null&&Fc(es)&&(es=null),zl.forEach(Pv),Hl.forEach(Pv)}function Gc(n,r){n.blockedOn===r&&(n.blockedOn=null,hm||(hm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,mw)))}var Kc=null;function Uv(n){Kc!==n&&(Kc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Kc===n&&(Kc=null);for(var r=0;r<n.length;r+=3){var a=n[r],u=n[r+1],f=n[r+2];if(typeof u!="function"){if(cm(u||a)===null)continue;break}var d=zi(a);d!==null&&(n.splice(r,3),r-=3,td(d,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function Fl(n){function r(C){return Gc(C,n)}Jr!==null&&Gc(Jr,n),ts!==null&&Gc(ts,n),es!==null&&Gc(es,n),zl.forEach(r),Hl.forEach(r);for(var a=0;a<ns.length;a++){var u=ns[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<ns.length&&(a=ns[0],a.blockedOn===null);)Lv(a),a.blockedOn===null&&ns.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],d=a[u+1],v=f[Ve]||null;if(typeof d=="function")v||Uv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[Ve]||null)T=v.formAction;else if(cm(f)!==null)continue}else T=v.action;typeof T=="function"?a[u+1]=T:(a.splice(u,3),u-=3),Uv(a)}}}function fm(n){this._internalRoot=n}$c.prototype.render=fm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=On();Dv(a,u,n,r,null,null)},$c.prototype.unmount=fm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;n.tag===0&&so(),Dv(n.current,2,null,n,null,null),Oc(),r[Bi]=null}};function $c(n){this._internalRoot=n}$c.prototype.unstable_scheduleHydration=function(n){if(n){var r=Vu();n={blockedOn:null,target:n,priority:r};for(var a=0;a<ns.length&&r!==0&&r<ns[a].priority;a++);ns.splice(a,0,n),a===0&&Lv(n)}};var jv=t.version;if(jv!=="19.0.0")throw Error(s(527,jv,"19.0.0"));at.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=Z(r),n=n!==null?dt(n):null,n=n===null?null:n.stateNode,n};var pw={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:Jn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{qt=Qc.inject(pw),fe=Qc}catch{}}return Kl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,u="",f=n_,d=i_,v=r_,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=Ov(n,1,!1,null,null,a,u,f,d,v,T,null),n[Bi]=r.current,Yd(n.nodeType===8?n.parentNode:n),new fm(r)},Kl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var u=!1,f="",d=n_,v=i_,T=r_,C=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),r=Ov(n,1,!0,r,a??null,u,f,d,v,T,C,L),r.context=Nv(null),a=r.current,u=On(),f=Gr(u),f.callback=null,Kr(a,f,u),r.current.lanes=u,Ce(r,u),Ii(r),n[Bi]=r.current,Yd(n),new $c(r)},Kl.version="19.0.0",Kl}var Yv;function ww(){if(Yv)return gm.exports;Yv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),gm.exports=Rw(),gm.exports}var Cw=ww(),Em={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Xv;function Iw(){return Xv||(Xv=1,function(i){(function(){var t={}.hasOwnProperty;function e(){for(var l="",h=0;h<arguments.length;h++){var m=arguments[h];m&&(l=o(l,s(m)))}return l}function s(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return e.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var h="";for(var m in l)t.call(l,m)&&l[m]&&(h=o(h,m));return h}function o(l,h){return h?l?l+" "+h:l+h:l}i.exports?(e.default=e,i.exports=e):window.classNames=e})()}(Em)),Em.exports}var Ow=Iw();const Ct=Bh(Ow);function Km(){return Km=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)({}).hasOwnProperty.call(e,s)&&(i[s]=e[s])}return i},Km.apply(null,arguments)}function t0(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)!==-1)continue;e[s]=i[s]}return e}function Wv(i){return"default"+i.charAt(0).toUpperCase()+i.substr(1)}function Nw(i){var t=Dw(i,"string");return typeof t=="symbol"?t:String(t)}function Dw(i,t){if(typeof i!="object"||i===null)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var s=e.call(i,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function xw(i,t,e){var s=N.useRef(i!==void 0),o=N.useState(t),l=o[0],h=o[1],m=i!==void 0,p=s.current;return s.current=m,!m&&p&&l!==t&&h(t),[m?i:l,N.useCallback(function(g){for(var E=arguments.length,S=new Array(E>1?E-1:0),R=1;R<E;R++)S[R-1]=arguments[R];e&&e.apply(void 0,[g].concat(S)),h(g)},[e])]}function e0(i,t){return Object.keys(t).reduce(function(e,s){var o,l=e,h=l[Wv(s)],m=l[s],p=t0(l,[Wv(s),s].map(Nw)),g=t[s],E=xw(m,h,i[g]),S=E[0],R=E[1];return Km({},p,(o={},o[s]=S,o[g]=R,o))},i)}function $m(i,t){return $m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,s){return e.__proto__=s,e},$m(i,t)}function Mw(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,$m(i,t)}const Vw=["xxl","xl","lg","md","sm","xs"],kw="xs",_u=N.createContext({prefixes:{},breakpoints:Vw,minBreakpoint:kw}),{Consumer:Ak,Provider:bk}=_u;function Bt(i,t){const{prefixes:e}=N.useContext(_u);return i||e[t]||t}function n0(){const{breakpoints:i}=N.useContext(_u);return i}function i0(){const{minBreakpoint:i}=N.useContext(_u);return i}function r0(){const{dir:i}=N.useContext(_u);return i==="rtl"}function zh(i){return i&&i.ownerDocument||document}function Lw(i){var t=zh(i);return t&&t.defaultView||window}function Pw(i,t){return Lw(i).getComputedStyle(i,t)}var Uw=/([A-Z])/g;function jw(i){return i.replace(Uw,"-$1").toLowerCase()}var Bw=/^ms-/;function Yc(i){return jw(i).replace(Bw,"-ms-")}var zw=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Hw(i){return!!(i&&zw.test(i))}function ca(i,t){var e="",s="";if(typeof t=="string")return i.style.getPropertyValue(Yc(t))||Pw(i).getPropertyValue(Yc(t));Object.keys(t).forEach(function(o){var l=t[o];!l&&l!==0?i.style.removeProperty(Yc(o)):Hw(o)?s+=o+"("+l+") ":e+=Yc(o)+": "+l+";"}),s&&(e+="transform: "+s+";"),i.style.cssText+=";"+e}var Tm={exports:{}},Sm,Zv;function qw(){if(Zv)return Sm;Zv=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Sm=i,Sm}var Am,Jv;function Fw(){if(Jv)return Am;Jv=1;var i=qw();function t(){}function e(){}return e.resetWarningCache=t,Am=function(){function s(h,m,p,g,E,S){if(S!==i){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}s.isRequired=s;function o(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:e,resetWarningCache:t};return l.PropTypes=l,l},Am}var tE;function Gw(){return tE||(tE=1,Tm.exports=Fw()()),Tm.exports}var Kw=Gw();const pr=Bh(Kw);var $w=JT();const _o=Bh($w),eE={disabled:!1},s0=oa.createContext(null);var Qw=function(t){return t.scrollTop},Ql="unmounted",na="exited",as="entering",sa="entered",Qm="exiting",Sr=function(i){Mw(t,i);function t(s,o){var l;l=i.call(this,s,o)||this;var h=o,m=h&&!h.isMounting?s.enter:s.appear,p;return l.appearStatus=null,s.in?m?(p=na,l.appearStatus=as):p=sa:s.unmountOnExit||s.mountOnEnter?p=Ql:p=na,l.state={status:p},l.nextCallback=null,l}t.getDerivedStateFromProps=function(o,l){var h=o.in;return h&&l.status===Ql?{status:na}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(o){var l=null;if(o!==this.props){var h=this.state.status;this.props.in?h!==as&&h!==sa&&(l=as):(h===as||h===sa)&&(l=Qm)}this.updateStatus(!1,l)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var o=this.props.timeout,l,h,m;return l=h=m=o,o!=null&&typeof o!="number"&&(l=o.exit,h=o.enter,m=o.appear!==void 0?o.appear:h),{exit:l,enter:h,appear:m}},e.updateStatus=function(o,l){if(o===void 0&&(o=!1),l!==null)if(this.cancelNextCallback(),l===as){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:_o.findDOMNode(this);h&&Qw(h)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===na&&this.setState({status:Ql})},e.performEnter=function(o){var l=this,h=this.props.enter,m=this.context?this.context.isMounting:o,p=this.props.nodeRef?[m]:[_o.findDOMNode(this),m],g=p[0],E=p[1],S=this.getTimeouts(),R=m?S.appear:S.enter;if(!o&&!h||eE.disabled){this.safeSetState({status:sa},function(){l.props.onEntered(g)});return}this.props.onEnter(g,E),this.safeSetState({status:as},function(){l.props.onEntering(g,E),l.onTransitionEnd(R,function(){l.safeSetState({status:sa},function(){l.props.onEntered(g,E)})})})},e.performExit=function(){var o=this,l=this.props.exit,h=this.getTimeouts(),m=this.props.nodeRef?void 0:_o.findDOMNode(this);if(!l||eE.disabled){this.safeSetState({status:na},function(){o.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:Qm},function(){o.props.onExiting(m),o.onTransitionEnd(h.exit,function(){o.safeSetState({status:na},function(){o.props.onExited(m)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(o,l){l=this.setNextCallback(l),this.setState(o,l)},e.setNextCallback=function(o){var l=this,h=!0;return this.nextCallback=function(m){h&&(h=!1,l.nextCallback=null,o(m))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},e.onTransitionEnd=function(o,l){this.setNextCallback(l);var h=this.props.nodeRef?this.props.nodeRef.current:_o.findDOMNode(this),m=o==null&&!this.props.addEndListener;if(!h||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],g=p[0],E=p[1];this.props.addEndListener(g,E)}o!=null&&setTimeout(this.nextCallback,o)},e.render=function(){var o=this.state.status;if(o===Ql)return null;var l=this.props,h=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var m=t0(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return oa.createElement(s0.Provider,{value:null},typeof h=="function"?h(o,m):oa.cloneElement(oa.Children.only(h),m))},t}(oa.Component);Sr.contextType=s0;Sr.propTypes={};function ho(){}Sr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ho,onEntering:ho,onEntered:ho,onExit:ho,onExiting:ho,onExited:ho};Sr.UNMOUNTED=Ql;Sr.EXITED=na;Sr.ENTERING=as;Sr.ENTERED=sa;Sr.EXITING=Qm;function Yw(i){return i.code==="Escape"||i.keyCode===27}function Xw(){const i=N.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function Hh(i){if(!i||typeof i=="function")return null;const{major:t}=Xw();return t>=19?i.props.ref:i.ref}const Vo=!!(typeof window<"u"&&window.document&&window.document.createElement);var Ym=!1,Xm=!1;try{var bm={get passive(){return Ym=!0},get once(){return Xm=Ym=!0}};Vo&&(window.addEventListener("test",bm,bm),window.removeEventListener("test",bm,!0))}catch{}function a0(i,t,e,s){if(s&&typeof s!="boolean"&&!Xm){var o=s.once,l=s.capture,h=e;!Xm&&o&&(h=e.__once||function m(p){this.removeEventListener(t,m,l),e.call(this,p)},e.__once=h),i.addEventListener(t,h,Ym?s:l)}i.addEventListener(t,e,s)}function Wm(i,t,e,s){var o=s&&typeof s!="boolean"?s.capture:s;i.removeEventListener(t,e,o),e.__once&&i.removeEventListener(t,e.__once,o)}function ph(i,t,e,s){return a0(i,t,e,s),function(){Wm(i,t,e,s)}}function Ww(i,t,e,s){if(s===void 0&&(s=!0),i){var o=document.createEvent("HTMLEvents");o.initEvent(t,e,s),i.dispatchEvent(o)}}function Zw(i){var t=ca(i,"transitionDuration")||"",e=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*e}function Jw(i,t,e){e===void 0&&(e=5);var s=!1,o=setTimeout(function(){s||Ww(i,"transitionend",!0)},t+e),l=ph(i,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),l()}}function o0(i,t,e,s){e==null&&(e=Zw(i)||0);var o=Jw(i,e,s),l=ph(i,"transitionend",t);return function(){o(),l()}}function nE(i,t){const e=ca(i,t)||"",s=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*s}function l0(i,t){const e=nE(i,"transitionDuration"),s=nE(i,"transitionDelay"),o=o0(i,l=>{l.target===i&&(o(),t(l))},e+s)}function u0(i){i.offsetHeight}const iE=i=>!i||typeof i=="function"?i:t=>{i.current=t};function tC(i,t){const e=iE(i),s=iE(t);return o=>{e&&e(o),s&&s(o)}}function c0(i,t){return N.useMemo(()=>tC(i,t),[i,t])}function eC(i){return i&&"setState"in i?_o.findDOMNode(i):i??null}const h0=oa.forwardRef(({onEnter:i,onEntering:t,onEntered:e,onExit:s,onExiting:o,onExited:l,addEndListener:h,children:m,childRef:p,...g},E)=>{const S=N.useRef(null),R=c0(S,p),P=ft=>{R(eC(ft))},U=ft=>D=>{ft&&S.current&&ft(S.current,D)},K=N.useCallback(U(i),[i]),B=N.useCallback(U(t),[t]),it=N.useCallback(U(e),[e]),rt=N.useCallback(U(s),[s]),et=N.useCallback(U(o),[o]),ct=N.useCallback(U(l),[l]),lt=N.useCallback(U(h),[h]);return M.jsx(Sr,{ref:E,...g,onEnter:K,onEntered:it,onEntering:B,onExit:rt,onExited:ct,onExiting:et,addEndListener:lt,nodeRef:S,children:typeof m=="function"?(ft,D)=>m(ft,{...D,ref:P}):oa.cloneElement(m,{ref:P})})});function f0(i){const t=N.useRef(i);return N.useEffect(()=>{t.current=i},[i]),t}function bo(i){const t=f0(i);return N.useCallback(function(...e){return t.current&&t.current(...e)},[t])}const xp=i=>N.forwardRef((t,e)=>M.jsx("div",{...t,ref:e,className:Ct(t.className,i)}));function nC(i){const t=N.useRef(i);return N.useEffect(()=>{t.current=i},[i]),t}function cr(i){const t=nC(i);return N.useCallback(function(...e){return t.current&&t.current(...e)},[t])}function iC(){const i=N.useRef(!0),t=N.useRef(()=>i.current);return N.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),t.current}function rC(i){const t=N.useRef(null);return N.useEffect(()=>{t.current=i}),t.current}const sC=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",aC=typeof document<"u",rE=aC||sC?N.useLayoutEffect:N.useEffect,oC=["as","disabled"];function lC(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}function uC(i){return!i||i.trim()==="#"}function Mp({tagName:i,disabled:t,href:e,target:s,rel:o,role:l,onClick:h,tabIndex:m=0,type:p}){i||(e!=null||s!=null||o!=null?i="a":i="button");const g={tagName:i};if(i==="button")return[{type:p||"button",disabled:t},g];const E=R=>{if((t||i==="a"&&uC(e))&&R.preventDefault(),t){R.stopPropagation();return}h==null||h(R)},S=R=>{R.key===" "&&(R.preventDefault(),E(R))};return i==="a"&&(e||(e="#"),t&&(e=void 0)),[{role:l??"button",disabled:void 0,tabIndex:t?void 0:m,href:e,target:i==="a"?s:void 0,"aria-disabled":t||void 0,rel:i==="a"?o:void 0,onClick:E,onKeyDown:S},g]}const d0=N.forwardRef((i,t)=>{let{as:e,disabled:s}=i,o=lC(i,oC);const[l,{tagName:h}]=Mp(Object.assign({tagName:e,disabled:s},o));return M.jsx(h,Object.assign({},o,l,{ref:t}))});d0.displayName="Button";const cC=["onKeyDown"];function hC(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}function fC(i){return!i||i.trim()==="#"}const Zm=N.forwardRef((i,t)=>{let{onKeyDown:e}=i,s=hC(i,cC);const[o]=Mp(Object.assign({tagName:"a"},s)),l=cr(h=>{o.onKeyDown(h),e==null||e(h)});return fC(s.href)||s.role==="button"?M.jsx("a",Object.assign({ref:t},s,o,{onKeyDown:l})):M.jsx("a",Object.assign({ref:t},s,{onKeyDown:e}))});Zm.displayName="Anchor";const dC={[as]:"show",[sa]:"show"},Vp=N.forwardRef(({className:i,children:t,transitionClasses:e={},onEnter:s,...o},l)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},m=N.useCallback((p,g)=>{u0(p),s==null||s(p,g)},[s]);return M.jsx(h0,{ref:l,addEndListener:l0,...h,onEnter:m,childRef:Hh(t),children:(p,g)=>N.cloneElement(t,{...g,className:Ct("fade",i,t.props.className,dC[p],e[p])})})});Vp.displayName="Fade";const mC={"aria-label":pr.string,onClick:pr.func,variant:pr.oneOf(["white"])},kp=N.forwardRef(({className:i,variant:t,"aria-label":e="Close",...s},o)=>M.jsx("button",{ref:o,type:"button",className:Ct("btn-close",t&&`btn-close-${t}`,i),"aria-label":e,...s}));kp.displayName="CloseButton";kp.propTypes=mC;const Di=N.forwardRef(({as:i,bsPrefix:t,variant:e="primary",size:s,active:o=!1,disabled:l=!1,className:h,...m},p)=>{const g=Bt(t,"btn"),[E,{tagName:S}]=Mp({tagName:i,disabled:l,...m}),R=S;return M.jsx(R,{...E,...m,ref:p,disabled:l,className:Ct(h,g,o&&"active",e&&`${g}-${e}`,s&&`${g}-${s}`,m.href&&l&&"disabled")})});Di.displayName="Button";const Lp=N.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=Bt(t,"card-body"),M.jsx(e,{ref:o,className:Ct(i,t),...s})));Lp.displayName="CardBody";const m0=N.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=Bt(t,"card-footer"),M.jsx(e,{ref:o,className:Ct(i,t),...s})));m0.displayName="CardFooter";const p0=N.createContext(null);p0.displayName="CardHeaderContext";const g0=N.forwardRef(({bsPrefix:i,className:t,as:e="div",...s},o)=>{const l=Bt(i,"card-header"),h=N.useMemo(()=>({cardHeaderBsPrefix:l}),[l]);return M.jsx(p0.Provider,{value:h,children:M.jsx(e,{ref:o,...s,className:Ct(t,l)})})});g0.displayName="CardHeader";const y0=N.forwardRef(({bsPrefix:i,className:t,variant:e,as:s="img",...o},l)=>{const h=Bt(i,"card-img");return M.jsx(s,{ref:l,className:Ct(e?`${h}-${e}`:h,t),...o})});y0.displayName="CardImg";const _0=N.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=Bt(t,"card-img-overlay"),M.jsx(e,{ref:o,className:Ct(i,t),...s})));_0.displayName="CardImgOverlay";const v0=N.forwardRef(({className:i,bsPrefix:t,as:e="a",...s},o)=>(t=Bt(t,"card-link"),M.jsx(e,{ref:o,className:Ct(i,t),...s})));v0.displayName="CardLink";const pC=xp("h6"),E0=N.forwardRef(({className:i,bsPrefix:t,as:e=pC,...s},o)=>(t=Bt(t,"card-subtitle"),M.jsx(e,{ref:o,className:Ct(i,t),...s})));E0.displayName="CardSubtitle";const T0=N.forwardRef(({className:i,bsPrefix:t,as:e="p",...s},o)=>(t=Bt(t,"card-text"),M.jsx(e,{ref:o,className:Ct(i,t),...s})));T0.displayName="CardText";const gC=xp("h5"),S0=N.forwardRef(({className:i,bsPrefix:t,as:e=gC,...s},o)=>(t=Bt(t,"card-title"),M.jsx(e,{ref:o,className:Ct(i,t),...s})));S0.displayName="CardTitle";const A0=N.forwardRef(({bsPrefix:i,className:t,bg:e,text:s,border:o,body:l=!1,children:h,as:m="div",...p},g)=>{const E=Bt(i,"card");return M.jsx(m,{ref:g,...p,className:Ct(t,E,e&&`bg-${e}`,s&&`text-${s}`,o&&`border-${o}`),children:l?M.jsx(Lp,{children:h}):h})});A0.displayName="Card";const rs=Object.assign(A0,{Img:y0,Title:S0,Subtitle:E0,Body:Lp,Link:v0,Text:T0,Header:g0,Footer:m0,ImgOverlay:_0});function yC(i,t){const e=N.useRef(!0);N.useEffect(()=>{if(e.current){e.current=!1;return}return i()},t)}function _C(){const i=N.useRef(!0),t=N.useRef(()=>i.current);return N.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),t.current}function vC(i){const t=N.useRef(i);return t.current=i,t}function b0(i){const t=vC(i);N.useEffect(()=>()=>t.current(),[])}const Jm=2**31-1;function R0(i,t,e){const s=e-Date.now();i.current=s<=Jm?setTimeout(t,s):setTimeout(()=>R0(i,t,e),Jm)}function EC(){const i=_C(),t=N.useRef();return b0(()=>clearTimeout(t.current)),N.useMemo(()=>{const e=()=>clearTimeout(t.current);function s(o,l=0){i()&&(e(),l<=Jm?t.current=setTimeout(o,l):R0(t,o,Date.now()+l))}return{set:s,clear:e,handleRef:t}},[])}const w0=N.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=Bt(t,"carousel-caption"),M.jsx(e,{ref:o,className:Ct(i,t),...s})));w0.displayName="CarouselCaption";const C0=N.forwardRef(({as:i="div",bsPrefix:t,className:e,...s},o)=>{const l=Ct(e,Bt(t,"carousel-item"));return M.jsx(i,{ref:o,...s,className:l})});C0.displayName="CarouselItem";function tp(i,t){let e=0;return N.Children.map(i,s=>N.isValidElement(s)?t(s,e++):s)}function TC(i,t){let e=0;N.Children.forEach(i,s=>{N.isValidElement(s)&&t(s,e++)})}function SC(i,t){return N.Children.toArray(i).some(e=>N.isValidElement(e)&&e.type===t)}const AC=40;function bC(i){if(!i||!i.style||!i.parentNode||!i.parentNode.style)return!1;const t=getComputedStyle(i);return t.display!=="none"&&t.visibility!=="hidden"&&getComputedStyle(i.parentNode).display!=="none"}const I0=N.forwardRef(({defaultActiveIndex:i=0,...t},e)=>{const{as:s="div",bsPrefix:o,slide:l=!0,fade:h=!1,controls:m=!0,indicators:p=!0,indicatorLabels:g=[],activeIndex:E,onSelect:S,onSlide:R,onSlid:P,interval:U=5e3,keyboard:K=!0,onKeyDown:B,pause:it="hover",onMouseOver:rt,onMouseOut:et,wrap:ct=!0,touch:lt=!0,onTouchStart:ft,onTouchMove:D,onTouchEnd:w,prevIcon:b=M.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:O="Previous",nextIcon:V=M.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:j="Next",variant:I,className:he,children:re,...nt}=e0({defaultActiveIndex:i,...t},{activeIndex:"onSelect"}),mt=Bt(o,"carousel"),ut=r0(),Mt=N.useRef(null),[x,Z]=N.useState("next"),[dt,st]=N.useState(!1),[at,bt]=N.useState(!1),[gt,oe]=N.useState(E||0);N.useEffect(()=>{!at&&E!==gt&&(Mt.current?Z(Mt.current):Z((E||0)>gt?"next":"prev"),l&&bt(!0),oe(E||0))},[E,at,gt,l]),N.useEffect(()=>{Mt.current&&(Mt.current=null)});let Ot=0,Jt;TC(re,(Et,qt)=>{++Ot,qt===E&&(Jt=Et.props.interval)});const Lt=f0(Jt),te=N.useCallback(Et=>{if(at)return;let qt=gt-1;if(qt<0){if(!ct)return;qt=Ot-1}Mt.current="prev",S==null||S(qt,Et)},[at,gt,S,ct,Ot]),le=bo(Et=>{if(at)return;let qt=gt+1;if(qt>=Ot){if(!ct)return;qt=0}Mt.current="next",S==null||S(qt,Et)}),Ee=N.useRef();N.useImperativeHandle(e,()=>({element:Ee.current,prev:te,next:le}));const He=bo(()=>{!document.hidden&&bC(Ee.current)&&(ut?te():le())}),Vt=x==="next"?"start":"end";yC(()=>{l||(R==null||R(gt,Vt),P==null||P(gt,Vt))},[gt]);const rn=`${mt}-item-${x}`,Sn=`${mt}-item-${Vt}`,ci=N.useCallback(Et=>{u0(Et),R==null||R(gt,Vt)},[R,gt,Vt]),hi=N.useCallback(()=>{bt(!1),P==null||P(gt,Vt)},[P,gt,Vt]),Xn=N.useCallback(Et=>{if(K&&!/input|textarea/i.test(Et.target.tagName))switch(Et.key){case"ArrowLeft":Et.preventDefault(),ut?le(Et):te(Et);return;case"ArrowRight":Et.preventDefault(),ut?te(Et):le(Et);return}B==null||B(Et)},[K,B,te,le,ut]),fi=N.useCallback(Et=>{it==="hover"&&st(!0),rt==null||rt(Et)},[it,rt]),bs=N.useCallback(Et=>{st(!1),et==null||et(Et)},[et]),di=N.useRef(0),Te=N.useRef(0),Ui=EC(),vt=N.useCallback(Et=>{di.current=Et.touches[0].clientX,Te.current=0,it==="hover"&&st(!0),ft==null||ft(Et)},[it,ft]),ue=N.useCallback(Et=>{Et.touches&&Et.touches.length>1?Te.current=0:Te.current=Et.touches[0].clientX-di.current,D==null||D(Et)},[D]),yn=N.useCallback(Et=>{if(lt){const qt=Te.current;Math.abs(qt)>AC&&(qt>0?te(Et):le(Et))}it==="hover"&&Ui.set(()=>{st(!1)},U||void 0),w==null||w(Et)},[lt,it,te,le,Ui,U,w]),Rs=U!=null&&!dt&&!at,ji=N.useRef();N.useEffect(()=>{var Et,qt;if(!Rs)return;const fe=ut?te:le;return ji.current=window.setInterval(document.visibilityState?He:fe,(Et=(qt=Lt.current)!=null?qt:U)!=null?Et:void 0),()=>{ji.current!==null&&clearInterval(ji.current)}},[Rs,te,le,Lt,U,He,ut]);const Aa=N.useMemo(()=>p&&Array.from({length:Ot},(Et,qt)=>fe=>{S==null||S(qt,fe)}),[p,Ot,S]);return M.jsxs(s,{ref:Ee,...nt,onKeyDown:Xn,onMouseOver:fi,onMouseOut:bs,onTouchStart:vt,onTouchMove:ue,onTouchEnd:yn,className:Ct(he,mt,l&&"slide",h&&`${mt}-fade`,I&&`${mt}-${I}`),children:[p&&M.jsx("div",{className:`${mt}-indicators`,children:tp(re,(Et,qt)=>M.jsx("button",{type:"button","data-bs-target":"","aria-label":g!=null&&g.length?g[qt]:`Slide ${qt+1}`,className:qt===gt?"active":void 0,onClick:Aa?Aa[qt]:void 0,"aria-current":qt===gt},qt))}),M.jsx("div",{className:`${mt}-inner`,children:tp(re,(Et,qt)=>{const fe=qt===gt;return l?M.jsx(h0,{in:fe,onEnter:fe?ci:void 0,onEntered:fe?hi:void 0,addEndListener:l0,children:(Wn,Dn)=>N.cloneElement(Et,{...Dn,className:Ct(Et.props.className,fe&&Wn!=="entered"&&rn,(Wn==="entered"||Wn==="exiting")&&"active",(Wn==="entering"||Wn==="exiting")&&Sn)})}):N.cloneElement(Et,{className:Ct(Et.props.className,fe&&"active")})})}),m&&M.jsxs(M.Fragment,{children:[(ct||E!==0)&&M.jsxs(Zm,{className:`${mt}-control-prev`,onClick:te,children:[b,O&&M.jsx("span",{className:"visually-hidden",children:O})]}),(ct||E!==Ot-1)&&M.jsxs(Zm,{className:`${mt}-control-next`,onClick:le,children:[V,j&&M.jsx("span",{className:"visually-hidden",children:j})]})]})]})});I0.displayName="Carousel";const Rm=Object.assign(I0,{Caption:w0,Item:C0});function RC({as:i,bsPrefix:t,className:e,...s}){t=Bt(t,"col");const o=n0(),l=i0(),h=[],m=[];return o.forEach(p=>{const g=s[p];delete s[p];let E,S,R;typeof g=="object"&&g!=null?{span:E,offset:S,order:R}=g:E=g;const P=p!==l?`-${p}`:"";E&&h.push(E===!0?`${t}${P}`:`${t}${P}-${E}`),R!=null&&m.push(`order${P}-${R}`),S!=null&&m.push(`offset${P}-${S}`)}),[{...s,className:Ct(e,...h,...m)},{as:i,bsPrefix:t,spans:h}]}const ri=N.forwardRef((i,t)=>{const[{className:e,...s},{as:o="div",bsPrefix:l,spans:h}]=RC(i);return M.jsx(o,{...s,ref:t,className:Ct(e,!h.length&&l)})});ri.displayName="Col";const O0=N.forwardRef(({bsPrefix:i,fluid:t=!1,as:e="div",className:s,...o},l)=>{const h=Bt(i,"container"),m=typeof t=="string"?`-${t}`:"-fluid";return M.jsx(e,{ref:l,...o,className:Ct(s,t?`${h}${m}`:h)})});O0.displayName="Container";var wC=Function.prototype.bind.call(Function.prototype.call,[].slice);function ia(i,t){return wC(i.querySelectorAll(t))}function CC(){const[,i]=N.useReducer(t=>t+1,0);return i}function sE(i,t){if(i.contains)return i.contains(t);if(i.compareDocumentPosition)return i===t||!!(i.compareDocumentPosition(t)&16)}const ep=N.createContext(null),Pp=(i,t=null)=>i!=null?String(i):t||null,Up=N.createContext(null);Up.displayName="NavContext";const IC="data-rr-ui-",OC="rrUi";function qh(i){return`${IC}${i}`}function NC(i){return`${OC}${i}`}const N0=N.createContext(Vo?window:void 0);N0.Provider;function jp(){return N.useContext(N0)}const DC={type:pr.string,tooltip:pr.bool,as:pr.elementType},Fh=N.forwardRef(({as:i="div",className:t,type:e="valid",tooltip:s=!1,...o},l)=>M.jsx(i,{...o,ref:l,className:Ct(t,`${e}-${s?"tooltip":"feedback"}`)}));Fh.displayName="Feedback";Fh.propTypes=DC;const yr=N.createContext({}),Bp=N.forwardRef(({id:i,bsPrefix:t,className:e,type:s="checkbox",isValid:o=!1,isInvalid:l=!1,as:h="input",...m},p)=>{const{controlId:g}=N.useContext(yr);return t=Bt(t,"form-check-input"),M.jsx(h,{...m,ref:p,type:s,id:i||g,className:Ct(e,t,o&&"is-valid",l&&"is-invalid")})});Bp.displayName="FormCheckInput";const gh=N.forwardRef(({bsPrefix:i,className:t,htmlFor:e,...s},o)=>{const{controlId:l}=N.useContext(yr);return i=Bt(i,"form-check-label"),M.jsx("label",{...s,ref:o,htmlFor:e||l,className:Ct(t,i)})});gh.displayName="FormCheckLabel";const D0=N.forwardRef(({id:i,bsPrefix:t,bsSwitchPrefix:e,inline:s=!1,reverse:o=!1,disabled:l=!1,isValid:h=!1,isInvalid:m=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:E,className:S,style:R,title:P="",type:U="checkbox",label:K,children:B,as:it="input",...rt},et)=>{t=Bt(t,"form-check"),e=Bt(e,"form-switch");const{controlId:ct}=N.useContext(yr),lt=N.useMemo(()=>({controlId:i||ct}),[ct,i]),ft=!B&&K!=null&&K!==!1||SC(B,gh),D=M.jsx(Bp,{...rt,type:U==="switch"?"checkbox":U,ref:et,isValid:h,isInvalid:m,disabled:l,as:it});return M.jsx(yr.Provider,{value:lt,children:M.jsx("div",{style:R,className:Ct(S,ft&&t,s&&`${t}-inline`,o&&`${t}-reverse`,U==="switch"&&e),children:B||M.jsxs(M.Fragment,{children:[D,ft&&M.jsx(gh,{title:P,children:K}),g&&M.jsx(Fh,{type:E,tooltip:p,children:g})]})})})});D0.displayName="FormCheck";const yh=Object.assign(D0,{Input:Bp,Label:gh}),x0=N.forwardRef(({bsPrefix:i,type:t,size:e,htmlSize:s,id:o,className:l,isValid:h=!1,isInvalid:m=!1,plaintext:p,readOnly:g,as:E="input",...S},R)=>{const{controlId:P}=N.useContext(yr);return i=Bt(i,"form-control"),M.jsx(E,{...S,type:t,size:s,ref:R,readOnly:g,id:o||P,className:Ct(l,p?`${i}-plaintext`:i,e&&`${i}-${e}`,t==="color"&&`${i}-color`,h&&"is-valid",m&&"is-invalid")})});x0.displayName="FormControl";const xC=Object.assign(x0,{Feedback:Fh}),M0=N.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=Bt(t,"form-floating"),M.jsx(e,{ref:o,className:Ct(i,t),...s})));M0.displayName="FormFloating";const zp=N.forwardRef(({controlId:i,as:t="div",...e},s)=>{const o=N.useMemo(()=>({controlId:i}),[i]);return M.jsx(yr.Provider,{value:o,children:M.jsx(t,{...e,ref:s})})});zp.displayName="FormGroup";const V0=N.forwardRef(({as:i="label",bsPrefix:t,column:e=!1,visuallyHidden:s=!1,className:o,htmlFor:l,...h},m)=>{const{controlId:p}=N.useContext(yr);t=Bt(t,"form-label");let g="col-form-label";typeof e=="string"&&(g=`${g} ${g}-${e}`);const E=Ct(o,t,s&&"visually-hidden",e&&g);return l=l||p,e?M.jsx(ri,{ref:m,as:"label",className:E,htmlFor:l,...h}):M.jsx(i,{ref:m,className:E,htmlFor:l,...h})});V0.displayName="FormLabel";const k0=N.forwardRef(({bsPrefix:i,className:t,id:e,...s},o)=>{const{controlId:l}=N.useContext(yr);return i=Bt(i,"form-range"),M.jsx("input",{...s,type:"range",ref:o,className:Ct(t,i),id:e||l})});k0.displayName="FormRange";const L0=N.forwardRef(({bsPrefix:i,size:t,htmlSize:e,className:s,isValid:o=!1,isInvalid:l=!1,id:h,...m},p)=>{const{controlId:g}=N.useContext(yr);return i=Bt(i,"form-select"),M.jsx("select",{...m,size:e,ref:p,className:Ct(s,i,t&&`${i}-${t}`,o&&"is-valid",l&&"is-invalid"),id:h||g})});L0.displayName="FormSelect";const P0=N.forwardRef(({bsPrefix:i,className:t,as:e="small",muted:s,...o},l)=>(i=Bt(i,"form-text"),M.jsx(e,{...o,ref:l,className:Ct(t,i,s&&"text-muted")})));P0.displayName="FormText";const U0=N.forwardRef((i,t)=>M.jsx(yh,{...i,ref:t,type:"switch"}));U0.displayName="Switch";const MC=Object.assign(U0,{Input:yh.Input,Label:yh.Label}),j0=N.forwardRef(({bsPrefix:i,className:t,children:e,controlId:s,label:o,...l},h)=>(i=Bt(i,"form-floating"),M.jsxs(zp,{ref:h,className:Ct(t,i),controlId:s,...l,children:[e,M.jsx("label",{htmlFor:s,children:o})]})));j0.displayName="FloatingLabel";const VC={_ref:pr.any,validated:pr.bool,as:pr.elementType},Hp=N.forwardRef(({className:i,validated:t,as:e="form",...s},o)=>M.jsx(e,{...s,ref:o,className:Ct(i,t&&"was-validated")}));Hp.displayName="Form";Hp.propTypes=VC;const ie=Object.assign(Hp,{Group:zp,Control:xC,Floating:M0,Check:yh,Switch:MC,Label:V0,Text:P0,Range:k0,Select:L0,FloatingLabel:j0}),aE=i=>!i||typeof i=="function"?i:t=>{i.current=t};function kC(i,t){const e=aE(i),s=aE(t);return o=>{e&&e(o),s&&s(o)}}function Gh(i,t){return N.useMemo(()=>kC(i,t),[i,t])}const B0=N.createContext(null),LC=["as","active","eventKey"];function PC(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}function z0({key:i,onClick:t,active:e,id:s,role:o,disabled:l}){const h=N.useContext(ep),m=N.useContext(Up),p=N.useContext(B0);let g=e;const E={role:o};if(m){!o&&m.role==="tablist"&&(E.role="tab");const S=m.getControllerId(i??null),R=m.getControlledId(i??null);E[qh("event-key")]=i,E.id=S||s,g=e==null&&i!=null?m.activeKey===i:e,(g||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(E["aria-controls"]=R)}return E.role==="tab"&&(E["aria-selected"]=g,g||(E.tabIndex=-1),l&&(E.tabIndex=-1,E["aria-disabled"]=!0)),E.onClick=cr(S=>{l||(t==null||t(S),i!=null&&h&&!S.isPropagationStopped()&&h(i,S))}),[E,{isActive:g}]}const H0=N.forwardRef((i,t)=>{let{as:e=d0,active:s,eventKey:o}=i,l=PC(i,LC);const[h,m]=z0(Object.assign({key:Pp(o,l.href),active:s},l));return h[qh("active")]=m.isActive,M.jsx(e,Object.assign({},l,h,{ref:t}))});H0.displayName="NavItem";const UC=["as","onSelect","activeKey","role","onKeyDown"];function jC(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}const oE=()=>{},lE=qh("event-key"),q0=N.forwardRef((i,t)=>{let{as:e="div",onSelect:s,activeKey:o,role:l,onKeyDown:h}=i,m=jC(i,UC);const p=CC(),g=N.useRef(!1),E=N.useContext(ep),S=N.useContext(B0);let R,P;S&&(l=l||"tablist",o=S.activeKey,R=S.getControlledId,P=S.getControllerId);const U=N.useRef(null),K=et=>{const ct=U.current;if(!ct)return null;const lt=ia(ct,`[${lE}]:not([aria-disabled=true])`),ft=ct.querySelector("[aria-selected=true]");if(!ft||ft!==document.activeElement)return null;const D=lt.indexOf(ft);if(D===-1)return null;let w=D+et;return w>=lt.length&&(w=0),w<0&&(w=lt.length-1),lt[w]},B=(et,ct)=>{et!=null&&(s==null||s(et,ct),E==null||E(et,ct))},it=et=>{if(h==null||h(et),!S)return;let ct;switch(et.key){case"ArrowLeft":case"ArrowUp":ct=K(-1);break;case"ArrowRight":case"ArrowDown":ct=K(1);break;default:return}ct&&(et.preventDefault(),B(ct.dataset[NC("EventKey")]||null,et),g.current=!0,p())};N.useEffect(()=>{if(U.current&&g.current){const et=U.current.querySelector(`[${lE}][aria-selected=true]`);et==null||et.focus()}g.current=!1});const rt=Gh(t,U);return M.jsx(ep.Provider,{value:B,children:M.jsx(Up.Provider,{value:{role:l,activeKey:Pp(o),getControlledId:R||oE,getControllerId:P||oE},children:M.jsx(e,Object.assign({},m,{onKeyDown:it,ref:rt,role:l}))})})});q0.displayName="Nav";const BC=Object.assign(q0,{Item:H0}),F0=N.forwardRef(({bsPrefix:i,active:t,disabled:e,eventKey:s,className:o,variant:l,action:h,as:m,...p},g)=>{i=Bt(i,"list-group-item");const[E,S]=z0({key:Pp(s,p.href),active:t,...p}),R=bo(U=>{if(e){U.preventDefault(),U.stopPropagation();return}E.onClick(U)});e&&p.tabIndex===void 0&&(p.tabIndex=-1,p["aria-disabled"]=!0);const P=m||(h?p.href?"a":"button":"div");return M.jsx(P,{ref:g,...p,...E,onClick:R,className:Ct(o,i,S.isActive&&"active",e&&"disabled",l&&`${i}-${l}`,h&&`${i}-action`)})});F0.displayName="ListGroupItem";const G0=N.forwardRef((i,t)=>{const{className:e,bsPrefix:s,variant:o,horizontal:l,numbered:h,as:m="div",...p}=e0(i,{activeKey:"onSelect"}),g=Bt(s,"list-group");let E;return l&&(E=l===!0?"horizontal":`horizontal-${l}`),M.jsx(BC,{ref:t,...p,as:m,className:Ct(e,g,o&&`${g}-${o}`,E&&`${g}-${E}`,h&&`${g}-numbered`)})});G0.displayName="ListGroup";const wm=Object.assign(G0,{Item:F0});var Xc;function uE(i){if((!Xc&&Xc!==0||i)&&Vo){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Xc=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Xc}function zC(){return N.useState(null)}function Cm(i){i===void 0&&(i=zh());try{var t=i.activeElement;return!t||!t.nodeName?null:t}catch{return i.body}}function HC(i){const t=N.useRef(i);return t.current=i,t}function qC(i){const t=HC(i);N.useEffect(()=>()=>t.current(),[])}function FC(i=document){const t=i.defaultView;return Math.abs(t.innerWidth-i.documentElement.clientWidth)}const cE=qh("modal-open");class qp{constructor({ownerDocument:t,handleContainerOverflow:e=!0,isRTL:s=!1}={}){this.handleContainerOverflow=e,this.isRTL=s,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return FC(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const e={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();t.style={overflow:o.style.overflow,[s]:o.style[s]},t.scrollBarWidth&&(e[s]=`${parseInt(ca(o,s)||"0",10)+t.scrollBarWidth}px`),o.setAttribute(cE,""),ca(o,e)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const e=this.getElement();e.removeAttribute(cE),Object.assign(e.style,t.style)}add(t){let e=this.modals.indexOf(t);return e!==-1||(e=this.modals.length,this.modals.push(t),this.setModalAttributes(t),e!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),e}remove(t){const e=this.modals.indexOf(t);e!==-1&&(this.modals.splice(e,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const Im=(i,t)=>Vo?i==null?(t||zh()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function GC(i,t){const e=jp(),[s,o]=N.useState(()=>Im(i,e==null?void 0:e.document));if(!s){const l=Im(i);l&&o(l)}return N.useEffect(()=>{},[t,s]),N.useEffect(()=>{const l=Im(i);l!==s&&o(l)},[i,s]),s}function KC({children:i,in:t,onExited:e,mountOnEnter:s,unmountOnExit:o}){const l=N.useRef(null),h=N.useRef(t),m=cr(e);N.useEffect(()=>{t?h.current=!0:m(l.current)},[t,m]);const p=Gh(l,Hh(i)),g=N.cloneElement(i,{ref:p});return t?g:o||!h.current&&s?null:g}const $C=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function QC(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}function YC(i){let{onEnter:t,onEntering:e,onEntered:s,onExit:o,onExiting:l,onExited:h,addEndListener:m,children:p}=i,g=QC(i,$C);const E=N.useRef(null),S=Gh(E,Hh(p)),R=ct=>lt=>{ct&&E.current&&ct(E.current,lt)},P=N.useCallback(R(t),[t]),U=N.useCallback(R(e),[e]),K=N.useCallback(R(s),[s]),B=N.useCallback(R(o),[o]),it=N.useCallback(R(l),[l]),rt=N.useCallback(R(h),[h]),et=N.useCallback(R(m),[m]);return Object.assign({},g,{nodeRef:E},t&&{onEnter:P},e&&{onEntering:U},s&&{onEntered:K},o&&{onExit:B},l&&{onExiting:it},h&&{onExited:rt},m&&{addEndListener:et},{children:typeof p=="function"?(ct,lt)=>p(ct,Object.assign({},lt,{ref:S})):N.cloneElement(p,{ref:S})})}const XC=["component"];function WC(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}const ZC=N.forwardRef((i,t)=>{let{component:e}=i,s=WC(i,XC);const o=YC(s);return M.jsx(e,Object.assign({ref:t},o))});function JC({in:i,onTransition:t}){const e=N.useRef(null),s=N.useRef(!0),o=cr(t);return rE(()=>{if(!e.current)return;let l=!1;return o({in:i,element:e.current,initial:s.current,isStale:()=>l}),()=>{l=!0}},[i,o]),rE(()=>(s.current=!1,()=>{s.current=!0}),[]),e}function t1({children:i,in:t,onExited:e,onEntered:s,transition:o}){const[l,h]=N.useState(!t);t&&l&&h(!1);const m=JC({in:!!t,onTransition:g=>{const E=()=>{g.isStale()||(g.in?s==null||s(g.element,g.initial):(h(!0),e==null||e(g.element)))};Promise.resolve(o(g)).then(E,S=>{throw g.in||h(!0),S})}}),p=Gh(m,Hh(i));return l&&!t?null:N.cloneElement(i,{ref:p})}function hE(i,t,e){return i?M.jsx(ZC,Object.assign({},e,{component:i})):t?M.jsx(t1,Object.assign({},e,{transition:t})):M.jsx(KC,Object.assign({},e))}const e1=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function n1(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}let Om;function i1(i){return Om||(Om=new qp({ownerDocument:i==null?void 0:i.document})),Om}function r1(i){const t=jp(),e=i||i1(t),s=N.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>e.add(s.current),remove:()=>e.remove(s.current),isTopModal:()=>e.isTopModal(s.current),setDialogRef:N.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:N.useCallback(o=>{s.current.backdrop=o},[])})}const K0=N.forwardRef((i,t)=>{let{show:e=!1,role:s="dialog",className:o,style:l,children:h,backdrop:m=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:E,transition:S,runTransition:R,backdropTransition:P,runBackdropTransition:U,autoFocus:K=!0,enforceFocus:B=!0,restoreFocus:it=!0,restoreFocusOptions:rt,renderDialog:et,renderBackdrop:ct=Vt=>M.jsx("div",Object.assign({},Vt)),manager:lt,container:ft,onShow:D,onHide:w=()=>{},onExit:b,onExited:O,onExiting:V,onEnter:j,onEntering:I,onEntered:he}=i,re=n1(i,e1);const nt=jp(),mt=GC(ft),ut=r1(lt),Mt=iC(),x=rC(e),[Z,dt]=N.useState(!e),st=N.useRef(null);N.useImperativeHandle(t,()=>ut,[ut]),Vo&&!x&&e&&(st.current=Cm(nt==null?void 0:nt.document)),e&&Z&&dt(!1);const at=cr(()=>{if(ut.add(),Lt.current=ph(document,"keydown",Ot),Jt.current=ph(document,"focus",()=>setTimeout(gt),!0),D&&D(),K){var Vt,rn;const Sn=Cm((Vt=(rn=ut.dialog)==null?void 0:rn.ownerDocument)!=null?Vt:nt==null?void 0:nt.document);ut.dialog&&Sn&&!sE(ut.dialog,Sn)&&(st.current=Sn,ut.dialog.focus())}}),bt=cr(()=>{if(ut.remove(),Lt.current==null||Lt.current(),Jt.current==null||Jt.current(),it){var Vt;(Vt=st.current)==null||Vt.focus==null||Vt.focus(rt),st.current=null}});N.useEffect(()=>{!e||!mt||at()},[e,mt,at]),N.useEffect(()=>{Z&&bt()},[Z,bt]),qC(()=>{bt()});const gt=cr(()=>{if(!B||!Mt()||!ut.isTopModal())return;const Vt=Cm(nt==null?void 0:nt.document);ut.dialog&&Vt&&!sE(ut.dialog,Vt)&&ut.dialog.focus()}),oe=cr(Vt=>{Vt.target===Vt.currentTarget&&(g==null||g(Vt),m===!0&&w())}),Ot=cr(Vt=>{p&&Yw(Vt)&&ut.isTopModal()&&(E==null||E(Vt),Vt.defaultPrevented||w())}),Jt=N.useRef(),Lt=N.useRef(),te=(...Vt)=>{dt(!0),O==null||O(...Vt)};if(!mt)return null;const le=Object.assign({role:s,ref:ut.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},re,{style:l,className:o,tabIndex:-1});let Ee=et?et(le):M.jsx("div",Object.assign({},le,{children:N.cloneElement(h,{role:"document"})}));Ee=hE(S,R,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!e,onExit:b,onExiting:V,onExited:te,onEnter:j,onEntering:I,onEntered:he,children:Ee});let He=null;return m&&(He=ct({ref:ut.setBackdropRef,onClick:oe}),He=hE(P,U,{in:!!e,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:He})),M.jsx(M.Fragment,{children:_o.createPortal(M.jsxs(M.Fragment,{children:[He,Ee]}),mt)})});K0.displayName="Modal";const s1=Object.assign(K0,{Manager:qp});function a1(i,t){return i.classList?i.classList.contains(t):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+t+" ")!==-1}function o1(i,t){i.classList?i.classList.add(t):a1(i,t)||(typeof i.className=="string"?i.className=i.className+" "+t:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+t))}function fE(i,t){return i.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function l1(i,t){i.classList?i.classList.remove(t):typeof i.className=="string"?i.className=fE(i.className,t):i.setAttribute("class",fE(i.className&&i.className.baseVal||"",t))}const fo={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class u1 extends qp{adjustAndStore(t,e,s){const o=e.style[t];e.dataset[t]=o,ca(e,{[t]:`${parseFloat(ca(e,t))+s}px`})}restore(t,e){const s=e.dataset[t];s!==void 0&&(delete e.dataset[t],ca(e,{[t]:s}))}setContainerStyle(t){super.setContainerStyle(t);const e=this.getElement();if(o1(e,"modal-open"),!t.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";ia(e,fo.FIXED_CONTENT).forEach(l=>this.adjustAndStore(s,l,t.scrollBarWidth)),ia(e,fo.STICKY_CONTENT).forEach(l=>this.adjustAndStore(o,l,-t.scrollBarWidth)),ia(e,fo.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(o,l,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const e=this.getElement();l1(e,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";ia(e,fo.FIXED_CONTENT).forEach(l=>this.restore(s,l)),ia(e,fo.STICKY_CONTENT).forEach(l=>this.restore(o,l)),ia(e,fo.NAVBAR_TOGGLER).forEach(l=>this.restore(o,l))}}let Nm;function c1(i){return Nm||(Nm=new u1(i)),Nm}const $0=N.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=Bt(t,"modal-body"),M.jsx(e,{ref:o,className:Ct(i,t),...s})));$0.displayName="ModalBody";const Q0=N.createContext({onHide(){}}),Fp=N.forwardRef(({bsPrefix:i,className:t,contentClassName:e,centered:s,size:o,fullscreen:l,children:h,scrollable:m,...p},g)=>{i=Bt(i,"modal");const E=`${i}-dialog`,S=typeof l=="string"?`${i}-fullscreen-${l}`:`${i}-fullscreen`;return M.jsx("div",{...p,ref:g,className:Ct(E,t,o&&`${i}-${o}`,s&&`${E}-centered`,m&&`${E}-scrollable`,l&&S),children:M.jsx("div",{className:Ct(`${i}-content`,e),children:h})})});Fp.displayName="ModalDialog";const Y0=N.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=Bt(t,"modal-footer"),M.jsx(e,{ref:o,className:Ct(i,t),...s})));Y0.displayName="ModalFooter";const h1=N.forwardRef(({closeLabel:i="Close",closeVariant:t,closeButton:e=!1,onHide:s,children:o,...l},h)=>{const m=N.useContext(Q0),p=bo(()=>{m==null||m.onHide(),s==null||s()});return M.jsxs("div",{ref:h,...l,children:[o,e&&M.jsx(kp,{"aria-label":i,variant:t,onClick:p})]})}),X0=N.forwardRef(({bsPrefix:i,className:t,closeLabel:e="Close",closeButton:s=!1,...o},l)=>(i=Bt(i,"modal-header"),M.jsx(h1,{ref:l,...o,className:Ct(t,i),closeLabel:e,closeButton:s})));X0.displayName="ModalHeader";const f1=xp("h4"),W0=N.forwardRef(({className:i,bsPrefix:t,as:e=f1,...s},o)=>(t=Bt(t,"modal-title"),M.jsx(e,{ref:o,className:Ct(i,t),...s})));W0.displayName="ModalTitle";function d1(i){return M.jsx(Vp,{...i,timeout:null})}function m1(i){return M.jsx(Vp,{...i,timeout:null})}const Z0=N.forwardRef(({bsPrefix:i,className:t,style:e,dialogClassName:s,contentClassName:o,children:l,dialogAs:h=Fp,"data-bs-theme":m,"aria-labelledby":p,"aria-describedby":g,"aria-label":E,show:S=!1,animation:R=!0,backdrop:P=!0,keyboard:U=!0,onEscapeKeyDown:K,onShow:B,onHide:it,container:rt,autoFocus:et=!0,enforceFocus:ct=!0,restoreFocus:lt=!0,restoreFocusOptions:ft,onEntered:D,onExit:w,onExiting:b,onEnter:O,onEntering:V,onExited:j,backdropClassName:I,manager:he,...re},nt)=>{const[mt,ut]=N.useState({}),[Mt,x]=N.useState(!1),Z=N.useRef(!1),dt=N.useRef(!1),st=N.useRef(null),[at,bt]=zC(),gt=c0(nt,bt),oe=bo(it),Ot=r0();i=Bt(i,"modal");const Jt=N.useMemo(()=>({onHide:oe}),[oe]);function Lt(){return he||c1({isRTL:Ot})}function te(vt){if(!Vo)return;const ue=Lt().getScrollbarWidth()>0,yn=vt.scrollHeight>zh(vt).documentElement.clientHeight;ut({paddingRight:ue&&!yn?uE():void 0,paddingLeft:!ue&&yn?uE():void 0})}const le=bo(()=>{at&&te(at.dialog)});b0(()=>{Wm(window,"resize",le),st.current==null||st.current()});const Ee=()=>{Z.current=!0},He=vt=>{Z.current&&at&&vt.target===at.dialog&&(dt.current=!0),Z.current=!1},Vt=()=>{x(!0),st.current=o0(at.dialog,()=>{x(!1)})},rn=vt=>{vt.target===vt.currentTarget&&Vt()},Sn=vt=>{if(P==="static"){rn(vt);return}if(dt.current||vt.target!==vt.currentTarget){dt.current=!1;return}it==null||it()},ci=vt=>{U?K==null||K(vt):(vt.preventDefault(),P==="static"&&Vt())},hi=(vt,ue)=>{vt&&te(vt),O==null||O(vt,ue)},Xn=vt=>{st.current==null||st.current(),w==null||w(vt)},fi=(vt,ue)=>{V==null||V(vt,ue),a0(window,"resize",le)},bs=vt=>{vt&&(vt.style.display=""),j==null||j(vt),Wm(window,"resize",le)},di=N.useCallback(vt=>M.jsx("div",{...vt,className:Ct(`${i}-backdrop`,I,!R&&"show")}),[R,I,i]),Te={...e,...mt};Te.display="block";const Ui=vt=>M.jsx("div",{role:"dialog",...vt,style:Te,className:Ct(t,i,Mt&&`${i}-static`,!R&&"show"),onClick:P?Sn:void 0,onMouseUp:He,"data-bs-theme":m,"aria-label":E,"aria-labelledby":p,"aria-describedby":g,children:M.jsx(h,{...re,onMouseDown:Ee,className:s,contentClassName:o,children:l})});return M.jsx(Q0.Provider,{value:Jt,children:M.jsx(s1,{show:S,ref:gt,backdrop:P,container:rt,keyboard:!0,autoFocus:et,enforceFocus:ct,restoreFocus:lt,restoreFocusOptions:ft,onEscapeKeyDown:ci,onShow:B,onHide:it,onEnter:hi,onEntering:fi,onEntered:D,onExit:Xn,onExiting:b,onExited:bs,manager:Lt(),transition:R?d1:void 0,backdropTransition:R?m1:void 0,renderBackdrop:di,renderDialog:Ui})})});Z0.displayName="Modal";const aa=Object.assign(Z0,{Body:$0,Header:X0,Title:W0,Footer:Y0,Dialog:Fp,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),dE=1e3;function p1(i,t,e){const s=(i-t)/(e-t)*100;return Math.round(s*dE)/dE}function mE({min:i,now:t,max:e,label:s,visuallyHidden:o,striped:l,animated:h,className:m,style:p,variant:g,bsPrefix:E,...S},R){return M.jsx("div",{ref:R,...S,role:"progressbar",className:Ct(m,`${E}-bar`,{[`bg-${g}`]:g,[`${E}-bar-animated`]:h,[`${E}-bar-striped`]:h||l}),style:{width:`${p1(t,i,e)}%`,...p},"aria-valuenow":t,"aria-valuemin":i,"aria-valuemax":e,children:o?M.jsx("span",{className:"visually-hidden",children:s}):s})}const J0=N.forwardRef(({isChild:i=!1,...t},e)=>{const s={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...t};if(s.bsPrefix=Bt(s.bsPrefix,"progress"),i)return mE(s,e);const{min:o,now:l,max:h,label:m,visuallyHidden:p,striped:g,animated:E,bsPrefix:S,variant:R,className:P,children:U,...K}=s;return M.jsx("div",{ref:e,...K,className:Ct(P,S),children:U?tp(U,B=>N.cloneElement(B,{isChild:!0})):mE({min:o,now:l,max:h,label:m,visuallyHidden:p,striped:g,animated:E,bsPrefix:S,variant:R},e)})});J0.displayName="ProgressBar";const Yl=N.forwardRef(({bsPrefix:i,className:t,as:e="div",...s},o)=>{const l=Bt(i,"row"),h=n0(),m=i0(),p=`${l}-cols`,g=[];return h.forEach(E=>{const S=s[E];delete s[E];let R;S!=null&&typeof S=="object"?{cols:R}=S:R=S;const P=E!==m?`-${E}`:"";R!=null&&g.push(`${p}${P}-${R}`)}),M.jsx(e,{ref:o,...s,className:Ct(t,l,...g)})});Yl.displayName="Row";const g1=({selectedContact:i})=>M.jsxs(ri,{md:4,className:"contact-details",children:[M.jsx("h2",{children:"Detalles Personales"}),i?M.jsxs("div",{className:"agenda-details",children:[M.jsxs("p",{children:[M.jsx("strong",{children:"Nombre:"})," ",i.firstName]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Apellido:"})," ",i.lastName]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Calle:"})," ",i.street]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Ciudad:"})," ",i.city]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Cdigo Postal:"})," ",i.postalCode]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Cumpleaos:"})," ",i.birthday]})]}):M.jsx("p",{className:"agenda-details",children:"Selecciona un contacto"})]});function tS(i,t){return function(){return i.apply(t,arguments)}}const{toString:y1}=Object.prototype,{getPrototypeOf:Gp}=Object,Kh=(i=>t=>{const e=y1.call(t);return i[e]||(i[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),ui=i=>(i=i.toLowerCase(),t=>Kh(t)===i),$h=i=>t=>typeof t===i,{isArray:ko}=Array,au=$h("undefined");function _1(i){return i!==null&&!au(i)&&i.constructor!==null&&!au(i.constructor)&&Nn(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const eS=ui("ArrayBuffer");function v1(i){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(i):t=i&&i.buffer&&eS(i.buffer),t}const E1=$h("string"),Nn=$h("function"),nS=$h("number"),Qh=i=>i!==null&&typeof i=="object",T1=i=>i===!0||i===!1,ih=i=>{if(Kh(i)!=="object")return!1;const t=Gp(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},S1=ui("Date"),A1=ui("File"),b1=ui("Blob"),R1=ui("FileList"),w1=i=>Qh(i)&&Nn(i.pipe),C1=i=>{let t;return i&&(typeof FormData=="function"&&i instanceof FormData||Nn(i.append)&&((t=Kh(i))==="formdata"||t==="object"&&Nn(i.toString)&&i.toString()==="[object FormData]"))},I1=ui("URLSearchParams"),[O1,N1,D1,x1]=["ReadableStream","Request","Response","Headers"].map(ui),M1=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vu(i,t,{allOwnKeys:e=!1}={}){if(i===null||typeof i>"u")return;let s,o;if(typeof i!="object"&&(i=[i]),ko(i))for(s=0,o=i.length;s<o;s++)t.call(null,i[s],s,i);else{const l=e?Object.getOwnPropertyNames(i):Object.keys(i),h=l.length;let m;for(s=0;s<h;s++)m=l[s],t.call(null,i[m],m,i)}}function iS(i,t){t=t.toLowerCase();const e=Object.keys(i);let s=e.length,o;for(;s-- >0;)if(o=e[s],t===o.toLowerCase())return o;return null}const la=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rS=i=>!au(i)&&i!==la;function np(){const{caseless:i}=rS(this)&&this||{},t={},e=(s,o)=>{const l=i&&iS(t,o)||o;ih(t[l])&&ih(s)?t[l]=np(t[l],s):ih(s)?t[l]=np({},s):ko(s)?t[l]=s.slice():t[l]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&vu(arguments[s],e);return t}const V1=(i,t,e,{allOwnKeys:s}={})=>(vu(t,(o,l)=>{e&&Nn(o)?i[l]=tS(o,e):i[l]=o},{allOwnKeys:s}),i),k1=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),L1=(i,t,e,s)=>{i.prototype=Object.create(t.prototype,s),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:t.prototype}),e&&Object.assign(i.prototype,e)},P1=(i,t,e,s)=>{let o,l,h;const m={};if(t=t||{},i==null)return t;do{for(o=Object.getOwnPropertyNames(i),l=o.length;l-- >0;)h=o[l],(!s||s(h,i,t))&&!m[h]&&(t[h]=i[h],m[h]=!0);i=e!==!1&&Gp(i)}while(i&&(!e||e(i,t))&&i!==Object.prototype);return t},U1=(i,t,e)=>{i=String(i),(e===void 0||e>i.length)&&(e=i.length),e-=t.length;const s=i.indexOf(t,e);return s!==-1&&s===e},j1=i=>{if(!i)return null;if(ko(i))return i;let t=i.length;if(!nS(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=i[t];return e},B1=(i=>t=>i&&t instanceof i)(typeof Uint8Array<"u"&&Gp(Uint8Array)),z1=(i,t)=>{const s=(i&&i[Symbol.iterator]).call(i);let o;for(;(o=s.next())&&!o.done;){const l=o.value;t.call(i,l[0],l[1])}},H1=(i,t)=>{let e;const s=[];for(;(e=i.exec(t))!==null;)s.push(e);return s},q1=ui("HTMLFormElement"),F1=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,s,o){return s.toUpperCase()+o}),pE=(({hasOwnProperty:i})=>(t,e)=>i.call(t,e))(Object.prototype),G1=ui("RegExp"),sS=(i,t)=>{const e=Object.getOwnPropertyDescriptors(i),s={};vu(e,(o,l)=>{let h;(h=t(o,l,i))!==!1&&(s[l]=h||o)}),Object.defineProperties(i,s)},K1=i=>{sS(i,(t,e)=>{if(Nn(i)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const s=i[e];if(Nn(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},$1=(i,t)=>{const e={},s=o=>{o.forEach(l=>{e[l]=!0})};return ko(i)?s(i):s(String(i).split(t)),e},Q1=()=>{},Y1=(i,t)=>i!=null&&Number.isFinite(i=+i)?i:t,Dm="abcdefghijklmnopqrstuvwxyz",gE="0123456789",aS={DIGIT:gE,ALPHA:Dm,ALPHA_DIGIT:Dm+Dm.toUpperCase()+gE},X1=(i=16,t=aS.ALPHA_DIGIT)=>{let e="";const{length:s}=t;for(;i--;)e+=t[Math.random()*s|0];return e};function W1(i){return!!(i&&Nn(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const Z1=i=>{const t=new Array(10),e=(s,o)=>{if(Qh(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[o]=s;const l=ko(s)?[]:{};return vu(s,(h,m)=>{const p=e(h,o+1);!au(p)&&(l[m]=p)}),t[o]=void 0,l}}return s};return e(i,0)},J1=ui("AsyncFunction"),tI=i=>i&&(Qh(i)||Nn(i))&&Nn(i.then)&&Nn(i.catch),oS=((i,t)=>i?setImmediate:t?((e,s)=>(la.addEventListener("message",({source:o,data:l})=>{o===la&&l===e&&s.length&&s.shift()()},!1),o=>{s.push(o),la.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",Nn(la.postMessage)),eI=typeof queueMicrotask<"u"?queueMicrotask.bind(la):typeof process<"u"&&process.nextTick||oS,$={isArray:ko,isArrayBuffer:eS,isBuffer:_1,isFormData:C1,isArrayBufferView:v1,isString:E1,isNumber:nS,isBoolean:T1,isObject:Qh,isPlainObject:ih,isReadableStream:O1,isRequest:N1,isResponse:D1,isHeaders:x1,isUndefined:au,isDate:S1,isFile:A1,isBlob:b1,isRegExp:G1,isFunction:Nn,isStream:w1,isURLSearchParams:I1,isTypedArray:B1,isFileList:R1,forEach:vu,merge:np,extend:V1,trim:M1,stripBOM:k1,inherits:L1,toFlatObject:P1,kindOf:Kh,kindOfTest:ui,endsWith:U1,toArray:j1,forEachEntry:z1,matchAll:H1,isHTMLForm:q1,hasOwnProperty:pE,hasOwnProp:pE,reduceDescriptors:sS,freezeMethods:K1,toObjectSet:$1,toCamelCase:F1,noop:Q1,toFiniteNumber:Y1,findKey:iS,global:la,isContextDefined:rS,ALPHABET:aS,generateString:X1,isSpecCompliantForm:W1,toJSONObject:Z1,isAsyncFn:J1,isThenable:tI,setImmediate:oS,asap:eI};function xt(i,t,e,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}$.inherits(xt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const lS=xt.prototype,uS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{uS[i]={value:i}});Object.defineProperties(xt,uS);Object.defineProperty(lS,"isAxiosError",{value:!0});xt.from=(i,t,e,s,o,l)=>{const h=Object.create(lS);return $.toFlatObject(i,h,function(p){return p!==Error.prototype},m=>m!=="isAxiosError"),xt.call(h,i.message,t,e,s,o),h.cause=i,h.name=i.name,l&&Object.assign(h,l),h};const nI=null;function ip(i){return $.isPlainObject(i)||$.isArray(i)}function cS(i){return $.endsWith(i,"[]")?i.slice(0,-2):i}function yE(i,t,e){return i?i.concat(t).map(function(o,l){return o=cS(o),!e&&l?"["+o+"]":o}).join(e?".":""):t}function iI(i){return $.isArray(i)&&!i.some(ip)}const rI=$.toFlatObject($,{},null,function(t){return/^is[A-Z]/.test(t)});function Yh(i,t,e){if(!$.isObject(i))throw new TypeError("target must be an object");t=t||new FormData,e=$.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(K,B){return!$.isUndefined(B[K])});const s=e.metaTokens,o=e.visitor||E,l=e.dots,h=e.indexes,p=(e.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(t);if(!$.isFunction(o))throw new TypeError("visitor must be a function");function g(U){if(U===null)return"";if($.isDate(U))return U.toISOString();if(!p&&$.isBlob(U))throw new xt("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(U)||$.isTypedArray(U)?p&&typeof Blob=="function"?new Blob([U]):Buffer.from(U):U}function E(U,K,B){let it=U;if(U&&!B&&typeof U=="object"){if($.endsWith(K,"{}"))K=s?K:K.slice(0,-2),U=JSON.stringify(U);else if($.isArray(U)&&iI(U)||($.isFileList(U)||$.endsWith(K,"[]"))&&(it=$.toArray(U)))return K=cS(K),it.forEach(function(et,ct){!($.isUndefined(et)||et===null)&&t.append(h===!0?yE([K],ct,l):h===null?K:K+"[]",g(et))}),!1}return ip(U)?!0:(t.append(yE(B,K,l),g(U)),!1)}const S=[],R=Object.assign(rI,{defaultVisitor:E,convertValue:g,isVisitable:ip});function P(U,K){if(!$.isUndefined(U)){if(S.indexOf(U)!==-1)throw Error("Circular reference detected in "+K.join("."));S.push(U),$.forEach(U,function(it,rt){(!($.isUndefined(it)||it===null)&&o.call(t,it,$.isString(rt)?rt.trim():rt,K,R))===!0&&P(it,K?K.concat(rt):[rt])}),S.pop()}}if(!$.isObject(i))throw new TypeError("data must be an object");return P(i),t}function _E(i){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Kp(i,t){this._pairs=[],i&&Yh(i,this,t)}const hS=Kp.prototype;hS.append=function(t,e){this._pairs.push([t,e])};hS.toString=function(t){const e=t?function(s){return t.call(this,s,_E)}:_E;return this._pairs.map(function(o){return e(o[0])+"="+e(o[1])},"").join("&")};function sI(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fS(i,t,e){if(!t)return i;const s=e&&e.encode||sI;$.isFunction(e)&&(e={serialize:e});const o=e&&e.serialize;let l;if(o?l=o(t,e):l=$.isURLSearchParams(t)?t.toString():new Kp(t,e).toString(s),l){const h=i.indexOf("#");h!==-1&&(i=i.slice(0,h)),i+=(i.indexOf("?")===-1?"?":"&")+l}return i}class vE{constructor(){this.handlers=[]}use(t,e,s){return this.handlers.push({fulfilled:t,rejected:e,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){$.forEach(this.handlers,function(s){s!==null&&t(s)})}}const dS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aI=typeof URLSearchParams<"u"?URLSearchParams:Kp,oI=typeof FormData<"u"?FormData:null,lI=typeof Blob<"u"?Blob:null,uI={isBrowser:!0,classes:{URLSearchParams:aI,FormData:oI,Blob:lI},protocols:["http","https","file","blob","url","data"]},$p=typeof window<"u"&&typeof document<"u",rp=typeof navigator=="object"&&navigator||void 0,cI=$p&&(!rp||["ReactNative","NativeScript","NS"].indexOf(rp.product)<0),hI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",fI=$p&&window.location.href||"http://localhost",dI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$p,hasStandardBrowserEnv:cI,hasStandardBrowserWebWorkerEnv:hI,navigator:rp,origin:fI},Symbol.toStringTag,{value:"Module"})),cn={...dI,...uI};function mI(i,t){return Yh(i,new cn.classes.URLSearchParams,Object.assign({visitor:function(e,s,o,l){return cn.isNode&&$.isBuffer(e)?(this.append(s,e.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},t))}function pI(i){return $.matchAll(/\w+|\[(\w*)]/g,i).map(t=>t[0]==="[]"?"":t[1]||t[0])}function gI(i){const t={},e=Object.keys(i);let s;const o=e.length;let l;for(s=0;s<o;s++)l=e[s],t[l]=i[l];return t}function mS(i){function t(e,s,o,l){let h=e[l++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),p=l>=e.length;return h=!h&&$.isArray(o)?o.length:h,p?($.hasOwnProp(o,h)?o[h]=[o[h],s]:o[h]=s,!m):((!o[h]||!$.isObject(o[h]))&&(o[h]=[]),t(e,s,o[h],l)&&$.isArray(o[h])&&(o[h]=gI(o[h])),!m)}if($.isFormData(i)&&$.isFunction(i.entries)){const e={};return $.forEachEntry(i,(s,o)=>{t(pI(s),o,e,0)}),e}return null}function yI(i,t,e){if($.isString(i))try{return(t||JSON.parse)(i),$.trim(i)}catch(s){if(s.name!=="SyntaxError")throw s}return(e||JSON.stringify)(i)}const Eu={transitional:dS,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const s=e.getContentType()||"",o=s.indexOf("application/json")>-1,l=$.isObject(t);if(l&&$.isHTMLForm(t)&&(t=new FormData(t)),$.isFormData(t))return o?JSON.stringify(mS(t)):t;if($.isArrayBuffer(t)||$.isBuffer(t)||$.isStream(t)||$.isFile(t)||$.isBlob(t)||$.isReadableStream(t))return t;if($.isArrayBufferView(t))return t.buffer;if($.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let m;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return mI(t,this.formSerializer).toString();if((m=$.isFileList(t))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Yh(m?{"files[]":t}:t,p&&new p,this.formSerializer)}}return l||o?(e.setContentType("application/json",!1),yI(t)):t}],transformResponse:[function(t){const e=this.transitional||Eu.transitional,s=e&&e.forcedJSONParsing,o=this.responseType==="json";if($.isResponse(t)||$.isReadableStream(t))return t;if(t&&$.isString(t)&&(s&&!this.responseType||o)){const h=!(e&&e.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(m){if(h)throw m.name==="SyntaxError"?xt.from(m,xt.ERR_BAD_RESPONSE,this,null,this.response):m}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cn.classes.FormData,Blob:cn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],i=>{Eu.headers[i]={}});const _I=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vI=i=>{const t={};let e,s,o;return i&&i.split(`
`).forEach(function(h){o=h.indexOf(":"),e=h.substring(0,o).trim().toLowerCase(),s=h.substring(o+1).trim(),!(!e||t[e]&&_I[e])&&(e==="set-cookie"?t[e]?t[e].push(s):t[e]=[s]:t[e]=t[e]?t[e]+", "+s:s)}),t},EE=Symbol("internals");function $l(i){return i&&String(i).trim().toLowerCase()}function rh(i){return i===!1||i==null?i:$.isArray(i)?i.map(rh):String(i)}function EI(i){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=e.exec(i);)t[s[1]]=s[2];return t}const TI=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function xm(i,t,e,s,o){if($.isFunction(s))return s.call(this,t,e);if(o&&(t=e),!!$.isString(t)){if($.isString(s))return t.indexOf(s)!==-1;if($.isRegExp(s))return s.test(t)}}function SI(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,s)=>e.toUpperCase()+s)}function AI(i,t){const e=$.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(i,s+e,{value:function(o,l,h){return this[s].call(this,t,o,l,h)},configurable:!0})})}let Tn=class{constructor(t){t&&this.set(t)}set(t,e,s){const o=this;function l(m,p,g){const E=$l(p);if(!E)throw new Error("header name must be a non-empty string");const S=$.findKey(o,E);(!S||o[S]===void 0||g===!0||g===void 0&&o[S]!==!1)&&(o[S||p]=rh(m))}const h=(m,p)=>$.forEach(m,(g,E)=>l(g,E,p));if($.isPlainObject(t)||t instanceof this.constructor)h(t,e);else if($.isString(t)&&(t=t.trim())&&!TI(t))h(vI(t),e);else if($.isHeaders(t))for(const[m,p]of t.entries())l(p,m,s);else t!=null&&l(e,t,s);return this}get(t,e){if(t=$l(t),t){const s=$.findKey(this,t);if(s){const o=this[s];if(!e)return o;if(e===!0)return EI(o);if($.isFunction(e))return e.call(this,o,s);if($.isRegExp(e))return e.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=$l(t),t){const s=$.findKey(this,t);return!!(s&&this[s]!==void 0&&(!e||xm(this,this[s],s,e)))}return!1}delete(t,e){const s=this;let o=!1;function l(h){if(h=$l(h),h){const m=$.findKey(s,h);m&&(!e||xm(s,s[m],m,e))&&(delete s[m],o=!0)}}return $.isArray(t)?t.forEach(l):l(t),o}clear(t){const e=Object.keys(this);let s=e.length,o=!1;for(;s--;){const l=e[s];(!t||xm(this,this[l],l,t,!0))&&(delete this[l],o=!0)}return o}normalize(t){const e=this,s={};return $.forEach(this,(o,l)=>{const h=$.findKey(s,l);if(h){e[h]=rh(o),delete e[l];return}const m=t?SI(l):String(l).trim();m!==l&&delete e[l],e[m]=rh(o),s[m]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return $.forEach(this,(s,o)=>{s!=null&&s!==!1&&(e[o]=t&&$.isArray(s)?s.join(", "):s)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const s=new this(t);return e.forEach(o=>s.set(o)),s}static accessor(t){const s=(this[EE]=this[EE]={accessors:{}}).accessors,o=this.prototype;function l(h){const m=$l(h);s[m]||(AI(o,h),s[m]=!0)}return $.isArray(t)?t.forEach(l):l(t),this}};Tn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(Tn.prototype,({value:i},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>i,set(s){this[e]=s}}});$.freezeMethods(Tn);function Mm(i,t){const e=this||Eu,s=t||e,o=Tn.from(s.headers);let l=s.data;return $.forEach(i,function(m){l=m.call(e,l,o.normalize(),t?t.status:void 0)}),o.normalize(),l}function pS(i){return!!(i&&i.__CANCEL__)}function Lo(i,t,e){xt.call(this,i??"canceled",xt.ERR_CANCELED,t,e),this.name="CanceledError"}$.inherits(Lo,xt,{__CANCEL__:!0});function gS(i,t,e){const s=e.config.validateStatus;!e.status||!s||s(e.status)?i(e):t(new xt("Request failed with status code "+e.status,[xt.ERR_BAD_REQUEST,xt.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function bI(i){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return t&&t[1]||""}function RI(i,t){i=i||10;const e=new Array(i),s=new Array(i);let o=0,l=0,h;return t=t!==void 0?t:1e3,function(p){const g=Date.now(),E=s[l];h||(h=g),e[o]=p,s[o]=g;let S=l,R=0;for(;S!==o;)R+=e[S++],S=S%i;if(o=(o+1)%i,o===l&&(l=(l+1)%i),g-h<t)return;const P=E&&g-E;return P?Math.round(R*1e3/P):void 0}}function wI(i,t){let e=0,s=1e3/t,o,l;const h=(g,E=Date.now())=>{e=E,o=null,l&&(clearTimeout(l),l=null),i.apply(null,g)};return[(...g)=>{const E=Date.now(),S=E-e;S>=s?h(g,E):(o=g,l||(l=setTimeout(()=>{l=null,h(o)},s-S)))},()=>o&&h(o)]}const _h=(i,t,e=3)=>{let s=0;const o=RI(50,250);return wI(l=>{const h=l.loaded,m=l.lengthComputable?l.total:void 0,p=h-s,g=o(p),E=h<=m;s=h;const S={loaded:h,total:m,progress:m?h/m:void 0,bytes:p,rate:g||void 0,estimated:g&&m&&E?(m-h)/g:void 0,event:l,lengthComputable:m!=null,[t?"download":"upload"]:!0};i(S)},e)},TE=(i,t)=>{const e=i!=null;return[s=>t[0]({lengthComputable:e,total:i,loaded:s}),t[1]]},SE=i=>(...t)=>$.asap(()=>i(...t)),CI=cn.hasStandardBrowserEnv?((i,t)=>e=>(e=new URL(e,cn.origin),i.protocol===e.protocol&&i.host===e.host&&(t||i.port===e.port)))(new URL(cn.origin),cn.navigator&&/(msie|trident)/i.test(cn.navigator.userAgent)):()=>!0,II=cn.hasStandardBrowserEnv?{write(i,t,e,s,o,l){const h=[i+"="+encodeURIComponent(t)];$.isNumber(e)&&h.push("expires="+new Date(e).toGMTString()),$.isString(s)&&h.push("path="+s),$.isString(o)&&h.push("domain="+o),l===!0&&h.push("secure"),document.cookie=h.join("; ")},read(i){const t=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function OI(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function NI(i,t){return t?i.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):i}function yS(i,t){return i&&!OI(t)?NI(i,t):t}const AE=i=>i instanceof Tn?{...i}:i;function fa(i,t){t=t||{};const e={};function s(g,E,S,R){return $.isPlainObject(g)&&$.isPlainObject(E)?$.merge.call({caseless:R},g,E):$.isPlainObject(E)?$.merge({},E):$.isArray(E)?E.slice():E}function o(g,E,S,R){if($.isUndefined(E)){if(!$.isUndefined(g))return s(void 0,g,S,R)}else return s(g,E,S,R)}function l(g,E){if(!$.isUndefined(E))return s(void 0,E)}function h(g,E){if($.isUndefined(E)){if(!$.isUndefined(g))return s(void 0,g)}else return s(void 0,E)}function m(g,E,S){if(S in t)return s(g,E);if(S in i)return s(void 0,g)}const p={url:l,method:l,data:l,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(g,E,S)=>o(AE(g),AE(E),S,!0)};return $.forEach(Object.keys(Object.assign({},i,t)),function(E){const S=p[E]||o,R=S(i[E],t[E],E);$.isUndefined(R)&&S!==m||(e[E]=R)}),e}const _S=i=>{const t=fa({},i);let{data:e,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:l,headers:h,auth:m}=t;t.headers=h=Tn.from(h),t.url=fS(yS(t.baseURL,t.url),i.params,i.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let p;if($.isFormData(e)){if(cn.hasStandardBrowserEnv||cn.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((p=h.getContentType())!==!1){const[g,...E]=p?p.split(";").map(S=>S.trim()).filter(Boolean):[];h.setContentType([g||"multipart/form-data",...E].join("; "))}}if(cn.hasStandardBrowserEnv&&(s&&$.isFunction(s)&&(s=s(t)),s||s!==!1&&CI(t.url))){const g=o&&l&&II.read(l);g&&h.set(o,g)}return t},DI=typeof XMLHttpRequest<"u",xI=DI&&function(i){return new Promise(function(e,s){const o=_S(i);let l=o.data;const h=Tn.from(o.headers).normalize();let{responseType:m,onUploadProgress:p,onDownloadProgress:g}=o,E,S,R,P,U;function K(){P&&P(),U&&U(),o.cancelToken&&o.cancelToken.unsubscribe(E),o.signal&&o.signal.removeEventListener("abort",E)}let B=new XMLHttpRequest;B.open(o.method.toUpperCase(),o.url,!0),B.timeout=o.timeout;function it(){if(!B)return;const et=Tn.from("getAllResponseHeaders"in B&&B.getAllResponseHeaders()),lt={data:!m||m==="text"||m==="json"?B.responseText:B.response,status:B.status,statusText:B.statusText,headers:et,config:i,request:B};gS(function(D){e(D),K()},function(D){s(D),K()},lt),B=null}"onloadend"in B?B.onloadend=it:B.onreadystatechange=function(){!B||B.readyState!==4||B.status===0&&!(B.responseURL&&B.responseURL.indexOf("file:")===0)||setTimeout(it)},B.onabort=function(){B&&(s(new xt("Request aborted",xt.ECONNABORTED,i,B)),B=null)},B.onerror=function(){s(new xt("Network Error",xt.ERR_NETWORK,i,B)),B=null},B.ontimeout=function(){let ct=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const lt=o.transitional||dS;o.timeoutErrorMessage&&(ct=o.timeoutErrorMessage),s(new xt(ct,lt.clarifyTimeoutError?xt.ETIMEDOUT:xt.ECONNABORTED,i,B)),B=null},l===void 0&&h.setContentType(null),"setRequestHeader"in B&&$.forEach(h.toJSON(),function(ct,lt){B.setRequestHeader(lt,ct)}),$.isUndefined(o.withCredentials)||(B.withCredentials=!!o.withCredentials),m&&m!=="json"&&(B.responseType=o.responseType),g&&([R,U]=_h(g,!0),B.addEventListener("progress",R)),p&&B.upload&&([S,P]=_h(p),B.upload.addEventListener("progress",S),B.upload.addEventListener("loadend",P)),(o.cancelToken||o.signal)&&(E=et=>{B&&(s(!et||et.type?new Lo(null,i,B):et),B.abort(),B=null)},o.cancelToken&&o.cancelToken.subscribe(E),o.signal&&(o.signal.aborted?E():o.signal.addEventListener("abort",E)));const rt=bI(o.url);if(rt&&cn.protocols.indexOf(rt)===-1){s(new xt("Unsupported protocol "+rt+":",xt.ERR_BAD_REQUEST,i));return}B.send(l||null)})},MI=(i,t)=>{const{length:e}=i=i?i.filter(Boolean):[];if(t||e){let s=new AbortController,o;const l=function(g){if(!o){o=!0,m();const E=g instanceof Error?g:this.reason;s.abort(E instanceof xt?E:new Lo(E instanceof Error?E.message:E))}};let h=t&&setTimeout(()=>{h=null,l(new xt(`timeout ${t} of ms exceeded`,xt.ETIMEDOUT))},t);const m=()=>{i&&(h&&clearTimeout(h),h=null,i.forEach(g=>{g.unsubscribe?g.unsubscribe(l):g.removeEventListener("abort",l)}),i=null)};i.forEach(g=>g.addEventListener("abort",l));const{signal:p}=s;return p.unsubscribe=()=>$.asap(m),p}},VI=function*(i,t){let e=i.byteLength;if(e<t){yield i;return}let s=0,o;for(;s<e;)o=s+t,yield i.slice(s,o),s=o},kI=async function*(i,t){for await(const e of LI(i))yield*VI(e,t)},LI=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const t=i.getReader();try{for(;;){const{done:e,value:s}=await t.read();if(e)break;yield s}}finally{await t.cancel()}},bE=(i,t,e,s)=>{const o=kI(i,t);let l=0,h,m=p=>{h||(h=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:g,value:E}=await o.next();if(g){m(),p.close();return}let S=E.byteLength;if(e){let R=l+=S;e(R)}p.enqueue(new Uint8Array(E))}catch(g){throw m(g),g}},cancel(p){return m(p),o.return()}},{highWaterMark:2})},Xh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",vS=Xh&&typeof ReadableStream=="function",PI=Xh&&(typeof TextEncoder=="function"?(i=>t=>i.encode(t))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),ES=(i,...t)=>{try{return!!i(...t)}catch{return!1}},UI=vS&&ES(()=>{let i=!1;const t=new Request(cn.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!t}),RE=64*1024,sp=vS&&ES(()=>$.isReadableStream(new Response("").body)),vh={stream:sp&&(i=>i.body)};Xh&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!vh[t]&&(vh[t]=$.isFunction(i[t])?e=>e[t]():(e,s)=>{throw new xt(`Response type '${t}' is not supported`,xt.ERR_NOT_SUPPORT,s)})})})(new Response);const jI=async i=>{if(i==null)return 0;if($.isBlob(i))return i.size;if($.isSpecCompliantForm(i))return(await new Request(cn.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if($.isArrayBufferView(i)||$.isArrayBuffer(i))return i.byteLength;if($.isURLSearchParams(i)&&(i=i+""),$.isString(i))return(await PI(i)).byteLength},BI=async(i,t)=>{const e=$.toFiniteNumber(i.getContentLength());return e??jI(t)},zI=Xh&&(async i=>{let{url:t,method:e,data:s,signal:o,cancelToken:l,timeout:h,onDownloadProgress:m,onUploadProgress:p,responseType:g,headers:E,withCredentials:S="same-origin",fetchOptions:R}=_S(i);g=g?(g+"").toLowerCase():"text";let P=MI([o,l&&l.toAbortSignal()],h),U;const K=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let B;try{if(p&&UI&&e!=="get"&&e!=="head"&&(B=await BI(E,s))!==0){let lt=new Request(t,{method:"POST",body:s,duplex:"half"}),ft;if($.isFormData(s)&&(ft=lt.headers.get("content-type"))&&E.setContentType(ft),lt.body){const[D,w]=TE(B,_h(SE(p)));s=bE(lt.body,RE,D,w)}}$.isString(S)||(S=S?"include":"omit");const it="credentials"in Request.prototype;U=new Request(t,{...R,signal:P,method:e.toUpperCase(),headers:E.normalize().toJSON(),body:s,duplex:"half",credentials:it?S:void 0});let rt=await fetch(U);const et=sp&&(g==="stream"||g==="response");if(sp&&(m||et&&K)){const lt={};["status","statusText","headers"].forEach(b=>{lt[b]=rt[b]});const ft=$.toFiniteNumber(rt.headers.get("content-length")),[D,w]=m&&TE(ft,_h(SE(m),!0))||[];rt=new Response(bE(rt.body,RE,D,()=>{w&&w(),K&&K()}),lt)}g=g||"text";let ct=await vh[$.findKey(vh,g)||"text"](rt,i);return!et&&K&&K(),await new Promise((lt,ft)=>{gS(lt,ft,{data:ct,headers:Tn.from(rt.headers),status:rt.status,statusText:rt.statusText,config:i,request:U})})}catch(it){throw K&&K(),it&&it.name==="TypeError"&&/fetch/i.test(it.message)?Object.assign(new xt("Network Error",xt.ERR_NETWORK,i,U),{cause:it.cause||it}):xt.from(it,it&&it.code,i,U)}}),ap={http:nI,xhr:xI,fetch:zI};$.forEach(ap,(i,t)=>{if(i){try{Object.defineProperty(i,"name",{value:t})}catch{}Object.defineProperty(i,"adapterName",{value:t})}});const wE=i=>`- ${i}`,HI=i=>$.isFunction(i)||i===null||i===!1,TS={getAdapter:i=>{i=$.isArray(i)?i:[i];const{length:t}=i;let e,s;const o={};for(let l=0;l<t;l++){e=i[l];let h;if(s=e,!HI(e)&&(s=ap[(h=String(e)).toLowerCase()],s===void 0))throw new xt(`Unknown adapter '${h}'`);if(s)break;o[h||"#"+l]=s}if(!s){const l=Object.entries(o).map(([m,p])=>`adapter ${m} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=t?l.length>1?`since :
`+l.map(wE).join(`
`):" "+wE(l[0]):"as no adapter specified";throw new xt("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return s},adapters:ap};function Vm(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new Lo(null,i)}function CE(i){return Vm(i),i.headers=Tn.from(i.headers),i.data=Mm.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),TS.getAdapter(i.adapter||Eu.adapter)(i).then(function(s){return Vm(i),s.data=Mm.call(i,i.transformResponse,s),s.headers=Tn.from(s.headers),s},function(s){return pS(s)||(Vm(i),s&&s.response&&(s.response.data=Mm.call(i,i.transformResponse,s.response),s.response.headers=Tn.from(s.response.headers))),Promise.reject(s)})}const SS="1.7.9",Wh={};["object","boolean","number","function","string","symbol"].forEach((i,t)=>{Wh[i]=function(s){return typeof s===i||"a"+(t<1?"n ":" ")+i}});const IE={};Wh.transitional=function(t,e,s){function o(l,h){return"[Axios v"+SS+"] Transitional option '"+l+"'"+h+(s?". "+s:"")}return(l,h,m)=>{if(t===!1)throw new xt(o(h," has been removed"+(e?" in "+e:"")),xt.ERR_DEPRECATED);return e&&!IE[h]&&(IE[h]=!0,console.warn(o(h," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(l,h,m):!0}};Wh.spelling=function(t){return(e,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function qI(i,t,e){if(typeof i!="object")throw new xt("options must be an object",xt.ERR_BAD_OPTION_VALUE);const s=Object.keys(i);let o=s.length;for(;o-- >0;){const l=s[o],h=t[l];if(h){const m=i[l],p=m===void 0||h(m,l,i);if(p!==!0)throw new xt("option "+l+" must be "+p,xt.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new xt("Unknown option "+l,xt.ERR_BAD_OPTION)}}const sh={assertOptions:qI,validators:Wh},Oi=sh.validators;let ha=class{constructor(t){this.defaults=t,this.interceptors={request:new vE,response:new vE}}async request(t,e){try{return await this._request(t,e)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=fa(this.defaults,e);const{transitional:s,paramsSerializer:o,headers:l}=e;s!==void 0&&sh.assertOptions(s,{silentJSONParsing:Oi.transitional(Oi.boolean),forcedJSONParsing:Oi.transitional(Oi.boolean),clarifyTimeoutError:Oi.transitional(Oi.boolean)},!1),o!=null&&($.isFunction(o)?e.paramsSerializer={serialize:o}:sh.assertOptions(o,{encode:Oi.function,serialize:Oi.function},!0)),sh.assertOptions(e,{baseUrl:Oi.spelling("baseURL"),withXsrfToken:Oi.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let h=l&&$.merge(l.common,l[e.method]);l&&$.forEach(["delete","get","head","post","put","patch","common"],U=>{delete l[U]}),e.headers=Tn.concat(h,l);const m=[];let p=!0;this.interceptors.request.forEach(function(K){typeof K.runWhen=="function"&&K.runWhen(e)===!1||(p=p&&K.synchronous,m.unshift(K.fulfilled,K.rejected))});const g=[];this.interceptors.response.forEach(function(K){g.push(K.fulfilled,K.rejected)});let E,S=0,R;if(!p){const U=[CE.bind(this),void 0];for(U.unshift.apply(U,m),U.push.apply(U,g),R=U.length,E=Promise.resolve(e);S<R;)E=E.then(U[S++],U[S++]);return E}R=m.length;let P=e;for(S=0;S<R;){const U=m[S++],K=m[S++];try{P=U(P)}catch(B){K.call(this,B);break}}try{E=CE.call(this,P)}catch(U){return Promise.reject(U)}for(S=0,R=g.length;S<R;)E=E.then(g[S++],g[S++]);return E}getUri(t){t=fa(this.defaults,t);const e=yS(t.baseURL,t.url);return fS(e,t.params,t.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(t){ha.prototype[t]=function(e,s){return this.request(fa(s||{},{method:t,url:e,data:(s||{}).data}))}});$.forEach(["post","put","patch"],function(t){function e(s){return function(l,h,m){return this.request(fa(m||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:h}))}}ha.prototype[t]=e(),ha.prototype[t+"Form"]=e(!0)});let FI=class AS{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(l){e=l});const s=this;this.promise.then(o=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](o);s._listeners=null}),this.promise.then=o=>{let l;const h=new Promise(m=>{s.subscribe(m),l=m}).then(o);return h.cancel=function(){s.unsubscribe(l)},h},t(function(l,h,m){s.reason||(s.reason=new Lo(l,h,m),e(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=s=>{t.abort(s)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new AS(function(o){t=o}),cancel:t}}};function GI(i){return function(e){return i.apply(null,e)}}function KI(i){return $.isObject(i)&&i.isAxiosError===!0}const op={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(op).forEach(([i,t])=>{op[t]=i});function bS(i){const t=new ha(i),e=tS(ha.prototype.request,t);return $.extend(e,ha.prototype,t,{allOwnKeys:!0}),$.extend(e,t,null,{allOwnKeys:!0}),e.create=function(o){return bS(fa(i,o))},e}const pe=bS(Eu);pe.Axios=ha;pe.CanceledError=Lo;pe.CancelToken=FI;pe.isCancel=pS;pe.VERSION=SS;pe.toFormData=Yh;pe.AxiosError=xt;pe.Cancel=pe.CanceledError;pe.all=function(t){return Promise.all(t)};pe.spread=GI;pe.isAxiosError=KI;pe.mergeConfig=fa;pe.AxiosHeaders=Tn;pe.formToJSON=i=>mS($.isHTMLForm(i)?new FormData(i):i);pe.getAdapter=TS.getAdapter;pe.HttpStatusCode=op;pe.default=pe;const{Axios:Ck,AxiosError:Ik,CanceledError:Ok,isCancel:Nk,CancelToken:Dk,VERSION:xk,all:Mk,Cancel:Vk,isAxiosError:kk,spread:Lk,toFormData:Pk,AxiosHeaders:Uk,HttpStatusCode:jk,formToJSON:Bk,getAdapter:zk,mergeConfig:Hk}=pe,$I="http://localhost:8098/api/v1/tutorials",QI=()=>pe.get($I),RS={getAllTutorials:QI},YI=({selectedContact:i})=>{const[t,e]=N.useState([]),[s,o]=N.useState(0);return N.useEffect(()=>{i&&i.tutorials?RS.getAllTutorials().then(l=>{const h=l.data.filter(m=>i.tutorials.includes(m.id));e(h),o(0)}).catch(l=>console.error("Error al cargar los tutoriales:",l)):(e([]),o(0))},[i]),M.jsx(Rm,{className:"tutorial-carousel",activeIndex:s,onSelect:l=>o(l),children:t.length>0?t.map(l=>M.jsx(Rm.Item,{children:M.jsxs(rs,{className:"tutorial-card",children:[M.jsxs(rs.Body,{children:[M.jsx(rs.Title,{children:l.title}),M.jsx(rs.Text,{children:l.description})]}),M.jsx(rs.Img,{variant:"bottom",src:l.imageUrl,alt:l.title,className:"tutorial-image"})]})},l.id)):M.jsx(Rm.Item,{children:M.jsx(rs,{className:"tutorial-card",children:M.jsx(rs.Body,{children:M.jsx(rs.Text,{children:"No hay tutoriales disponibles."})})})})})},Zh="http://localhost:8099/api/v1/Agenda",XI=()=>pe.get(Zh),WI=i=>pe.post(Zh,i),ZI=(i,t)=>pe.put(`${Zh}/${i}`,t),JI=i=>pe.delete(`${Zh}/${i}`),Eh={getAllContacts:XI,addContact:WI,editContact:ZI,deleteContact:JI},tO=({show:i,handleClose:t,selectedContact:e,refreshContacts:s,isEditMode:o})=>{const[l,h]=N.useState({firstName:"",lastName:"",street:"",city:"",postalCode:"",birthday:"",tutorials:[]}),[m,p]=N.useState([]);N.useEffect(()=>{RS.getAllTutorials().then(R=>{p(R.data)})},[]),N.useEffect(()=>{h(e&&o?{firstName:e.firstName,lastName:e.lastName,street:e.street,city:e.city,postalCode:e.postalCode,birthday:e.birthday,tutorials:e.tutorials||[]}:{firstName:"",lastName:"",street:"",city:"",postalCode:"",birthday:"",tutorials:[]})},[e,o]);const g=R=>{const{name:P,value:U}=R.target;h({...l,[P]:U})},E=R=>{const{options:P}=R.target,U=Array.from(P).filter(K=>K.selected).map(K=>K.value);h({...l,tutorials:U})},S=()=>{if(o){const R={id:e.id,...l};Eh.editContact(e.id,R).then(()=>{s(),t()}).catch(P=>console.error("Error al editar contacto:",P)+alert("Valores errneos en el contacto"))}else Eh.addContact(l).then(()=>{s(),t()}).catch(R=>console.error("Error al agregar contacto:",R)+alert("Valores errneos en el contacto"))};return M.jsxs(aa,{show:i,onHide:t,children:[M.jsx(aa.Header,{closeButton:!0,children:M.jsx(aa.Title,{children:o?"Editar Contacto":"Nuevo Contacto"})}),M.jsx(aa.Body,{children:M.jsxs(ie,{children:[M.jsxs(ie.Group,{controlId:"firstName",children:[M.jsx(ie.Label,{children:"Nombre"}),M.jsx(ie.Control,{type:"text",placeholder:"Nombre",name:"firstName",value:l.firstName,onChange:g})]}),M.jsxs(ie.Group,{controlId:"lastName",children:[M.jsx(ie.Label,{children:"Apellidos"}),M.jsx(ie.Control,{type:"text",placeholder:"Apellidos",name:"lastName",value:l.lastName,onChange:g})]}),M.jsxs(ie.Group,{controlId:"street",children:[M.jsx(ie.Label,{children:"Calle"}),M.jsx(ie.Control,{type:"text",placeholder:"Calle",name:"street",value:l.street,onChange:g})]}),M.jsxs(ie.Group,{controlId:"city",children:[M.jsx(ie.Label,{children:"Ciudad"}),M.jsx(ie.Control,{type:"text",placeholder:"Ciudad",name:"city",value:l.city,onChange:g})]}),M.jsxs(ie.Group,{controlId:"postalCode",children:[M.jsx(ie.Label,{children:"Cdigo Postal"}),M.jsx(ie.Control,{type:"text",placeholder:"Cdigo Postal",name:"postalCode",value:l.postalCode,onChange:g})]}),M.jsxs(ie.Group,{controlId:"birthday",children:[M.jsx(ie.Label,{children:"Cumpleaos"}),M.jsx(ie.Control,{type:"date",name:"birthday",value:l.birthday,onChange:g})]}),M.jsxs(ie.Group,{controlId:"tutorials",children:[M.jsx(ie.Label,{children:"Tutoriales"}),M.jsx(ie.Control,{as:"select",multiple:!0,name:"tutorials",value:l.tutorials,onChange:E,children:m.map(R=>M.jsx("option",{value:R.id,children:R.title},R.id))})]})]})}),M.jsxs(aa.Footer,{children:[M.jsx(Di,{variant:"secondary",onClick:t,children:"Cerrar"}),M.jsx(Di,{variant:"primary",onClick:S,children:o?"Actualizar":"Agregar"})]})]})},eO=()=>{};var OE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=function(i){const t=[];let e=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},nO=function(i){const t=[];let e=0,s=0;for(;e<i.length;){const o=i[e++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[e++];t[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[e++],h=i[e++],m=i[e++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const l=i[e++],h=i[e++];t[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return t.join("")},CS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const l=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=l>>2,S=(l&3)<<4|m>>4;let R=(m&15)<<2|g>>6,P=g&63;p||(P=64,h||(R=64)),s.push(e[E],e[S],e[R],e[P])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(wS(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):nO(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const l=e[i.charAt(o++)],m=o<i.length?e[i.charAt(o)]:0;++o;const g=o<i.length?e[i.charAt(o)]:64;++o;const S=o<i.length?e[i.charAt(o)]:64;if(++o,l==null||m==null||g==null||S==null)throw new iO;const R=l<<2|m>>4;if(s.push(R),g!==64){const P=m<<4&240|g>>2;if(s.push(P),S!==64){const U=g<<6&192|S;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class iO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rO=function(i){const t=wS(i);return CS.encodeByteArray(t,!0)},Th=function(i){return rO(i).replace(/\./g,"")},IS=function(i){try{return CS.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=()=>sO().__FIREBASE_DEFAULTS__,oO=()=>{if(typeof process>"u"||typeof OE>"u")return;const i=OE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},lO=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&IS(i[1]);return t&&JSON.parse(t)},Jh=()=>{try{return eO()||aO()||oO()||lO()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},OS=i=>{var t,e;return(e=(t=Jh())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[i]},uO=i=>{const t=OS(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},NS=()=>{var i;return(i=Jh())===null||i===void 0?void 0:i.config},DS=i=>{var t;return(t=Jh())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Th(JSON.stringify(e)),Th(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function dO(){var i;const t=(i=Jh())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pO(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function gO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yO(){const i=hn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function _O(){return!dO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vO(){try{return typeof indexedDB=="object"}catch{return!1}}function EO(){return new Promise((i,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var l;t(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="FirebaseError";class Ar extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=TO,Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tu.prototype.create)}}class Tu{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},o=`${this.service}/${t}`,l=this.errors[t],h=l?SO(l,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Ar(o,m,s)}}function SO(i,t){return i.replace(AO,(e,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const AO=/\{\$([^}]+)}/g;function bO(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function da(i,t){if(i===t)return!0;const e=Object.keys(i),s=Object.keys(t);for(const o of e){if(!s.includes(o))return!1;const l=i[o],h=t[o];if(NE(l)&&NE(h)){if(!da(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!e.includes(o))return!1;return!0}function NE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(i){const t=[];for(const[e,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Xl(i){const t={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(l)}}),t}function Wl(i){const t=i.indexOf("?");if(!t)return"";const e=i.indexOf("#",t);return i.substring(t,e>0?e:void 0)}function RO(i,t){const e=new wO(i,t);return e.subscribe.bind(e)}class wO{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let o;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");CO(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:s},o.next===void 0&&(o.next=km),o.error===void 0&&(o.error=km),o.complete===void 0&&(o.complete=km);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CO(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function km(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(i){return i&&i._delegate?i._delegate:i}class ma{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new cO;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(NO(t))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(t=ra){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ra){return this.instances.has(t)}getOptions(t=ra){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[l,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&h.resolve(o)}return o}onInit(t,e){var s;const o=this.normalizeInstanceIdentifier(e),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(t),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&t(h,o),()=>{l.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const o of s)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:OO(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ra){return this.component?this.component.multipleInstances?t:ra:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OO(i){return i===ra?void 0:i}function NO(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new IO(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(zt||(zt={}));const xO={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},MO=zt.INFO,VO={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},kO=(i,t,...e)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=VO[t];if(o)console[o](`[${s}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Qp{constructor(t){this.name=t,this._logLevel=MO,this._logHandler=kO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?xO[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...t),this._logHandler(this,zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...t),this._logHandler(this,zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...t),this._logHandler(this,zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...t),this._logHandler(this,zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...t),this._logHandler(this,zt.ERROR,...t)}}const LO=(i,t)=>t.some(e=>i instanceof e);let DE,xE;function PO(){return DE||(DE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UO(){return xE||(xE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xS=new WeakMap,lp=new WeakMap,MS=new WeakMap,Lm=new WeakMap,Yp=new WeakMap;function jO(i){const t=new Promise((e,s)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",h)},l=()=>{e(hs(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",h)});return t.then(e=>{e instanceof IDBCursor&&xS.set(e,i)}).catch(()=>{}),Yp.set(t,i),t}function BO(i){if(lp.has(i))return;const t=new Promise((e,s)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",h),i.removeEventListener("abort",h)},l=()=>{e(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",h),i.addEventListener("abort",h)});lp.set(i,t)}let up={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return lp.get(i);if(t==="objectStoreNames")return i.objectStoreNames||MS.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return hs(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function zO(i){up=i(up)}function HO(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=i.call(Pm(this),t,...e);return MS.set(s,t.sort?t.sort():[t]),hs(s)}:UO().includes(i)?function(...t){return i.apply(Pm(this),t),hs(xS.get(this))}:function(...t){return hs(i.apply(Pm(this),t))}}function qO(i){return typeof i=="function"?HO(i):(i instanceof IDBTransaction&&BO(i),LO(i,PO())?new Proxy(i,up):i)}function hs(i){if(i instanceof IDBRequest)return jO(i);if(Lm.has(i))return Lm.get(i);const t=qO(i);return t!==i&&(Lm.set(i,t),Yp.set(t,i)),t}const Pm=i=>Yp.get(i);function FO(i,t,{blocked:e,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(i,t),m=hs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(hs(h.result),p.oldVersion,p.newVersion,hs(h.transaction),p)}),e&&h.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),m.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const GO=["get","getKey","getAll","getAllKeys","count"],KO=["put","add","delete","clear"],Um=new Map;function ME(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Um.get(t))return Um.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,o=KO.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(o||GO.includes(e)))return;const l=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[e](...m),o&&p.done]))[0]};return Um.set(t,l),l}zO(i=>({...i,get:(t,e,s)=>ME(t,e)||i.get(t,e,s),has:(t,e)=>!!ME(t,e)||i.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(QO(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function QO(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const cp="@firebase/app",VE="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=new Qp("@firebase/app"),YO="@firebase/app-compat",XO="@firebase/analytics-compat",WO="@firebase/analytics",ZO="@firebase/app-check-compat",JO="@firebase/app-check",tN="@firebase/auth",eN="@firebase/auth-compat",nN="@firebase/database",iN="@firebase/data-connect",rN="@firebase/database-compat",sN="@firebase/functions",aN="@firebase/functions-compat",oN="@firebase/installations",lN="@firebase/installations-compat",uN="@firebase/messaging",cN="@firebase/messaging-compat",hN="@firebase/performance",fN="@firebase/performance-compat",dN="@firebase/remote-config",mN="@firebase/remote-config-compat",pN="@firebase/storage",gN="@firebase/storage-compat",yN="@firebase/firestore",_N="@firebase/vertexai",vN="@firebase/firestore-compat",EN="firebase",TN="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="[DEFAULT]",SN={[cp]:"fire-core",[YO]:"fire-core-compat",[WO]:"fire-analytics",[XO]:"fire-analytics-compat",[JO]:"fire-app-check",[ZO]:"fire-app-check-compat",[tN]:"fire-auth",[eN]:"fire-auth-compat",[nN]:"fire-rtdb",[iN]:"fire-data-connect",[rN]:"fire-rtdb-compat",[sN]:"fire-fn",[aN]:"fire-fn-compat",[oN]:"fire-iid",[lN]:"fire-iid-compat",[uN]:"fire-fcm",[cN]:"fire-fcm-compat",[hN]:"fire-perf",[fN]:"fire-perf-compat",[dN]:"fire-rc",[mN]:"fire-rc-compat",[pN]:"fire-gcs",[gN]:"fire-gcs-compat",[yN]:"fire-fst",[vN]:"fire-fst-compat",[_N]:"fire-vertex","fire-js":"fire-js",[EN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Map,AN=new Map,fp=new Map;function kE(i,t){try{i.container.addComponent(t)}catch(e){_r.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function Ro(i){const t=i.name;if(fp.has(t))return _r.debug(`There were multiple attempts to register component ${t}.`),!1;fp.set(t,i);for(const e of Sh.values())kE(e,i);for(const e of AN.values())kE(e,i);return!0}function Xp(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function si(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new Tu("app","Firebase",bN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(t,e,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=TN;function VS(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const s=Object.assign({name:hp,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw fs.create("bad-app-name",{appName:String(o)});if(e||(e=NS()),!e)throw fs.create("no-options");const l=Sh.get(o);if(l){if(da(e,l.options)&&da(s,l.config))return l;throw fs.create("duplicate-app",{appName:o})}const h=new DO(o);for(const p of fp.values())h.addComponent(p);const m=new RN(e,s,h);return Sh.set(o,m),m}function kS(i=hp){const t=Sh.get(i);if(!t&&i===hp&&NS())return VS();if(!t)throw fs.create("no-app",{appName:i});return t}function ds(i,t,e){var s;let o=(s=SN[i])!==null&&s!==void 0?s:i;e&&(o+=`-${e}`);const l=o.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const m=[`Unable to register library "${o}" with version "${t}":`];l&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),_r.warn(m.join(" "));return}Ro(new ma(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="firebase-heartbeat-database",CN=1,ou="firebase-heartbeat-store";let jm=null;function LS(){return jm||(jm=FO(wN,CN,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(ou)}catch(e){console.warn(e)}}}}).catch(i=>{throw fs.create("idb-open",{originalErrorMessage:i.message})})),jm}async function IN(i){try{const e=(await LS()).transaction(ou),s=await e.objectStore(ou).get(PS(i));return await e.done,s}catch(t){if(t instanceof Ar)_r.warn(t.message);else{const e=fs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});_r.warn(e.message)}}}async function LE(i,t){try{const s=(await LS()).transaction(ou,"readwrite");await s.objectStore(ou).put(t,PS(i)),await s.done}catch(e){if(e instanceof Ar)_r.warn(e.message);else{const s=fs.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});_r.warn(s.message)}}}function PS(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=1024,NN=30;class DN{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new MN(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,e;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=PE();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>NN){const h=VN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){_r.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=PE(),{heartbeatsToSend:s,unsentEntries:o}=xN(this._heartbeatsCache.heartbeats),l=Th(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return _r.warn(e),""}}}function PE(){return new Date().toISOString().substring(0,10)}function xN(i,t=ON){const e=[];let s=i.slice();for(const o of i){const l=e.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),UE(e)>t){l.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),UE(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class MN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vO()?EO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await IN(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return LE(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return LE(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function UE(i){return Th(JSON.stringify({version:2,heartbeats:i})).length}function VN(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let s=1;s<i.length;s++)i[s].date<e&&(e=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(i){Ro(new ma("platform-logger",t=>new $O(t),"PRIVATE")),Ro(new ma("heartbeat",t=>new DN(t),"PRIVATE")),ds(cp,VE,i),ds(cp,VE,"esm2017"),ds("fire-js","")}kN("");var LN="firebase",PN="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ds(LN,PN,"app");function Wp(i,t){var e={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(e[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(e[s[o]]=i[s[o]]);return e}function US(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UN=US,jS=new Tu("auth","Firebase",US());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Qp("@firebase/auth");function jN(i,...t){Ah.logLevel<=zt.WARN&&Ah.warn(`Auth (${Po}): ${i}`,...t)}function ah(i,...t){Ah.logLevel<=zt.ERROR&&Ah.error(`Auth (${Po}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(i,...t){throw Zp(i,...t)}function xi(i,...t){return Zp(i,...t)}function BS(i,t,e){const s=Object.assign(Object.assign({},UN()),{[t]:e});return new Tu("auth","Firebase",s).create(t,{appName:i.name})}function ms(i){return BS(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zp(i,...t){if(typeof i!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(e,...s)}return jS.create(i,...t)}function Rt(i,t,...e){if(!i)throw Zp(t,...e)}function fr(i){const t="INTERNAL ASSERTION FAILED: "+i;throw ah(t),new Error(t)}function vr(i,t){i||fr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function BN(){return jE()==="http:"||jE()==="https:"}function jE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BN()||pO()||"connection"in navigator)?navigator.onLine:!0}function HN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(t,e){this.shortDelay=t,this.longDelay=e,vr(e>t,"Short delay should be less than long delay!"),this.isMobile=fO()||gO()}get(){return zN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(i,t){vr(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=new Au(3e4,6e4);function _a(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function As(i,t,e,s,o={}){return HS(i,o,async()=>{let l={},h={};s&&(t==="GET"?h=s:l={body:JSON.stringify(s)});const m=Su(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:t,headers:p},l);return mO()||(g.referrerPolicy="no-referrer"),zS.fetch()(qS(i,i.config.apiHost,e,m),g)})}async function HS(i,t,e){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},qN),t);try{const o=new KN(i),l=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Wc(i,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const m=l.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Wc(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw Wc(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw BS(i,E,g);li(i,E)}}catch(o){if(o instanceof Ar)throw o;li(i,"network-request-failed",{message:String(o)})}}async function tf(i,t,e,s,o={}){const l=await As(i,t,e,s,o);return"mfaPendingCredential"in l&&li(i,"multi-factor-auth-required",{_serverResponse:l}),l}function qS(i,t,e,s){const o=`${t}${e}?${s}`;return i.config.emulator?Jp(i.config,o):`${i.config.apiScheme}://${o}`}function GN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(xi(this.auth,"network-request-failed")),FN.get())})}}function Wc(i,t,e){const s={appName:i.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const o=xi(i,t,s);return o.customData._tokenResponse=e,o}function BE(i){return i!==void 0&&i.enterprise!==void 0}class $N{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return GN(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QN(i,t){return As(i,"GET","/v2/recaptchaConfig",_a(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(i,t){return As(i,"POST","/v1/accounts:delete",t)}async function FS(i,t){return As(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function XN(i,t=!1){const e=oi(i),s=await e.getIdToken(t),o=tg(s);Rt(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:eu(Bm(o.auth_time)),issuedAtTime:eu(Bm(o.iat)),expirationTime:eu(Bm(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Bm(i){return Number(i)*1e3}function tg(i){const[t,e,s]=i.split(".");if(t===void 0||e===void 0||s===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=IS(e);return o?JSON.parse(o):(ah("Failed to decode base64 JWT payload"),null)}catch(o){return ah("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function zE(i){const t=tg(i);return Rt(t,"internal-error"),Rt(typeof t.exp<"u","internal-error"),Rt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(i,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof Ar&&WN(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function WN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bh(i){var t;const e=i.auth,s=await i.getIdToken(),o=await lu(i,FS(e,{idToken:s}));Rt(o==null?void 0:o.users.length,e,"internal-error");const l=o.users[0];i._notifyReloadListener(l);const h=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?GS(l.providerUserInfo):[],m=tD(i.providerData,h),p=i.isAnonymous,g=!(i.email&&l.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new mp(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(i,S)}async function JN(i){const t=oi(i);await bh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function tD(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function GS(i){return i.map(t=>{var{providerId:e}=t,s=Wp(t,["providerId"]);return{providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(i,t){const e=await HS(i,{},async()=>{const s=Su({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,h=qS(i,o,"/v1/token",`key=${l}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",zS.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function nD(i,t){return As(i,"POST","/v2/accounts:revokeToken",_a(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Rt(t.idToken,"internal-error"),Rt(typeof t.idToken<"u","internal-error"),Rt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):zE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Rt(t.length!==0,"internal-error");const e=zE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Rt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:o,expiresIn:l}=await eD(t,e);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:o,expirationTime:l}=e,h=new Eo;return s&&(Rt(typeof s=="string","internal-error",{appName:t}),h.refreshToken=s),o&&(Rt(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),l&&(Rt(typeof l=="number","internal-error",{appName:t}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(i,t){Rt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class dr{constructor(t){var{uid:e,auth:s,stsTokenManager:o}=t,l=Wp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new mp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const e=await lu(this,this.stsTokenManager.getToken(this.auth,t));return Rt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return XN(this,t)}reload(){return JN(this)}_assign(t){this!==t&&(Rt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new dr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(ms(this.auth));const t=await this.getIdToken();return await lu(this,YN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var s,o,l,h,m,p,g,E;const S=(s=e.displayName)!==null&&s!==void 0?s:void 0,R=(o=e.email)!==null&&o!==void 0?o:void 0,P=(l=e.phoneNumber)!==null&&l!==void 0?l:void 0,U=(h=e.photoURL)!==null&&h!==void 0?h:void 0,K=(m=e.tenantId)!==null&&m!==void 0?m:void 0,B=(p=e._redirectEventId)!==null&&p!==void 0?p:void 0,it=(g=e.createdAt)!==null&&g!==void 0?g:void 0,rt=(E=e.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:et,emailVerified:ct,isAnonymous:lt,providerData:ft,stsTokenManager:D}=e;Rt(et&&D,t,"internal-error");const w=Eo.fromJSON(this.name,D);Rt(typeof et=="string",t,"internal-error"),ss(S,t.name),ss(R,t.name),Rt(typeof ct=="boolean",t,"internal-error"),Rt(typeof lt=="boolean",t,"internal-error"),ss(P,t.name),ss(U,t.name),ss(K,t.name),ss(B,t.name),ss(it,t.name),ss(rt,t.name);const b=new dr({uid:et,auth:t,email:R,emailVerified:ct,displayName:S,isAnonymous:lt,photoURL:U,phoneNumber:P,tenantId:K,stsTokenManager:w,createdAt:it,lastLoginAt:rt});return ft&&Array.isArray(ft)&&(b.providerData=ft.map(O=>Object.assign({},O))),B&&(b._redirectEventId=B),b}static async _fromIdTokenResponse(t,e,s=!1){const o=new Eo;o.updateFromServerResponse(e);const l=new dr({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await bh(l),l}static async _fromGetAccountInfoResponse(t,e,s){const o=e.users[0];Rt(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?GS(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),m=new Eo;m.updateFromIdToken(s);const p=new dr({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new mp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=new Map;function mr(i){vr(i instanceof Function,"Expected a class definition");let t=HE.get(i);return t?(vr(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,HE.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}KS.type="NONE";const qE=KS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(i,t,e){return`firebase:${i}:${t}:${e}`}class To{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=oh(this.userKey,o.apiKey,l),this.fullPersistenceKey=oh("persistence",o.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?dr._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new To(mr(qE),t,s);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||mr(qE);const h=oh(s,t.config.apiKey,t.name);let m=null;for(const g of e)try{const E=await g._get(h);if(E){const S=dr._fromJSON(t,E);g!==l&&(m=S),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new To(l,t,s):(l=p[0],m&&await l._set(h,m.toJSON()),await Promise.all(e.map(async g=>{if(g!==l)try{await g._remove(h)}catch{}})),new To(l,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(XS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($S(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ZS(t))return"Blackberry";if(JS(t))return"Webos";if(QS(t))return"Safari";if((t.includes("chrome/")||YS(t))&&!t.includes("edge/"))return"Chrome";if(WS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(e);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function $S(i=hn()){return/firefox\//i.test(i)}function QS(i=hn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function YS(i=hn()){return/crios\//i.test(i)}function XS(i=hn()){return/iemobile/i.test(i)}function WS(i=hn()){return/android/i.test(i)}function ZS(i=hn()){return/blackberry/i.test(i)}function JS(i=hn()){return/webos/i.test(i)}function eg(i=hn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function iD(i=hn()){var t;return eg(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function rD(){return yO()&&document.documentMode===10}function tA(i=hn()){return eg(i)||WS(i)||JS(i)||ZS(i)||/windows phone/i.test(i)||XS(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(i,t=[]){let e;switch(i){case"Browser":e=FE(hn());break;case"Worker":e=`${FE(hn())}-${i}`;break;default:e=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Po}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=l=>new Promise((h,m)=>{try{const p=t(l);h(p)}catch(p){m(p)}});s.onAbort=e,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(i,t={}){return As(i,"GET","/v2/passwordPolicy",_a(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=6;class lD{constructor(t){var e,s,o,l;const h=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=h.minPasswordLength)!==null&&e!==void 0?e:oD,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,s,o,l,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(e=p.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t,e,s,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GE(this),this.idTokenSubscription=new GE(this),this.beforeStateQueue=new sD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=mr(e)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await To.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await FS(this,{idToken:t}),s=await dr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(si(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await bh(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=HN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(si(this.app))return Promise.reject(ms(this));const e=t?oi(t):null;return e&&Rt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Rt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return si(this.app)?Promise.reject(ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await aD(this),e=new lD(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Tu("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await nD(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&mr(t)||this._popupRedirectResolver;Rt(e,this,"argument-error"),this.redirectPersistenceManager=await To.create(this,[mr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,s;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,o){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Rt(m,this,"internal-error"),m.then(()=>{h||l(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,s,o);return()=>{h=!0,p()}}else{const p=t.addObserver(e);return()=>{h=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=eA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(e["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(e["X-Firebase-AppCheck"]=o),e}async _getAppCheckToken(){var t;if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&jN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Uo(i){return oi(i)}class GE{constructor(t){this.auth=t,this.observer=null,this.addObserver=RO(e=>this.observer=e)}get next(){return Rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ef={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cD(i){ef=i}function nA(i){return ef.loadJS(i)}function hD(){return ef.recaptchaEnterpriseScript}function fD(){return ef.gapiScript}function dD(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class mD{constructor(){this.enterprise=new pD}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class pD{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const gD="recaptcha-enterprise",iA="NO_RECAPTCHA";class yD{constructor(t){this.type=gD,this.auth=Uo(t)}async verify(t="verify",e=!1){async function s(l){if(!e){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,m)=>{QN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new $N(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(l,h,m){const p=window.grecaptcha;BE(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:t}).then(g=>{h(g)}).catch(()=>{h(iA)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mD().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{s(this.auth).then(m=>{if(!e&&BE(window.grecaptcha))o(m,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=hD();p.length!==0&&(p+=m),nA(p).then(()=>{o(m,l,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function KE(i,t,e,s=!1,o=!1){const l=new yD(i);let h;if(o)h=iA;else try{h=await l.verify(e)}catch{h=await l.verify(e,!0)}const m=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function $E(i,t,e,s,o){var l;if(!((l=i._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await KE(i,t,e,e==="getOobCode");return s(i,h)}else return s(i,t).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await KE(i,t,e,e==="getOobCode");return s(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(i,t){const e=Xp(i,"auth");if(e.isInitialized()){const o=e.getImmediate(),l=e.getOptions();if(da(l,t??{}))return o;li(o,"already-initialized")}return e.initialize({options:t})}function vD(i,t){const e=(t==null?void 0:t.persistence)||[],s=(Array.isArray(e)?e:[e]).map(mr);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function ED(i,t,e){const s=Uo(i);Rt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,l=rA(t),{host:h,port:m}=TD(t),p=m===null?"":`:${m}`,g={url:`${l}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Rt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Rt(da(g,s.config.emulator)&&da(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,SD()}function rA(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function TD(i){const t=rA(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:QE(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:QE(h)}}}function QE(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function SD(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return fr("not implemented")}_getIdTokenResponse(t){return fr("not implemented")}_linkToIdToken(t,e){return fr("not implemented")}_getReauthenticationResolver(t){return fr("not implemented")}}async function AD(i,t){return As(i,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(i,t){return tf(i,"POST","/v1/accounts:signInWithPassword",_a(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD(i,t){return tf(i,"POST","/v1/accounts:signInWithEmailLink",_a(i,t))}async function wD(i,t){return tf(i,"POST","/v1/accounts:signInWithEmailLink",_a(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends ng{constructor(t,e,s,o=null){super("password",s),this._email=t,this._password=e,this._tenantId=o}static _fromEmailAndPassword(t,e){return new uu(t,e,"password")}static _fromEmailAndCode(t,e,s=null){return new uu(t,e,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $E(t,e,"signInWithPassword",bD);case"emailLink":return RD(t,{email:this._email,oobCode:this._password});default:li(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const s={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $E(t,s,"signUpPassword",AD);case"emailLink":return wD(t,{idToken:e,email:this._email,oobCode:this._password});default:li(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(i,t){return tf(i,"POST","/v1/accounts:signInWithIdp",_a(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD="http://localhost";class pa extends ng{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new pa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):li("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=e,l=Wp(e,["providerId","signInMethod"]);if(!s||!o)return null;const h=new pa(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(t){const e=this.buildRequest();return So(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,So(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,So(t,e)}buildRequest(){const t={requestUri:CD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Su(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OD(i){const t=Xl(Wl(i)).link,e=t?Xl(Wl(t)).deep_link_id:null,s=Xl(Wl(i)).deep_link_id;return(s?Xl(Wl(s)).link:null)||s||e||t||i}class ig{constructor(t){var e,s,o,l,h,m;const p=Xl(Wl(t)),g=(e=p.apiKey)!==null&&e!==void 0?e:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,S=ID((o=p.mode)!==null&&o!==void 0?o:null);Rt(g&&E&&S,"argument-error"),this.apiKey=g,this.operation=S,this.code=E,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const e=OD(t);try{return new ig(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.providerId=jo.PROVIDER_ID}static credential(t,e){return uu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const s=ig.parseLink(e);return Rt(s,"argument-error"),uu._fromEmailAndCode(t,s.code,s.tenantId)}}jo.PROVIDER_ID="password";jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends sA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends bu{constructor(){super("facebook.com")}static credential(t){return pa._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return os.credentialFromTaggedObject(t)}static credentialFromError(t){return os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return os.credential(t.oauthAccessToken)}catch{return null}}}os.FACEBOOK_SIGN_IN_METHOD="facebook.com";os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return pa._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return hr.credentialFromTaggedObject(t)}static credentialFromError(t){return hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return hr.credential(e,s)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends bu{constructor(){super("github.com")}static credential(t){return pa._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ls.credentialFromTaggedObject(t)}static credentialFromError(t){return ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ls.credential(t.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends bu{constructor(){super("twitter.com")}static credential(t,e){return pa._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return us.credentialFromTaggedObject(t)}static credentialFromError(t){return us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return us.credential(e,s)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,o=!1){const l=await dr._fromIdTokenResponse(t,s,o),h=YE(s);return new wo({user:l,providerId:h,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const o=YE(s);return new wo({user:t,providerId:o,_tokenResponse:s,operationType:e})}}function YE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends Ar{constructor(t,e,s,o){var l;super(e.code,e.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,o){return new Rh(t,e,s,o)}}function aA(i,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(i,l,t,s):l})}async function ND(i,t,e=!1){const s=await lu(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return wo._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(i,t,e=!1){const{auth:s}=i;if(si(s.app))return Promise.reject(ms(s));const o="reauthenticate";try{const l=await lu(i,aA(s,o,t,i),e);Rt(l.idToken,s,"internal-error");const h=tg(l.idToken);Rt(h,s,"internal-error");const{sub:m}=h;return Rt(i.uid===m,s,"user-mismatch"),wo._forOperation(i,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&li(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oA(i,t,e=!1){if(si(i.app))return Promise.reject(ms(i));const s="signIn",o=await aA(i,s,t),l=await wo._fromIdTokenResponse(i,s,o);return e||await i._updateCurrentUser(l.user),l}async function xD(i,t){return oA(Uo(i),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(i){const t=Uo(i);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function VD(i,t,e){return si(i.app)?Promise.reject(ms(i)):xD(oi(i),jo.credential(t,e)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&MD(i),s})}function kD(i,t,e,s){return oi(i).onIdTokenChanged(t,e,s)}function LD(i,t,e){return oi(i).beforeAuthStateChanged(t,e)}const wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=1e3,UD=10;class uA extends lA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),o=this.localCache[e];s!==o&&t(e,o,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!e&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);rD()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,UD):o()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},PD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}uA.type="LOCAL";const jD=uA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA extends lA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}cA.type="SESSION";const hA=cA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const s=new nf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:o,data:l}=e.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(e.origin,l)),p=await BD(m);e.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(i="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return i+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((m,p)=>{const g=rg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(S){const R=S;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(R.data.response);break;default:clearTimeout(E),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(){return window}function HD(i){Mi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function qD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FD(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function GD(){return fA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="firebaseLocalStorageDb",KD=1,Ch="firebaseLocalStorage",mA="fbase_key";class Ru{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function rf(i,t){return i.transaction([Ch],t?"readwrite":"readonly").objectStore(Ch)}function $D(){const i=indexedDB.deleteDatabase(dA);return new Ru(i).toPromise()}function pp(){const i=indexedDB.open(dA,KD);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Ch,{keyPath:mA})}catch(o){e(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Ch)?t(s):(s.close(),await $D(),t(await pp()))})})}async function XE(i,t,e){const s=rf(i,!0).put({[mA]:t,value:e});return new Ru(s).toPromise()}async function QD(i,t){const e=rf(i,!1).get(t),s=await new Ru(e).toPromise();return s===void 0?null:s.value}function WE(i,t){const e=rf(i,!0).delete(t);return new Ru(e).toPromise()}const YD=800,XD=3;class pA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>XD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(GD()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await qD(),!this.activeServiceWorker)return;this.sender=new zD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((e=s[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||FD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await pp();return await XE(t,wh,"1"),await WE(t,wh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>XE(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>QD(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>WE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const l=rf(o,!1).getAll();return new Ru(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:l}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pA.type="LOCAL";const WD=pA;new Au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(i,t){return t?mr(t):(Rt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends ng{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return So(t,this._buildIdpRequest())}_linkToIdToken(t,e){return So(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return So(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function JD(i){return oA(i.auth,new sg(i),i.bypassAuthState)}function t2(i){const{auth:t,user:e}=i;return Rt(e,t,"internal-error"),DD(e,new sg(i),i.bypassAuthState)}async function e2(i){const{auth:t,user:e}=i;return Rt(e,t,"internal-error"),ND(e,new sg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(t,e,s,o,l=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:o,tenantId:l,error:h,type:m}=t;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:e,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return JD;case"linkViaPopup":case"linkViaRedirect":return e2;case"reauthViaPopup":case"reauthViaRedirect":return t2;default:li(this.auth,"internal-error")}}resolve(t){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=new Au(2e3,1e4);class vo extends gA{constructor(t,e,s,o,l){super(t,e,o,l),this.provider=s,this.authWindow=null,this.pollId=null,vo.currentPopupAction&&vo.currentPopupAction.cancel(),vo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Rt(t,this.auth,"internal-error"),t}async onExecution(){vr(this.filter.length===1,"Popup operations only handle one event");const t=rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,s;if(!((s=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,n2.get())};t()}}vo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="pendingRedirect",lh=new Map;class r2 extends gA{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=lh.get(this.auth._key());if(!t){try{const s=await s2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}lh.set(this.auth._key(),t)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s2(i,t){const e=l2(t),s=o2(i);if(!await s._isAvailable())return!1;const o=await s._get(e)==="true";return await s._remove(e),o}function a2(i,t){lh.set(i._key(),t)}function o2(i){return mr(i._redirectPersistence)}function l2(i){return oh(i2,i.config.apiKey,i.name)}async function u2(i,t,e=!1){if(si(i.app))return Promise.reject(ms(i));const s=Uo(i),o=ZD(s,t),h=await new r2(s,o,e).execute();return h&&!e&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=10*60*1e3;class h2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!f2(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var s;if(t.error&&!yA(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";e.onError(xi(this.auth,o))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=c2&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZE(t))}saveEventToCache(t){this.cachedEventUids.add(ZE(t)),this.lastProcessedEventTime=Date.now()}}function ZE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function yA({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function f2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yA(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2(i,t={}){return As(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p2=/^https?/;async function g2(i){if(i.config.emulator)return;const{authorizedDomains:t}=await d2(i);for(const e of t)try{if(y2(e))return}catch{}li(i,"unauthorized-domain")}function y2(i){const t=dp(),{protocol:e,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&h.hostname===s}if(!p2.test(e))return!1;if(m2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=new Au(3e4,6e4);function JE(){const i=Mi().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function v2(i){return new Promise((t,e)=>{var s,o,l;function h(){JE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{JE(),e(xi(i,"network-request-failed"))},timeout:_2.get()})}if(!((o=(s=Mi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((l=Mi().gapi)===null||l===void 0)&&l.load)h();else{const m=dD("iframefcb");return Mi()[m]=()=>{gapi.load?h():e(xi(i,"network-request-failed"))},nA(`${fD()}?onload=${m}`).catch(p=>e(p))}}).catch(t=>{throw uh=null,t})}let uh=null;function E2(i){return uh=uh||v2(i),uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=new Au(5e3,15e3),S2="__/auth/iframe",A2="emulator/auth/iframe",b2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w2(i){const t=i.config;Rt(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?Jp(t,A2):`https://${i.config.authDomain}/${S2}`,s={apiKey:t.apiKey,appName:i.name,v:Po},o=R2.get(i.config.apiHost);o&&(s.eid=o);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${e}?${Su(s).slice(1)}`}async function C2(i){const t=await E2(i),e=Mi().gapi;return Rt(e,i,"internal-error"),t.open({where:document.body,url:w2(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b2,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=xi(i,"network-request-failed"),m=Mi().setTimeout(()=>{l(h)},T2.get());function p(){Mi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O2=500,N2=600,D2="_blank",x2="http://localhost";class tT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function M2(i,t,e,s=O2,o=N2){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},I2),{width:s.toString(),height:o.toString(),top:l,left:h}),g=hn().toLowerCase();e&&(m=YS(g)?D2:e),$S(g)&&(t=t||x2,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[P,U])=>`${R}${P}=${U},`,"");if(iD(g)&&m!=="_self")return V2(t||"",m),new tT(null);const S=window.open(t||"",m,E);Rt(S,i,"popup-blocked");try{S.focus()}catch{}return new tT(S)}function V2(i,t){const e=document.createElement("a");e.href=i,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="__/auth/handler",L2="emulator/auth/handler",P2=encodeURIComponent("fac");async function eT(i,t,e,s,o,l){Rt(i.config.authDomain,i,"auth-domain-config-required"),Rt(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:s,v:Po,eventId:o};if(t instanceof sA){t.setDefaultLanguage(i.languageCode),h.providerId=t.providerId||"",bO(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))h[E]=S}if(t instanceof bu){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${P2}=${encodeURIComponent(p)}`:"";return`${U2(i)}?${Su(m).slice(1)}${g}`}function U2({config:i}){return i.emulator?Jp(i,L2):`https://${i.authDomain}/${k2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="webStorageSupport";class j2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hA,this._completeRedirectFn=u2,this._overrideRedirectResult=a2}async _openPopup(t,e,s,o){var l;vr((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await eT(t,e,s,dp(),o);return M2(t,h,rg())}async _openRedirect(t,e,s,o){await this._originValidation(t);const l=await eT(t,e,s,dp(),o);return HD(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:l}=this.eventManagers[e];return o?Promise.resolve(o):(vr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await C2(t),s=new h2(t);return e.register("authEvent",o=>(Rt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(zm,{type:zm},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[zm];h!==void 0&&e(!!h),li(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=g2(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return tA()||QS()||eg()}}const B2=j2;var nT="@firebase/auth",iT="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function q2(i){Ro(new ma("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Rt(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eA(i)},g=new uD(s,o,l,p);return vD(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),Ro(new ma("auth-internal",t=>{const e=Uo(t.getProvider("auth").getImmediate());return(s=>new z2(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ds(nT,iT,H2(i)),ds(nT,iT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=5*60,G2=DS("authIdTokenMaxAge")||F2;let rT=null;const K2=i=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>G2)return;const o=e==null?void 0:e.token;rT!==o&&(rT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function $2(i=kS()){const t=Xp(i,"auth");if(t.isInitialized())return t.getImmediate();const e=_D(i,{popupRedirectResolver:B2,persistence:[WD,jD,hA]}),s=DS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=K2(l.toString());LD(e,h,()=>h(e.currentUser)),kD(e,m=>h(m))}}const o=OS("auth");return o&&ED(e,`http://${o}`),e}function Q2(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}cD({loadJS(i){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const l=xi("internal-error");l.customData=o,e(l)},s.type="text/javascript",s.charset="UTF-8",Q2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});q2("Browser");var sT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ps,_A;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,w){function b(){}b.prototype=w.prototype,D.D=w.prototype,D.prototype=new b,D.prototype.constructor=D,D.C=function(O,V,j){for(var I=Array(arguments.length-2),he=2;he<arguments.length;he++)I[he-2]=arguments[he];return w.prototype[V].apply(O,I)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,w,b){b||(b=0);var O=Array(16);if(typeof w=="string")for(var V=0;16>V;++V)O[V]=w.charCodeAt(b++)|w.charCodeAt(b++)<<8|w.charCodeAt(b++)<<16|w.charCodeAt(b++)<<24;else for(V=0;16>V;++V)O[V]=w[b++]|w[b++]<<8|w[b++]<<16|w[b++]<<24;w=D.g[0],b=D.g[1],V=D.g[2];var j=D.g[3],I=w+(j^b&(V^j))+O[0]+3614090360&4294967295;w=b+(I<<7&4294967295|I>>>25),I=j+(V^w&(b^V))+O[1]+3905402710&4294967295,j=w+(I<<12&4294967295|I>>>20),I=V+(b^j&(w^b))+O[2]+606105819&4294967295,V=j+(I<<17&4294967295|I>>>15),I=b+(w^V&(j^w))+O[3]+3250441966&4294967295,b=V+(I<<22&4294967295|I>>>10),I=w+(j^b&(V^j))+O[4]+4118548399&4294967295,w=b+(I<<7&4294967295|I>>>25),I=j+(V^w&(b^V))+O[5]+1200080426&4294967295,j=w+(I<<12&4294967295|I>>>20),I=V+(b^j&(w^b))+O[6]+2821735955&4294967295,V=j+(I<<17&4294967295|I>>>15),I=b+(w^V&(j^w))+O[7]+4249261313&4294967295,b=V+(I<<22&4294967295|I>>>10),I=w+(j^b&(V^j))+O[8]+1770035416&4294967295,w=b+(I<<7&4294967295|I>>>25),I=j+(V^w&(b^V))+O[9]+2336552879&4294967295,j=w+(I<<12&4294967295|I>>>20),I=V+(b^j&(w^b))+O[10]+4294925233&4294967295,V=j+(I<<17&4294967295|I>>>15),I=b+(w^V&(j^w))+O[11]+2304563134&4294967295,b=V+(I<<22&4294967295|I>>>10),I=w+(j^b&(V^j))+O[12]+1804603682&4294967295,w=b+(I<<7&4294967295|I>>>25),I=j+(V^w&(b^V))+O[13]+4254626195&4294967295,j=w+(I<<12&4294967295|I>>>20),I=V+(b^j&(w^b))+O[14]+2792965006&4294967295,V=j+(I<<17&4294967295|I>>>15),I=b+(w^V&(j^w))+O[15]+1236535329&4294967295,b=V+(I<<22&4294967295|I>>>10),I=w+(V^j&(b^V))+O[1]+4129170786&4294967295,w=b+(I<<5&4294967295|I>>>27),I=j+(b^V&(w^b))+O[6]+3225465664&4294967295,j=w+(I<<9&4294967295|I>>>23),I=V+(w^b&(j^w))+O[11]+643717713&4294967295,V=j+(I<<14&4294967295|I>>>18),I=b+(j^w&(V^j))+O[0]+3921069994&4294967295,b=V+(I<<20&4294967295|I>>>12),I=w+(V^j&(b^V))+O[5]+3593408605&4294967295,w=b+(I<<5&4294967295|I>>>27),I=j+(b^V&(w^b))+O[10]+38016083&4294967295,j=w+(I<<9&4294967295|I>>>23),I=V+(w^b&(j^w))+O[15]+3634488961&4294967295,V=j+(I<<14&4294967295|I>>>18),I=b+(j^w&(V^j))+O[4]+3889429448&4294967295,b=V+(I<<20&4294967295|I>>>12),I=w+(V^j&(b^V))+O[9]+568446438&4294967295,w=b+(I<<5&4294967295|I>>>27),I=j+(b^V&(w^b))+O[14]+3275163606&4294967295,j=w+(I<<9&4294967295|I>>>23),I=V+(w^b&(j^w))+O[3]+4107603335&4294967295,V=j+(I<<14&4294967295|I>>>18),I=b+(j^w&(V^j))+O[8]+1163531501&4294967295,b=V+(I<<20&4294967295|I>>>12),I=w+(V^j&(b^V))+O[13]+2850285829&4294967295,w=b+(I<<5&4294967295|I>>>27),I=j+(b^V&(w^b))+O[2]+4243563512&4294967295,j=w+(I<<9&4294967295|I>>>23),I=V+(w^b&(j^w))+O[7]+1735328473&4294967295,V=j+(I<<14&4294967295|I>>>18),I=b+(j^w&(V^j))+O[12]+2368359562&4294967295,b=V+(I<<20&4294967295|I>>>12),I=w+(b^V^j)+O[5]+4294588738&4294967295,w=b+(I<<4&4294967295|I>>>28),I=j+(w^b^V)+O[8]+2272392833&4294967295,j=w+(I<<11&4294967295|I>>>21),I=V+(j^w^b)+O[11]+1839030562&4294967295,V=j+(I<<16&4294967295|I>>>16),I=b+(V^j^w)+O[14]+4259657740&4294967295,b=V+(I<<23&4294967295|I>>>9),I=w+(b^V^j)+O[1]+2763975236&4294967295,w=b+(I<<4&4294967295|I>>>28),I=j+(w^b^V)+O[4]+1272893353&4294967295,j=w+(I<<11&4294967295|I>>>21),I=V+(j^w^b)+O[7]+4139469664&4294967295,V=j+(I<<16&4294967295|I>>>16),I=b+(V^j^w)+O[10]+3200236656&4294967295,b=V+(I<<23&4294967295|I>>>9),I=w+(b^V^j)+O[13]+681279174&4294967295,w=b+(I<<4&4294967295|I>>>28),I=j+(w^b^V)+O[0]+3936430074&4294967295,j=w+(I<<11&4294967295|I>>>21),I=V+(j^w^b)+O[3]+3572445317&4294967295,V=j+(I<<16&4294967295|I>>>16),I=b+(V^j^w)+O[6]+76029189&4294967295,b=V+(I<<23&4294967295|I>>>9),I=w+(b^V^j)+O[9]+3654602809&4294967295,w=b+(I<<4&4294967295|I>>>28),I=j+(w^b^V)+O[12]+3873151461&4294967295,j=w+(I<<11&4294967295|I>>>21),I=V+(j^w^b)+O[15]+530742520&4294967295,V=j+(I<<16&4294967295|I>>>16),I=b+(V^j^w)+O[2]+3299628645&4294967295,b=V+(I<<23&4294967295|I>>>9),I=w+(V^(b|~j))+O[0]+4096336452&4294967295,w=b+(I<<6&4294967295|I>>>26),I=j+(b^(w|~V))+O[7]+1126891415&4294967295,j=w+(I<<10&4294967295|I>>>22),I=V+(w^(j|~b))+O[14]+2878612391&4294967295,V=j+(I<<15&4294967295|I>>>17),I=b+(j^(V|~w))+O[5]+4237533241&4294967295,b=V+(I<<21&4294967295|I>>>11),I=w+(V^(b|~j))+O[12]+1700485571&4294967295,w=b+(I<<6&4294967295|I>>>26),I=j+(b^(w|~V))+O[3]+2399980690&4294967295,j=w+(I<<10&4294967295|I>>>22),I=V+(w^(j|~b))+O[10]+4293915773&4294967295,V=j+(I<<15&4294967295|I>>>17),I=b+(j^(V|~w))+O[1]+2240044497&4294967295,b=V+(I<<21&4294967295|I>>>11),I=w+(V^(b|~j))+O[8]+1873313359&4294967295,w=b+(I<<6&4294967295|I>>>26),I=j+(b^(w|~V))+O[15]+4264355552&4294967295,j=w+(I<<10&4294967295|I>>>22),I=V+(w^(j|~b))+O[6]+2734768916&4294967295,V=j+(I<<15&4294967295|I>>>17),I=b+(j^(V|~w))+O[13]+1309151649&4294967295,b=V+(I<<21&4294967295|I>>>11),I=w+(V^(b|~j))+O[4]+4149444226&4294967295,w=b+(I<<6&4294967295|I>>>26),I=j+(b^(w|~V))+O[11]+3174756917&4294967295,j=w+(I<<10&4294967295|I>>>22),I=V+(w^(j|~b))+O[2]+718787259&4294967295,V=j+(I<<15&4294967295|I>>>17),I=b+(j^(V|~w))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+j&4294967295}s.prototype.u=function(D,w){w===void 0&&(w=D.length);for(var b=w-this.blockSize,O=this.B,V=this.h,j=0;j<w;){if(V==0)for(;j<=b;)o(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<w;)if(O[V++]=D.charCodeAt(j++),V==this.blockSize){o(this,O),V=0;break}}else for(;j<w;)if(O[V++]=D[j++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=w},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;var b=8*this.o;for(w=D.length-8;w<D.length;++w)D[w]=b&255,b/=256;for(this.u(D),D=Array(16),w=b=0;4>w;++w)for(var O=0;32>O;O+=8)D[b++]=this.g[w]>>>O&255;return D};function l(D,w){var b=m;return Object.prototype.hasOwnProperty.call(b,D)?b[D]:b[D]=w(D)}function h(D,w){this.h=w;for(var b=[],O=!0,V=D.length-1;0<=V;V--){var j=D[V]|0;O&&j==w||(b[V]=j,O=!1)}this.g=b}var m={};function p(D){return-128<=D&&128>D?l(D,function(w){return new h([w|0],0>w?-1:0)}):new h([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return S;if(0>D)return B(g(-D));for(var w=[],b=1,O=0;D>=b;O++)w[O]=D/b|0,b*=4294967296;return new h(w,0)}function E(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return B(E(D.substring(1),w));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=g(Math.pow(w,8)),O=S,V=0;V<D.length;V+=8){var j=Math.min(8,D.length-V),I=parseInt(D.substring(V,V+j),w);8>j?(j=g(Math.pow(w,j)),O=O.j(j).add(g(I))):(O=O.j(b),O=O.add(g(I)))}return O}var S=p(0),R=p(1),P=p(16777216);i=h.prototype,i.m=function(){if(K(this))return-B(this).m();for(var D=0,w=1,b=0;b<this.g.length;b++){var O=this.i(b);D+=(0<=O?O:4294967296+O)*w,w*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(U(this))return"0";if(K(this))return"-"+B(this).toString(D);for(var w=g(Math.pow(D,6)),b=this,O="";;){var V=ct(b,w).g;b=it(b,V.j(w));var j=((0<b.g.length?b.g[0]:b.h)>>>0).toString(D);if(b=V,U(b))return j+O;for(;6>j.length;)j="0"+j;O=j+O}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function U(D){if(D.h!=0)return!1;for(var w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function K(D){return D.h==-1}i.l=function(D){return D=it(this,D),K(D)?-1:U(D)?0:1};function B(D){for(var w=D.g.length,b=[],O=0;O<w;O++)b[O]=~D.g[O];return new h(b,~D.h).add(R)}i.abs=function(){return K(this)?B(this):this},i.add=function(D){for(var w=Math.max(this.g.length,D.g.length),b=[],O=0,V=0;V<=w;V++){var j=O+(this.i(V)&65535)+(D.i(V)&65535),I=(j>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);O=I>>>16,j&=65535,I&=65535,b[V]=I<<16|j}return new h(b,b[b.length-1]&-2147483648?-1:0)};function it(D,w){return D.add(B(w))}i.j=function(D){if(U(this)||U(D))return S;if(K(this))return K(D)?B(this).j(B(D)):B(B(this).j(D));if(K(D))return B(this.j(B(D)));if(0>this.l(P)&&0>D.l(P))return g(this.m()*D.m());for(var w=this.g.length+D.g.length,b=[],O=0;O<2*w;O++)b[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<D.g.length;V++){var j=this.i(O)>>>16,I=this.i(O)&65535,he=D.i(V)>>>16,re=D.i(V)&65535;b[2*O+2*V]+=I*re,rt(b,2*O+2*V),b[2*O+2*V+1]+=j*re,rt(b,2*O+2*V+1),b[2*O+2*V+1]+=I*he,rt(b,2*O+2*V+1),b[2*O+2*V+2]+=j*he,rt(b,2*O+2*V+2)}for(O=0;O<w;O++)b[O]=b[2*O+1]<<16|b[2*O];for(O=w;O<2*w;O++)b[O]=0;return new h(b,0)};function rt(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function et(D,w){this.g=D,this.h=w}function ct(D,w){if(U(w))throw Error("division by zero");if(U(D))return new et(S,S);if(K(D))return w=ct(B(D),w),new et(B(w.g),B(w.h));if(K(w))return w=ct(D,B(w)),new et(B(w.g),w.h);if(30<D.g.length){if(K(D)||K(w))throw Error("slowDivide_ only works with positive integers.");for(var b=R,O=w;0>=O.l(D);)b=lt(b),O=lt(O);var V=ft(b,1),j=ft(O,1);for(O=ft(O,2),b=ft(b,2);!U(O);){var I=j.add(O);0>=I.l(D)&&(V=V.add(b),j=I),O=ft(O,1),b=ft(b,1)}return w=it(D,V.j(w)),new et(V,w)}for(V=S;0<=D.l(w);){for(b=Math.max(1,Math.floor(D.m()/w.m())),O=Math.ceil(Math.log(b)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),j=g(b),I=j.j(w);K(I)||0<I.l(D);)b-=O,j=g(b),I=j.j(w);U(j)&&(j=R),V=V.add(j),D=it(D,I)}return new et(V,D)}i.A=function(D){return ct(this,D).h},i.and=function(D){for(var w=Math.max(this.g.length,D.g.length),b=[],O=0;O<w;O++)b[O]=this.i(O)&D.i(O);return new h(b,this.h&D.h)},i.or=function(D){for(var w=Math.max(this.g.length,D.g.length),b=[],O=0;O<w;O++)b[O]=this.i(O)|D.i(O);return new h(b,this.h|D.h)},i.xor=function(D){for(var w=Math.max(this.g.length,D.g.length),b=[],O=0;O<w;O++)b[O]=this.i(O)^D.i(O);return new h(b,this.h^D.h)};function lt(D){for(var w=D.g.length+1,b=[],O=0;O<w;O++)b[O]=D.i(O)<<1|D.i(O-1)>>>31;return new h(b,D.h)}function ft(D,w){var b=w>>5;w%=32;for(var O=D.g.length-b,V=[],j=0;j<O;j++)V[j]=0<w?D.i(j+b)>>>w|D.i(j+b+1)<<32-w:D.i(j+b);return new h(V,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,_A=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,ps=h}).apply(typeof sT<"u"?sT:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vA,Zl,EA,ch,gp,TA,SA,AA;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function e(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=e(this);function o(c,y){if(y)t:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var H=c[A];if(!(H in _))break t;_=_[H]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function l(c,y){c instanceof String&&(c+="");var _=0,A=!1,H={next:function(){if(!A&&_<c.length){var G=_++;return{value:y(G,c[G]),done:!1}}return A=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function S(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,A),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function R(c,y,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,R.apply(null,arguments)}function P(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function U(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,H,G){for(var ot=Array(arguments.length-2),Kt=2;Kt<arguments.length;Kt++)ot[Kt-2]=arguments[Kt];return y.prototype[H].apply(A,ot)}}function K(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function B(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const H=c.length||0,G=A.length||0;c.length=H+G;for(let ot=0;ot<G;ot++)c[H+ot]=A[ot]}else c.push(A)}}class it{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function rt(c){return/^[\s\xa0]*$/.test(c)}function et(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ct(c){return ct[" "](c),c}ct[" "]=function(){};var lt=et().indexOf("Gecko")!=-1&&!(et().toLowerCase().indexOf("webkit")!=-1&&et().indexOf("Edge")==-1)&&!(et().indexOf("Trident")!=-1||et().indexOf("MSIE")!=-1)&&et().indexOf("Edge")==-1;function ft(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function D(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function w(c){const y={};for(const _ in c)y[_]=c[_];return y}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let _,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(_ in A)c[_]=A[_];for(let G=0;G<b.length;G++)_=b[G],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function j(c){m.setTimeout(()=>{throw c},0)}function I(){var c=Mt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class he{constructor(){this.h=this.g=null}add(y,_){const A=re.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new it(()=>new nt,c=>c.reset());class nt{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,ut=!1,Mt=new he,x=()=>{const c=m.Promise.resolve(void 0);mt=()=>{c.then(Z)}};var Z=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){j(_)}var y=re;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ut=!1};function dt(){this.s=this.s,this.C=this.C}dt.prototype.s=!1,dt.prototype.ma=function(){this.s||(this.s=!0,this.N())},dt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var at=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function bt(c,y){if(st.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(lt){t:{try{ct(y.nodeName);var H=!0;break t}catch{}H=!1}H||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:gt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&bt.aa.h.call(this)}}U(bt,st);var gt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),Ot=0;function Jt(c,y,_,A,H){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=H,this.key=++Ot,this.da=this.fa=!1}function Lt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function te(c){this.src=c,this.g={},this.h=0}te.prototype.add=function(c,y,_,A,H){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ot=Ee(c,y,A,H);return-1<ot?(y=c[ot],_||(y.fa=!1)):(y=new Jt(y,this.src,G,!!A,H),y.fa=_,c.push(y)),y};function le(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],H=Array.prototype.indexOf.call(A,y,void 0),G;(G=0<=H)&&Array.prototype.splice.call(A,H,1),G&&(Lt(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ee(c,y,_,A){for(var H=0;H<c.length;++H){var G=c[H];if(!G.da&&G.listener==y&&G.capture==!!_&&G.ha==A)return H}return-1}var He="closure_lm_"+(1e6*Math.random()|0),Vt={};function rn(c,y,_,A,H){if(Array.isArray(y)){for(var G=0;G<y.length;G++)rn(c,y[G],_,A,H);return null}return _=Ui(_),c&&c[oe]?c.K(y,_,g(A)?!!A.capture:!1,H):Sn(c,y,_,!1,A,H)}function Sn(c,y,_,A,H,G){if(!y)throw Error("Invalid event type");var ot=g(H)?!!H.capture:!!H,Kt=di(c);if(Kt||(c[He]=Kt=new te(c)),_=Kt.add(y,_,A,ot,G),_.proxy)return _;if(A=ci(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)at||(H=ot),H===void 0&&(H=!1),c.addEventListener(y.toString(),A,H);else if(c.attachEvent)c.attachEvent(fi(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ci(){function c(_){return y.call(c.src,c.listener,_)}const y=bs;return c}function hi(c,y,_,A,H){if(Array.isArray(y))for(var G=0;G<y.length;G++)hi(c,y[G],_,A,H);else A=g(A)?!!A.capture:!!A,_=Ui(_),c&&c[oe]?(c=c.i,y=String(y).toString(),y in c.g&&(G=c.g[y],_=Ee(G,_,A,H),-1<_&&(Lt(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete c.g[y],c.h--)))):c&&(c=di(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ee(y,_,A,H)),(_=-1<c?y[c]:null)&&Xn(_))}function Xn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[oe])le(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(fi(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=di(y))?(le(_,c),_.h==0&&(_.src=null,y[He]=null)):Lt(c)}}}function fi(c){return c in Vt?Vt[c]:Vt[c]="on"+c}function bs(c,y){if(c.da)c=!0;else{y=new bt(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&Xn(c),c=_.call(A,y)}return c}function di(c){return c=c[He],c instanceof te?c:null}var Te="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ui(c){return typeof c=="function"?c:(c[Te]||(c[Te]=function(y){return c.handleEvent(y)}),c[Te])}function vt(){dt.call(this),this.i=new te(this),this.M=this,this.F=null}U(vt,dt),vt.prototype[oe]=!0,vt.prototype.removeEventListener=function(c,y,_,A){hi(this,c,y,_,A)};function ue(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new st(y,c);else if(y instanceof st)y.target=y.target||c;else{var H=y;y=new st(A,c),O(y,H)}if(H=!0,_)for(var G=_.length-1;0<=G;G--){var ot=y.g=_[G];H=yn(ot,A,!0,y)&&H}if(ot=y.g=c,H=yn(ot,A,!0,y)&&H,H=yn(ot,A,!1,y)&&H,_)for(G=0;G<_.length;G++)ot=y.g=_[G],H=yn(ot,A,!1,y)&&H}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)Lt(_[A]);delete c.g[y],c.h--}}this.F=null},vt.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},vt.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function yn(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,G=0;G<y.length;++G){var ot=y[G];if(ot&&!ot.da&&ot.capture==_){var Kt=ot.listener,ke=ot.ha||ot.src;ot.fa&&le(c.i,ot),H=Kt.call(ke,A)!==!1&&H}}return H&&!A.defaultPrevented}function Rs(c,y,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function ji(c){c.g=Rs(()=>{c.g=null,c.i&&(c.i=!1,ji(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Aa extends dt{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ji(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Et(c){dt.call(this),this.h=c,this.g={}}U(Et,dt);var qt=[];function fe(c){ft(c.g,function(y,_){this.g.hasOwnProperty(_)&&Xn(y)},c),c.g={}}Et.prototype.N=function(){Et.aa.N.call(this),fe(this)},Et.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=m.JSON.stringify,Dn=m.JSON.parse,fn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Fo(){}Fo.prototype.h=null;function Nu(c){return c.h||(c.h=c.i())}function Du(){}var mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function br(){st.call(this,"d")}U(br,st);function Zn(){st.call(this,"c")}U(Zn,st);var xn={},Rr=null;function ba(){return Rr=Rr||new vt}xn.La="serverreachability";function Go(c){st.call(this,xn.La,c)}U(Go,st);function wr(c){const y=ba();ue(y,new Go(y))}xn.STAT_EVENT="statevent";function Ra(c,y){st.call(this,xn.STAT_EVENT,c),this.stat=y}U(Ra,st);function Ce(c){const y=ba();ue(y,new Ra(y,c))}xn.Ma="timingevent";function xu(c,y){st.call(this,xn.Ma,c),this.size=y}U(xu,st);function Cr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Ir(){this.g=!0}Ir.prototype.xa=function(){this.g=!1};function Mu(c,y,_,A,H,G){c.info(function(){if(c.g)if(G)for(var ot="",Kt=G.split("&"),ke=0;ke<Kt.length;ke++){var $t=Kt[ke].split("=");if(1<$t.length){var Ge=$t[0];$t=$t[1];var Le=Ge.split("_");ot=2<=Le.length&&Le[1]=="type"?ot+(Ge+"="+$t+"&"):ot+(Ge+"=redacted&")}}else ot=null;else ot=G;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+y+`
`+_+`
`+ot})}function Vu(c,y,_,A,H,G,ot){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+y+`
`+_+`
`+G+" "+ot})}function Or(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+qe(c,_)+(A?" "+A:"")})}function pi(c,y){c.info(function(){return"TIMEOUT: "+y})}Ir.prototype.info=function(){};function qe(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var H=A[1];if(Array.isArray(H)&&!(1>H.length)){var G=H[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ot=1;ot<H.length;ot++)H[ot]=""}}}}return Wn(_)}catch{return y}}var Ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ws;function wa(){}U(wa,Fo),wa.prototype.g=function(){return new XMLHttpRequest},wa.prototype.i=function(){return{}},ws=new wa;function gi(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new Et(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ko}function Ko(){this.i=null,this.g="",this.h=!1}var Nr={},Cs={};function Jn(c,y,_){c.L=1,c.v=Ns(Se(y)),c.m=_,c.P=!0,zi(c,null)}function zi(c,y){c.F=Date.now(),ge(c),c.A=Se(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Fi(_.i,"t",A),c.C=0,_=c.j.J,c.h=new Ko,c.g=Qu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Aa(R(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(qt[0]=H.toString()),H=qt);for(var G=0;G<H.length;G++){var ot=rn(_,H[G],A||y.handleEvent,!1,y.h||y);if(!ot)break;y.g[ot.key]=ot}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),wr(),Mu(c.i,c.u,c.A,c.l,c.R,c.m)}gi.prototype.ca=function(c){c=c.target;const y=this.M;y&&Pn(c)==3?y.j():this.Y(c)},gi.prototype.Y=function(c){try{if(c==this.g)t:{const Le=Pn(this.g);var y=this.g.Ba();const Qi=this.g.Z();if(!(3>Le)&&(Le!=3||this.g&&(this.h.h||this.g.oa()||Bu(this.g)))){this.J||Le!=4||y==7||(y==8||0>=Qi?wr(3):wr(2)),Ca(this);var _=this.g.Z();this.X=_;e:if(Dr(this)){var A=Bu(this.g);c="";var H=A.length,G=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_n(this),An(this);var ot="";break e}this.h.i=new m.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(G&&y==H-1)});A.length=0,this.h.g+=c,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=_==200,Vu(this.i,this.u,this.A,this.l,this.R,Le,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Kt,ke=this.g;if((Kt=ke.g?ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(Kt)){var $t=Kt;break e}}$t=null}if(_=$t)Or(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bn(this,_);else{this.o=!1,this.s=3,Ce(12),_n(this),An(this);break t}}if(this.P){_=!0;let Xe;for(;!this.J&&this.C<ot.length;)if(Xe=xr(this,ot),Xe==Cs){Le==4&&(this.s=4,Ce(14),_=!1),Or(this.i,this.l,null,"[Incomplete Response]");break}else if(Xe==Nr){this.s=4,Ce(15),Or(this.i,this.l,ot,"[Invalid Chunk]"),_=!1;break}else Or(this.i,this.l,Xe,null),bn(this,Xe);if(Dr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||ot.length!=0||this.h.h||(this.s=1,Ce(16),_=!1),this.o=this.o&&_,!_)Or(this.i,this.l,ot,"[Invalid Chunked Response]"),_n(this),An(this);else if(0<ot.length&&!this.W){this.W=!0;var Ge=this.j;Ge.g==this&&Ge.ba&&!Ge.M&&(Ge.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),Ps(Ge),Ge.M=!0,Ce(11))}}else Or(this.i,this.l,ot,null),bn(this,ot);Le==4&&_n(this),this.o&&!this.J&&(Le==4?Gu(this.j,this):(this.o=!1,ge(this)))}else Sf(this.g),_==400&&0<ot.indexOf("Unknown SID")?(this.s=3,Ce(12)):(this.s=0,Ce(13)),_n(this),An(this)}}}catch{}finally{}};function Dr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function xr(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?Cs:(_=Number(y.substring(_,A)),isNaN(_)?Nr:(A+=1,A+_>y.length?Cs:(y=y.slice(A,A+_),c.C=A+_,y)))}gi.prototype.cancel=function(){this.J=!0,_n(this)};function ge(c){c.S=Date.now()+c.I,$o(c,c.I)}function $o(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Cr(R(c.ba,c),y)}function Ca(c){c.B&&(m.clearTimeout(c.B),c.B=null)}gi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(pi(this.i,this.A),this.L!=2&&(wr(),Ce(17)),_n(this),this.s=2,An(this)):$o(this,this.S-c)};function An(c){c.j.G==0||c.J||Gu(c.j,c)}function _n(c){Ca(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,fe(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function bn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Mr(_.h,c))){if(!c.K&&Mr(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Pa(_),ka(_);else break t;rl(_),Ce(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=Cr(R(_.Za,_),6e3));if(1>=ku(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else $i(_,11)}else if((c.K||_.g==c)&&Pa(_),!rt(y))for(H=_.Da.g.parse(y),y=0;y<H.length;y++){let $t=H[y];if(_.T=$t[0],$t=$t[1],_.G==2)if($t[0]=="c"){_.K=$t[1],_.ia=$t[2];const Ge=$t[3];Ge!=null&&(_.la=Ge,_.j.info("VER="+_.la));const Le=$t[4];Le!=null&&(_.Aa=Le,_.j.info("SVER="+_.Aa));const Qi=$t[5];Qi!=null&&typeof Qi=="number"&&0<Qi&&(A=1.5*Qi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Xe=c.g;if(Xe){const Ai=Xe.g?Xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ai){var G=A.h;G.g||Ai.indexOf("spdy")==-1&&Ai.indexOf("quic")==-1&&Ai.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Vr(G,G.h),G.h=null))}if(A.D){const al=Xe.g?Xe.g.getResponseHeader("X-HTTP-Session-Id"):null;al&&(A.ya=al,Xt(A.I,A.D,al))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ot=c;if(A.qa=$u(A,A.J?A.ia:null,A.W),ot.K){Mn(A.h,ot);var Kt=ot,ke=A.L;ke&&(Kt.I=ke),Kt.B&&(Ca(Kt),ge(Kt)),A.g=ot}else qu(A);0<_.i.length&&La(_)}else $t[0]!="stop"&&$t[0]!="close"||$i(_,7);else _.G==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?$i(_,7):nl(_):$t[0]!="noop"&&_.l&&_.l.ta($t),_.v=0)}}wr(4)}catch{}}var yf=class{constructor(c,y){this.g=c,this.map=y}};function Qo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ku(c){return c.h?1:c.g?c.g.size:0}function Mr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Vr(c,y){c.g?c.g.add(y):c.h=y}function Mn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Qo.prototype.cancel=function(){if(this.i=dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function dn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return K(c.i)}function Lu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function _f(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function Is(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=_f(c),A=Lu(c),H=A.length,G=0;G<H;G++)y.call(void 0,A[G],_&&_[G],c)}var Xo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ia(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),H=null;if(0<=A){var G=c[_].substring(0,A);H=c[_].substring(A+1)}else G=c[_];y(G,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Hi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Hi){this.h=c.h,kr(this,c.j),this.o=c.o,this.g=c.g,Os(this,c.s),this.l=c.l;var y=c.i,_=new yi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Oa(this,_),this.m=c.m}else c&&(y=String(c).match(Xo))?(this.h=!1,kr(this,y[1]||"",!0),this.o=Lr(y[2]||""),this.g=Lr(y[3]||"",!0),Os(this,y[4]),this.l=Lr(y[5]||"",!0),Oa(this,y[6]||"",!0),this.m=Lr(y[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}Hi.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Vn(y,Wo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Vn(y,Wo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Vn(_,_.charAt(0)=="/"?Zo:Pu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Vn(_,Tf)),c.join("")};function Se(c){return new Hi(c)}function kr(c,y,_){c.j=_?Lr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Os(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Oa(c,y,_){y instanceof yi?(c.i=y,Jo(c.i,c.h)):(_||(y=Vn(y,Ef)),c.i=new yi(y,c.h))}function Xt(c,y,_){c.i.set(y,_)}function Ns(c){return Xt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Lr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Vn(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,vf),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Wo=/[#\/\?@]/g,Pu=/[#\?:]/g,Zo=/[#\?]/g,Ef=/[#\?@]/g,Tf=/#/g;function yi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function kn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ia(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=yi.prototype,i.add=function(c,y){kn(this),this.i=null,c=Gi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Na(c,y){kn(c),y=Gi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function qi(c,y){return kn(c),y=Gi(c,y),c.g.has(y)}i.forEach=function(c,y){kn(this),this.g.forEach(function(_,A){_.forEach(function(H){c.call(y,H,A,this)},this)},this)},i.na=function(){kn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const H=c[A];for(let G=0;G<H.length;G++)_.push(y[A])}return _},i.V=function(c){kn(this);let y=[];if(typeof c=="string")qi(this,c)&&(y=y.concat(this.g.get(Gi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return kn(this),this.i=null,c=Gi(this,c),qi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Fi(c,y,_){Na(c,y),0<_.length&&(c.i=null,c.g.set(Gi(c,y),K(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const G=encodeURIComponent(String(A)),ot=this.V(A);for(A=0;A<ot.length;A++){var H=G;ot[A]!==""&&(H+="="+encodeURIComponent(String(ot[A]))),c.push(H)}}return this.i=c.join("&")};function Gi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Jo(c,y){y&&!c.j&&(kn(c),c.i=null,c.g.forEach(function(_,A){var H=A.toLowerCase();A!=H&&(Na(this,A),Fi(this,H,_))},c)),c.j=y}function Uu(c,y){const _=new Ir;if(m.Image){const A=new Image;A.onload=P(Ln,_,"TestLoadImage: loaded",!0,y,A),A.onerror=P(Ln,_,"TestLoadImage: error",!1,y,A),A.onabort=P(Ln,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=P(Ln,_,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Ds(c,y){const _=new Ir,A=new AbortController,H=setTimeout(()=>{A.abort(),Ln(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(H),G.ok?Ln(_,"TestPingServer: ok",!0,y):Ln(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Ln(_,"TestPingServer: error",!1,y)})}function Ln(c,y,_,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(_)}catch{}}function xs(){this.g=new fn}function _i(c,y,_){const A=_||"";try{Is(c,function(H,G){let ot=H;g(H)&&(ot=Wn(H)),y.push(A+G+"="+encodeURIComponent(ot))})}catch(H){throw y.push(A+"type="+encodeURIComponent("_badmap")),H}}function Pr(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Pr,Fo),Pr.prototype.g=function(){return new Ki(this.l,this.j)},Pr.prototype.i=function(c){return function(){return c}}({});function Ki(c,y){vt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Ki,vt),i=Ki.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ei(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function tl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?vi(this):Ei(this),this.readyState==3&&tl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,vi(this))},i.Qa=function(c){this.g&&(this.response=c,vi(this))},i.ga=function(){this.g&&vi(this)};function vi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ei(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Ei(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function el(c){let y="";return ft(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Fe(c,y,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=el(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Xt(c,y,_))}function ee(c){vt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(ee,vt);var Da=/^https?$/i,Ms=["POST","PUT"];i=ee.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ws.g(),this.v=this.o?Nu(this.o):Nu(ws),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){ju(this,G);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)_.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())_.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),H=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ms,y,void 0))||A||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ot]of _)this.g.setRequestHeader(G,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vs(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){ju(this,G)}};function ju(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,xa(c),Ti(c)}function xa(c){c.A||(c.A=!0,ue(c,"complete"),ue(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ue(this,"complete"),ue(this,"abort"),Ti(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ti(this,!0)),ee.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ma(this):this.bb())},i.bb=function(){Ma(this)};function Ma(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Pn(c)!=4||c.Z()!=2)){if(c.u&&Pn(c)==4)Rs(c.Ea,0,c);else if(ue(c,"readystatechange"),Pn(c)==4){c.h=!1;try{const ot=c.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var A;if(A=ot===0){var H=String(c.D).match(Xo)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),A=!Da.test(H?H.toLowerCase():"")}_=A}if(_)ue(c,"complete"),ue(c,"success");else{c.m=6;try{var G=2<Pn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",xa(c)}}finally{Ti(c)}}}}function Ti(c,y){if(c.g){Vs(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||ue(c,"ready");try{_.onreadystatechange=A}catch{}}}function Vs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Pn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Dn(y)}};function Bu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Sf(c){const y={};c=(c.g&&2<=Pn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(rt(c[A]))continue;var _=V(c[A]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=y[H]||[];y[H]=G,G.push(_)}D(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ks(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Va(c){this.Aa=0,this.i=[],this.j=new Ir,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ks("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ks("baseRetryDelayMs",5e3,c),this.cb=ks("retryDelaySeedMs",1e4,c),this.Wa=ks("forwardChannelMaxRetries",2,c),this.wa=ks("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Qo(c&&c.concurrentRequestLimit),this.Da=new xs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Va.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,A){Ce(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=$u(this,null,this.W),La(this)};function nl(c){if(zu(c),c.G==3){var y=c.U++,_=Se(c.I);if(Xt(_,"SID",c.K),Xt(_,"RID",y),Xt(_,"TYPE","terminate"),Ls(c,_),y=new gi(c,c.j,y),y.L=2,y.v=Ns(Se(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Qu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ge(y)}Ku(c)}function ka(c){c.g&&(Ps(c),c.g.cancel(),c.g=null)}function zu(c){ka(c),c.u&&(m.clearTimeout(c.u),c.u=null),Pa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function La(c){if(!Yo(c.h)&&!c.s){c.s=!0;var y=c.Ga;mt||x(),ut||(mt(),ut=!0),Mt.add(y,c),c.B=0}}function Af(c,y){return ku(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Cr(R(c.Ga,c,y),sl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new gi(this,this.j,c);let G=this.o;if(this.S&&(G?(G=w(G),O(G,this.S)):G=this.S),this.m!==null||this.O||(H.H=G,G=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Hu(this,H,y),_=Se(this.I),Xt(_,"RID",c),Xt(_,"CVER",22),this.D&&Xt(_,"X-HTTP-Session-Id",this.D),Ls(this,_),G&&(this.O?y="headers="+encodeURIComponent(String(el(G)))+"&"+y:this.m&&Fe(_,this.m,G)),Vr(this.h,H),this.Ua&&Xt(_,"TYPE","init"),this.P?(Xt(_,"$req",y),Xt(_,"SID","null"),H.T=!0,Jn(H,_,null)):Jn(H,_,y),this.G=2}}else this.G==3&&(c?il(this,c):this.i.length==0||Yo(this.h)||il(this))};function il(c,y){var _;y?_=y.l:_=c.U++;const A=Se(c.I);Xt(A,"SID",c.K),Xt(A,"RID",_),Xt(A,"AID",c.T),Ls(c,A),c.m&&c.o&&Fe(A,c.m,c.o),_=new gi(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Hu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Vr(c.h,_),Jn(_,A,y)}function Ls(c,y){c.H&&ft(c.H,function(_,A){Xt(y,A,_)}),c.l&&Is({},function(_,A){Xt(y,A,_)})}function Hu(c,y,_){_=Math.min(c.i.length,_);var A=c.l?R(c.l.Na,c.l,c):null;t:{var H=c.i;let G=-1;for(;;){const ot=["count="+_];G==-1?0<_?(G=H[0].g,ot.push("ofs="+G)):G=0:ot.push("ofs="+G);let Kt=!0;for(let ke=0;ke<_;ke++){let $t=H[ke].g;const Ge=H[ke].map;if($t-=G,0>$t)G=Math.max(0,H[ke].g-100),Kt=!1;else try{_i(Ge,ot,"req"+$t+"_")}catch{A&&A(Ge)}}if(Kt){A=ot.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,A}function qu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;mt||x(),ut||(mt(),ut=!0),Mt.add(y,c),c.v=0}}function rl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Cr(R(c.Fa,c),sl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Cr(R(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ce(10),ka(this),Fu(this))};function Ps(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Fu(c){c.g=new gi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Se(c.qa);Xt(y,"RID","rpc"),Xt(y,"SID",c.K),Xt(y,"AID",c.T),Xt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xt(y,"TO",c.ja),Xt(y,"TYPE","xmlhttp"),Ls(c,y),c.m&&c.o&&Fe(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ns(Se(y)),_.m=null,_.P=!0,zi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,ka(this),rl(this),Ce(19))};function Pa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Gu(c,y){var _=null;if(c.g==y){Pa(c),Ps(c),c.g=null;var A=2}else if(Mr(c.h,y))_=y.D,Mn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;A=ba(),ue(A,new xu(A,_)),La(c)}else qu(c);else if(H=y.s,H==3||H==0&&0<y.X||!(A==1&&Af(c,y)||A==2&&rl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),H){case 1:$i(c,5);break;case 4:$i(c,10);break;case 3:$i(c,6);break;default:$i(c,2)}}}function sl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function $i(c,y){if(c.j.info("Error code "+y),y==2){var _=R(c.fb,c),A=c.Xa;const H=!A;A=new Hi(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||kr(A,"https"),Ns(A),H?Uu(A.toString(),_):Ds(A.toString(),_)}else Ce(2);c.G=0,c.l&&c.l.sa(y),Ku(c),zu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))};function Ku(c){if(c.G=0,c.ka=[],c.l){const y=dn(c.h);(y.length!=0||c.i.length!=0)&&(B(c.ka,y),B(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function $u(c,y,_){var A=_ instanceof Hi?Se(_):new Hi(_);if(A.g!="")y&&(A.g=y+"."+A.g),Os(A,A.s);else{var H=m.location;A=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var G=new Hi(null);A&&kr(G,A),y&&(G.g=y),H&&Os(G,H),_&&(G.l=_),A=G}return _=c.D,y=c.ya,_&&y&&Xt(A,_,y),Xt(A,"VER",c.la),Ls(c,A),A}function Qu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new ee(new Pr({eb:_})):new ee(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}i=Yu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ua(){}Ua.prototype.g=function(c,y){return new mn(c,y)};function mn(c,y){vt.call(this),this.g=new Va(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!rt(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!rt(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Si(this)}U(mn,vt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){nl(this.g)},mn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Wn(c),c=_);y.i.push(new yf(y.Ya++,c)),y.G==3&&La(y)},mn.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,mn.aa.N.call(this)};function Xu(c){br.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}U(Xu,br);function Wu(){Zn.call(this),this.status=1}U(Wu,Zn);function Si(c){this.g=c}U(Si,Yu),Si.prototype.ua=function(){ue(this.g,"a")},Si.prototype.ta=function(c){ue(this.g,new Xu(c))},Si.prototype.sa=function(c){ue(this.g,new Wu)},Si.prototype.ra=function(){ue(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,AA=function(){return new Ua},SA=function(){return ba()},TA=xn,gp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ve.NO_ERROR=0,Ve.TIMEOUT=8,Ve.HTTP_ERROR=6,ch=Ve,Bi.COMPLETE="complete",EA=Bi,Du.EventType=mi,mi.OPEN="a",mi.CLOSE="b",mi.ERROR="c",mi.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Zl=Du,ee.prototype.listenOnce=ee.prototype.L,ee.prototype.getLastError=ee.prototype.Ka,ee.prototype.getLastErrorCode=ee.prototype.Ba,ee.prototype.getStatus=ee.prototype.Z,ee.prototype.getResponseJson=ee.prototype.Oa,ee.prototype.getResponseText=ee.prototype.oa,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Ha,vA=ee}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const aT="@firebase/firestore",oT="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new Qp("@firebase/firestore");function mo(){return ga.logLevel}function ht(i,...t){if(ga.logLevel<=zt.DEBUG){const e=t.map(ag);ga.debug(`Firestore (${Bo}): ${i}`,...e)}}function Er(i,...t){if(ga.logLevel<=zt.ERROR){const e=t.map(ag);ga.error(`Firestore (${Bo}): ${i}`,...e)}}function Co(i,...t){if(ga.logLevel<=zt.WARN){const e=t.map(ag);ga.warn(`Firestore (${Bo}): ${i}`,...e)}}function ag(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(i="Unexpected state"){const t=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: `+i;throw Er(t),new Error(t)}function ne(i,t){i||wt()}function Dt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tt extends Ar{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Y2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ln.UNAUTHENTICATED))}shutdown(){}}class X2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class W2{constructor(t){this.t=t,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ne(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,e(p)):Promise.resolve();let l=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new gs,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new gs)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ne(typeof s.accessToken=="string"),new bA(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ne(t===null||typeof t=="string"),new ln(t)}}class Z2{constructor(t,e,s){this.l=t,this.h=e,this.P=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class J2{constructor(t,e,s){this.l=t,this.h=e,this.P=s}getToken(){return Promise.resolve(new Z2(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tx{constructor(t,e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,si(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,e){ne(this.o===void 0);const s=l=>{l.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,ht("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>s(l))};const o=l=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new lT(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(ne(typeof e.token=="string"),this.R=e.token,new lT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<i;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=ex(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<e&&(s+=t.charAt(o[l]%62))}return s}}function Gt(i,t){return i<t?-1:i>t?1:0}function Io(i,t,e){return i.length===t.length&&i.every((s,o)=>e(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=-62135596800,cT=1e6;class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(t){return Be.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*cT);return new Be(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Tt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Tt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<uT)throw new Tt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Tt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cT}_compareTo(t){return this.seconds===t.seconds?Gt(this.nanoseconds,t.nanoseconds):Gt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-uT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{static fromTimestamp(t){return new It(t)}static min(){return new It(new Be(0,0))}static max(){return new It(new Be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="__name__";class Ni{constructor(t,e,s){e===void 0?e=0:e>t.length&&wt(),s===void 0?s=t.length-e:s>t.length-e&&wt(),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return Ni.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ni?t.forEach(s=>{e.push(s)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let o=0;o<s;o++){const l=Ni.compareSegments(t.get(o),e.get(o));if(l!==0)return l}return Math.sign(t.length-e.length)}static compareSegments(t,e){const s=Ni.isNumericId(t),o=Ni.isNumericId(e);return s&&!o?-1:!s&&o?1:s&&o?Ni.extractNumericId(t).compare(Ni.extractNumericId(e)):t<e?-1:t>e?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ps.fromString(t.substring(4,t.length-2))}}class we extends Ni{construct(t,e,s){return new we(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new Tt(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter(o=>o.length>0))}return new we(e)}static emptyPath(){return new we([])}}const nx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Ni{construct(t,e,s){return new en(t,e,s)}static isValidIdentifier(t){return nx.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hT}static keyField(){return new en([hT])}static fromServerFormat(t){const e=[];let s="",o=0;const l=()=>{if(s.length===0)throw new Tt(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let h=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new Tt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Tt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(l(),o++)}if(l(),h)throw new Tt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(e)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t){this.path=t}static fromPath(t){return new St(we.fromString(t))}static fromName(t){return new St(we.fromString(t).popFirst(5))}static empty(){return new St(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&we.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return we.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new St(new we(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=-1;function ix(i,t){const e=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=It.fromTimestamp(s===1e9?new Be(e+1,0):new Be(e,s));return new ys(o,St.empty(),t)}function rx(i){return new ys(i.readTime,i.key,cu)}class ys{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new ys(It.min(),St.empty(),cu)}static max(){return new ys(It.max(),St.empty(),cu)}}function sx(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=St.comparator(i.documentKey,t.documentKey),e!==0?e:Gt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ox{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(i){if(i.code!==tt.FAILED_PRECONDITION||i.message!==ax)throw i;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new W((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(e,l).next(s,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof W?e:W.resolve(e)}catch(e){return W.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):W.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):W.reject(e)}static resolve(t){return new W((e,s)=>{e(t)})}static reject(t){return new W((e,s)=>{s(t)})}static waitFor(t){return new W((e,s)=>{let o=0,l=0,h=!1;t.forEach(m=>{++o,m.next(()=>{++l,h&&l===o&&e()},p=>s(p))}),h=!0,l===o&&e()})}static or(t){let e=W.resolve(!1);for(const s of t)e=e.next(o=>o?W.resolve(o):s());return e}static forEach(t,e){const s=[];return t.forEach((o,l)=>{s.push(e.call(this,o,l))}),this.waitFor(s)}static mapArray(t,e){return new W((s,o)=>{const l=t.length,h=new Array(l);let m=0;for(let p=0;p<l;p++){const g=p;e(t[g]).next(E=>{h[g]=E,++m,m===l&&s(h)},E=>o(E))}})}static doWhile(t,e){return new W((s,o)=>{const l=()=>{t()===!0?e().next(()=>{l()},o):s()};l()})}}function lx(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Ho(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.oe(s),this._e=s=>e.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}sf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=-1;function af(i){return i==null}function Ih(i){return i===0&&1/i==-1/0}function ux(i){return typeof i=="number"&&Number.isInteger(i)&&!Ih(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="";function cx(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=fT(t)),t=hx(i.get(e),t);return fT(t)}function hx(i,t){let e=t;const s=i.length;for(let o=0;o<s;o++){const l=i.charAt(o);switch(l){case"\0":e+="";break;case wA:e+="";break;default:e+=l}}return e}function fT(i){return i+wA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function va(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function CA(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t,e){this.comparator=t,this.root=e||tn.EMPTY}insert(t,e){return new ve(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return e+s.left.size;o<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,s)=>(t(e,s),!1))}toString(){const t=[];return this.inorderTraversal((e,s)=>(t.push(`${e}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Jc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Jc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Jc(this.root,t,this.comparator,!0)}}class Jc{constructor(t,e,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?s(t.key,e):1,e&&o&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,e,s,o,l){this.key=t,this.value=e,this.color=s??tn.RED,this.left=o??tn.EMPTY,this.right=l??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,o,l){return new tn(t??this.key,e??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let o=this;const l=s(t,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(t,e,s),null):l===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const t=this.left.check();if(t!==this.right.check())throw wt();return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(t,e,s,o,l){return this}insert(t,e,s){return new tn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,s)=>(t(e),!1))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new mT(this.data.getIterator())}getIteratorFrom(t){return new mT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(s=>{e=e.add(s)}),e}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ze(this.comparator);return e.data=t,e}}class mT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new ai([])}unionWith(t){let e=new ze(en.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new ai(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Io(this.fields,t.fields,(e,s)=>e.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new IA("Invalid base64 string: "+l):l}}(t);return new nn(e)}static fromUint8Array(t){const e=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(t);return new nn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const s=new Uint8Array(e.length);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Gt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const fx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(i){if(ne(!!i),typeof i=="string"){let t=0;const e=fx.exec(i);if(ne(!!e),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Oe(i.seconds),nanos:Oe(i.nanos)}}function Oe(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function vs(i){return typeof i=="string"?nn.fromBase64String(i):nn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="server_timestamp",NA="__type__",DA="__previous_value__",xA="__local_write_time__";function lg(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[NA])===null||e===void 0?void 0:e.stringValue)===OA}function of(i){const t=i.mapValue.fields[DA];return lg(t)?of(t):t}function hu(i){const t=_s(i.mapValue.fields[xA].timestampValue);return new Be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(t,e,s,o,l,h,m,p,g){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const Oh="(default)";class fu{constructor(t,e){this.projectId=t,this.database=e||Oh}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(t){return t instanceof fu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="__type__",mx="__max__",th={mapValue:{}},VA="__vector__",Nh="value";function Es(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?lg(i)?4:gx(i)?9007199254740991:px(i)?10:11:wt()}function Li(i,t){if(i===t)return!0;const e=Es(i);if(e!==Es(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return hu(i).isEqual(hu(t));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=_s(o.timestampValue),m=_s(l.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(o,l){return vs(o.bytesValue).isEqual(vs(l.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,l){return Oe(o.geoPointValue.latitude)===Oe(l.geoPointValue.latitude)&&Oe(o.geoPointValue.longitude)===Oe(l.geoPointValue.longitude)}(i,t);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Oe(o.integerValue)===Oe(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=Oe(o.doubleValue),m=Oe(l.doubleValue);return h===m?Ih(h)===Ih(m):isNaN(h)&&isNaN(m)}return!1}(i,t);case 9:return Io(i.arrayValue.values||[],t.arrayValue.values||[],Li);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},m=l.mapValue.fields||{};if(dT(h)!==dT(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Li(h[p],m[p])))return!1;return!0}(i,t);default:return wt()}}function du(i,t){return(i.values||[]).find(e=>Li(e,t))!==void 0}function Oo(i,t){if(i===t)return 0;const e=Es(i),s=Es(t);if(e!==s)return Gt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return Gt(i.booleanValue,t.booleanValue);case 2:return function(l,h){const m=Oe(l.integerValue||l.doubleValue),p=Oe(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,t);case 3:return pT(i.timestampValue,t.timestampValue);case 4:return pT(hu(i),hu(t));case 5:return Gt(i.stringValue,t.stringValue);case 6:return function(l,h){const m=vs(l),p=vs(h);return m.compareTo(p)}(i.bytesValue,t.bytesValue);case 7:return function(l,h){const m=l.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Gt(m[g],p[g]);if(E!==0)return E}return Gt(m.length,p.length)}(i.referenceValue,t.referenceValue);case 8:return function(l,h){const m=Gt(Oe(l.latitude),Oe(h.latitude));return m!==0?m:Gt(Oe(l.longitude),Oe(h.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return gT(i.arrayValue,t.arrayValue);case 10:return function(l,h){var m,p,g,E;const S=l.fields||{},R=h.fields||{},P=(m=S[Nh])===null||m===void 0?void 0:m.arrayValue,U=(p=R[Nh])===null||p===void 0?void 0:p.arrayValue,K=Gt(((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0,((E=U==null?void 0:U.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:gT(P,U)}(i.mapValue,t.mapValue);case 11:return function(l,h){if(l===th.mapValue&&h===th.mapValue)return 0;if(l===th.mapValue)return 1;if(h===th.mapValue)return-1;const m=l.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const R=Gt(p[S],E[S]);if(R!==0)return R;const P=Oo(m[p[S]],g[E[S]]);if(P!==0)return P}return Gt(p.length,E.length)}(i.mapValue,t.mapValue);default:throw wt()}}function pT(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Gt(i,t);const e=_s(i),s=_s(t),o=Gt(e.seconds,s.seconds);return o!==0?o:Gt(e.nanos,s.nanos)}function gT(i,t){const e=i.values||[],s=t.values||[];for(let o=0;o<e.length&&o<s.length;++o){const l=Oo(e[o],s[o]);if(l)return l}return Gt(e.length,s.length)}function No(i){return yp(i)}function yp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(e){const s=_s(e);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(e){return vs(e).toBase64()}(i.bytesValue):"referenceValue"in i?function(e){return St.fromName(e).toString()}(i.referenceValue):"geoPointValue"in i?function(e){return`geo(${e.latitude},${e.longitude})`}(i.geoPointValue):"arrayValue"in i?function(e){let s="[",o=!0;for(const l of e.values||[])o?o=!1:s+=",",s+=yp(l);return s+"]"}(i.arrayValue):"mapValue"in i?function(e){const s=Object.keys(e.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${yp(e.fields[h])}`;return o+"}"}(i.mapValue):wt()}function hh(i){switch(Es(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=of(i);return t?16+hh(t):16;case 5:return 2*i.stringValue.length;case 6:return vs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+hh(l),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return va(s.fields,(l,h)=>{o+=l.length+hh(h)}),o}(i.mapValue);default:throw wt()}}function _p(i){return!!i&&"integerValue"in i}function ug(i){return!!i&&"arrayValue"in i}function yT(i){return!!i&&"nullValue"in i}function _T(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function fh(i){return!!i&&"mapValue"in i}function px(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[MA])===null||e===void 0?void 0:e.stringValue)===VA}function nu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return va(i.mapValue.fields,(e,s)=>t.mapValue.fields[e]=nu(s)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=nu(i.arrayValue.values[e]);return t}return Object.assign({},i)}function gx(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===mx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this.value=t}static empty(){return new Qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!fh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=nu(e)}setAll(t){let e=en.emptyPath(),s={},o=[];t.forEach((h,m)=>{if(!e.isImmediateParentOf(m)){const p=this.getFieldsMap(e);this.applyChanges(p,s,o),s={},o=[],e=m.popLast()}h?s[m.lastSegment()]=nu(h):o.push(m.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,s,o)}delete(t){const e=this.field(t.popLast());fh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Li(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=e.mapValue.fields[t.get(s)];fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,s){va(e,(o,l)=>t[o]=l);for(const o of s)delete t[o]}clone(){return new Qn(nu(this.value))}}function kA(i){const t=[];return va(i.fields,(e,s)=>{const o=new en([e]);if(fh(s)){const l=kA(s.mapValue).fields;if(l.length===0)t.push(o);else for(const h of l)t.push(o.child(h))}else t.push(o)}),new ai(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t,e,s,o,l,h,m){this.key=t,this.documentType=e,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=m}static newInvalidDocument(t){return new un(t,0,It.min(),It.min(),It.min(),Qn.empty(),0)}static newFoundDocument(t,e,s,o){return new un(t,1,e,It.min(),s,o,0)}static newNoDocument(t,e){return new un(t,2,e,It.min(),It.min(),Qn.empty(),0)}static newUnknownDocument(t,e){return new un(t,3,e,It.min(),It.min(),Qn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t,e){this.position=t,this.inclusive=e}}function vT(i,t,e){let s=0;for(let o=0;o<i.position.length;o++){const l=t[o],h=i.position[o];if(l.field.isKeyField()?s=St.comparator(St.fromName(h.referenceValue),e.key):s=Oo(h,e.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function ET(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!Li(i.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t,e="asc"){this.field=t,this.dir=e}}function yx(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{}class je extends LA{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new vx(t,e,s):e==="array-contains"?new Sx(t,s):e==="in"?new Ax(t,s):e==="not-in"?new bx(t,s):e==="array-contains-any"?new Rx(t,s):new je(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new Ex(t,s):new Tx(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(Oo(e,this.value)):e!==null&&Es(this.value)===Es(e)&&this.matchesComparison(Oo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pi extends LA{constructor(t,e){super(),this.filters=t,this.op=e,this.ce=null}static create(t,e){return new Pi(t,e)}matches(t){return PA(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function PA(i){return i.op==="and"}function UA(i){return _x(i)&&PA(i)}function _x(i){for(const t of i.filters)if(t instanceof Pi)return!1;return!0}function vp(i){if(i instanceof je)return i.field.canonicalString()+i.op.toString()+No(i.value);if(UA(i))return i.filters.map(t=>vp(t)).join(",");{const t=i.filters.map(e=>vp(e)).join(",");return`${i.op}(${t})`}}function jA(i,t){return i instanceof je?function(s,o){return o instanceof je&&s.op===o.op&&s.field.isEqual(o.field)&&Li(s.value,o.value)}(i,t):i instanceof Pi?function(s,o){return o instanceof Pi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,m)=>l&&jA(h,o.filters[m]),!0):!1}(i,t):void wt()}function BA(i){return i instanceof je?function(e){return`${e.field.canonicalString()} ${e.op} ${No(e.value)}`}(i):i instanceof Pi?function(e){return e.op.toString()+" {"+e.getFilters().map(BA).join(" ,")+"}"}(i):"Filter"}class vx extends je{constructor(t,e,s){super(t,e,s),this.key=St.fromName(s.referenceValue)}matches(t){const e=St.comparator(t.key,this.key);return this.matchesComparison(e)}}class Ex extends je{constructor(t,e){super(t,"in",e),this.keys=zA("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Tx extends je{constructor(t,e){super(t,"not-in",e),this.keys=zA("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function zA(i,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(s=>St.fromName(s.referenceValue))}class Sx extends je{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ug(e)&&du(e.arrayValue,this.value)}}class Ax extends je{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&du(this.value.arrayValue,e)}}class bx extends je{constructor(t,e){super(t,"not-in",e)}matches(t){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&!du(this.value.arrayValue,e)}}class Rx extends je{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ug(e)||!e.arrayValue.values)&&e.arrayValue.values.some(s=>du(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(t,e=null,s=[],o=[],l=null,h=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=m,this.le=null}}function TT(i,t=null,e=[],s=[],o=null,l=null,h=null){return new wx(i,t,e,s,o,l,h)}function cg(i){const t=Dt(i);if(t.le===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(s=>vp(s)).join(","),e+="|ob:",e+=t.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),af(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(s=>No(s)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(s=>No(s)).join(",")),t.le=e}return t.le}function hg(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!yx(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!jA(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!ET(i.startAt,t.startAt)&&ET(i.endAt,t.endAt)}function Ep(i){return St.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t,e=null,s=[],o=[],l=null,h="F",m=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Cx(i,t,e,s,o,l,h,m){return new lf(i,t,e,s,o,l,h,m)}function fg(i){return new lf(i)}function ST(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Ix(i){return i.collectionGroup!==null}function iu(i){const t=Dt(i);if(t.he===null){t.he=[];const e=new Set;for(const l of t.explicitOrderBy)t.he.push(l),e.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new ze(en.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(l=>{e.has(l.canonicalString())||l.isKeyField()||t.he.push(new xh(l,s))}),e.has(en.keyField().canonicalString())||t.he.push(new xh(en.keyField(),s))}return t.he}function Vi(i){const t=Dt(i);return t.Pe||(t.Pe=Ox(t,iu(i))),t.Pe}function Ox(i,t){if(i.limitType==="F")return TT(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new xh(o.field,l)});const e=i.endAt?new Dh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Dh(i.startAt.position,i.startAt.inclusive):null;return TT(i.path,i.collectionGroup,t,i.filters,i.limit,e,s)}}function Tp(i,t,e){return new lf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function uf(i,t){return hg(Vi(i),Vi(t))&&i.limitType===t.limitType}function HA(i){return`${cg(Vi(i))}|lt:${i.limitType}`}function po(i){return`Query(target=${function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map(o=>BA(o)).join(", ")}]`),af(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(o=>No(o)).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(o=>No(o)).join(",")),`Target(${s})`}(Vi(i))}; limitType=${i.limitType})`}function cf(i,t){return t.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):St.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(i,t)&&function(s,o){for(const l of iu(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(i,t)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(i,t)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=vT(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,iu(s),o)||s.endAt&&!function(h,m,p){const g=vT(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,iu(s),o))}(i,t)}function Nx(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function qA(i){return(t,e)=>{let s=!1;for(const o of iu(i)){const l=Dx(o,t,e);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function Dx(i,t,e){const s=i.field.isKeyField()?St.comparator(t.key,e.key):function(l,h,m){const p=h.data.field(l),g=m.data.field(l);return p!==null&&g!==null?Oo(p,g):wt()}(i.field,t,e);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return wt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],t))return void(o[l]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[e]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){va(this.inner,(e,s)=>{for(const[o,l]of s)t(o,l)})}isEmpty(){return CA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=new ve(St.comparator);function Tr(){return xx}const FA=new ve(St.comparator);function Jl(...i){let t=FA;for(const e of i)t=t.insert(e.key,e);return t}function GA(i){let t=FA;return i.forEach((e,s)=>t=t.insert(e,s.overlayedDocument)),t}function ua(){return ru()}function KA(){return ru()}function ru(){return new Ea(i=>i.toString(),(i,t)=>i.isEqual(t))}const Mx=new ve(St.comparator),Vx=new ze(St.comparator);function Ht(...i){let t=Vx;for(const e of i)t=t.add(e);return t}const kx=new ze(Gt);function Lx(){return kx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(t)?"-0":t}}function $A(i){return{integerValue:""+i}}function Px(i,t){return ux(t)?$A(t):dg(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(){this._=void 0}}function Ux(i,t,e){return i instanceof Mh?function(o,l){const h={fields:{[NA]:{stringValue:OA},[xA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&lg(l)&&(l=of(l)),l&&(h.fields[DA]=l),{mapValue:h}}(e,t):i instanceof mu?YA(i,t):i instanceof pu?XA(i,t):function(o,l){const h=QA(o,l),m=AT(h)+AT(o.Ie);return _p(h)&&_p(o.Ie)?$A(m):dg(o.serializer,m)}(i,t)}function jx(i,t,e){return i instanceof mu?YA(i,t):i instanceof pu?XA(i,t):e}function QA(i,t){return i instanceof Vh?function(s){return _p(s)||function(l){return!!l&&"doubleValue"in l}(s)}(t)?t:{integerValue:0}:null}class Mh extends hf{}class mu extends hf{constructor(t){super(),this.elements=t}}function YA(i,t){const e=WA(t);for(const s of i.elements)e.some(o=>Li(o,s))||e.push(s);return{arrayValue:{values:e}}}class pu extends hf{constructor(t){super(),this.elements=t}}function XA(i,t){let e=WA(t);for(const s of i.elements)e=e.filter(o=>!Li(o,s));return{arrayValue:{values:e}}}class Vh extends hf{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function AT(i){return Oe(i.integerValue||i.doubleValue)}function WA(i){return ug(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function Bx(i,t){return i.field.isEqual(t.field)&&function(s,o){return s instanceof mu&&o instanceof mu||s instanceof pu&&o instanceof pu?Io(s.elements,o.elements,Li):s instanceof Vh&&o instanceof Vh?Li(s.Ie,o.Ie):s instanceof Mh&&o instanceof Mh}(i.transform,t.transform)}class zx{constructor(t,e){this.version=t,this.transformResults=e}}class gr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new gr}static exists(t){return new gr(void 0,t)}static updateTime(t){return new gr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function dh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class ff{}function ZA(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new tb(i.key,gr.none()):new wu(i.key,i.data,gr.none());{const e=i.data,s=Qn.empty();let o=new ze(en.comparator);for(let l of t.fields)if(!o.has(l)){let h=e.field(l);h===null&&l.length>1&&(l=l.popLast(),h=e.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new Ta(i.key,s,new ai(o.toArray()),gr.none())}}function Hx(i,t,e){i instanceof wu?function(o,l,h){const m=o.value.clone(),p=RT(o.fieldTransforms,l,h.transformResults);m.setAll(p),l.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,t,e):i instanceof Ta?function(o,l,h){if(!dh(o.precondition,l))return void l.convertToUnknownDocument(h.version);const m=RT(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(JA(o)),p.setAll(m),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,t,e):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,e)}function su(i,t,e,s){return i instanceof wu?function(l,h,m,p){if(!dh(l.precondition,h))return m;const g=l.value.clone(),E=wT(l.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,t,e,s):i instanceof Ta?function(l,h,m,p){if(!dh(l.precondition,h))return m;const g=wT(l.fieldTransforms,p,h),E=h.data;return E.setAll(JA(l)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(S=>S.field))}(i,t,e,s):function(l,h,m){return dh(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,t,e)}function qx(i,t){let e=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),l=QA(s.transform,o||null);l!=null&&(e===null&&(e=Qn.empty()),e.set(s.field,l))}return e||null}function bT(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Io(s,o,(l,h)=>Bx(l,h))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class wu extends ff{constructor(t,e,s,o=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ta extends ff{constructor(t,e,s,o,l=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function JA(i){const t=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const s=i.data.field(e);t.set(e,s)}}),t}function RT(i,t,e){const s=new Map;ne(i.length===e.length);for(let o=0;o<e.length;o++){const l=i[o],h=l.transform,m=t.data.field(l.field);s.set(l.field,jx(h,m,e[o]))}return s}function wT(i,t,e){const s=new Map;for(const o of i){const l=o.transform,h=e.data.field(o.field);s.set(o.field,Ux(l,h,t))}return s}class tb extends ff{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fx extends ff{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(t,e,s,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(t.key)&&Hx(l,t,s[o])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=su(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=su(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=KA();return this.mutations.forEach(o=>{const l=t.get(o.key),h=l.overlayedDocument;let m=this.applyToLocalView(h,l.mutatedFields);m=e.has(o.key)?null:m;const p=ZA(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(It.min())}),s}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ht())}isEqual(t){return this.batchId===t.batchId&&Io(this.mutations,t.mutations,(e,s)=>bT(e,s))&&Io(this.baseMutations,t.baseMutations,(e,s)=>bT(e,s))}}class mg{constructor(t,e,s,o){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=o}static from(t,e,s){ne(t.mutations.length===s.length);let o=function(){return Mx}();const l=t.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new mg(t,e,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me,Yt;function Qx(i){switch(i){case tt.OK:return wt();case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return wt()}}function eb(i){if(i===void 0)return Er("GRPC error has no .code"),tt.UNKNOWN;switch(i){case Me.OK:return tt.OK;case Me.CANCELLED:return tt.CANCELLED;case Me.UNKNOWN:return tt.UNKNOWN;case Me.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Me.INTERNAL:return tt.INTERNAL;case Me.UNAVAILABLE:return tt.UNAVAILABLE;case Me.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Me.NOT_FOUND:return tt.NOT_FOUND;case Me.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Me.ABORTED:return tt.ABORTED;case Me.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Me.DATA_LOSS:return tt.DATA_LOSS;default:return wt()}}(Yt=Me||(Me={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=new ps([4294967295,4294967295],0);function CT(i){const t=Yx().encode(i),e=new _A;return e.update(t),new Uint8Array(e.digest())}function IT(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new ps([e,s],0),new ps([o,l],0)]}class pg{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new tu(`Invalid padding: ${e}`);if(s<0)throw new tu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new tu(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new tu(`Invalid padding when bitmap length is 0: ${e}`);this.Ee=8*t.length-e,this.de=ps.fromNumber(this.Ee)}Ae(t,e,s){let o=t.add(e.multiply(ps.fromNumber(s)));return o.compare(Xx)===1&&(o=new ps([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const e=CT(t),[s,o]=IT(e);for(let l=0;l<this.hashCount;l++){const h=this.Ae(s,o,l);if(!this.Re(h))return!1}return!0}static create(t,e,s){const o=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),h=new pg(l,o,e);return s.forEach(m=>h.insert(m)),h}insert(t){if(this.Ee===0)return;const e=CT(t),[s,o]=IT(e);for(let l=0;l<this.hashCount;l++){const h=this.Ae(s,o,l);this.Ve(h)}}Ve(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(t,e,s,o,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const o=new Map;return o.set(t,Cu.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new df(It.min(),o,new ve(Gt),Tr(),Ht())}}class Cu{constructor(t,e,s,o,l){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new Cu(s,e,Ht(),Ht(),Ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,e,s,o){this.me=t,this.removedTargetIds=e,this.key=s,this.fe=o}}class nb{constructor(t,e){this.targetId=t,this.ge=e}}class ib{constructor(t,e,s=nn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=o}}class OT{constructor(){this.pe=0,this.ye=NT(),this.we=nn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.we=t)}Fe(){let t=Ht(),e=Ht(),s=Ht();return this.ye.forEach((o,l)=>{switch(l){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:s=s.add(o);break;default:wt()}}),new Cu(this.we,this.be,t,e,s)}Me(){this.Se=!1,this.ye=NT()}xe(t,e){this.Se=!0,this.ye=this.ye.insert(t,e)}Oe(t){this.Se=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,ne(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Wx{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Tr(),this.$e=eh(),this.Ke=eh(),this.Ue=new ve(Gt)}We(t){for(const e of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(e,t.fe):this.ze(e,t.key,t.fe);for(const e of t.removedTargetIds)this.ze(e,t.key,t.fe)}je(t){this.forEachTarget(t,e=>{const s=this.He(e);switch(t.state){case 0:this.Je(e)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(e);break;case 3:this.Je(e)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(e)&&(this.Ye(e),s.Ce(t.resumeToken));break;default:wt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.qe.forEach((s,o)=>{this.Je(o)&&e(o)})}Ze(t){const e=t.targetId,s=t.ge.count,o=this.Xe(e);if(o){const l=o.target;if(Ep(l))if(s===0){const h=new St(l.path);this.ze(e,h,un.newNoDocument(h,It.min()))}else ne(s===1);else{const h=this.et(e);if(h!==s){const m=this.tt(t),p=m?this.nt(m,t,h):1;if(p!==0){this.Ye(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(e,g)}}}}}tt(t){const e=t.ge.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=e;let h,m;try{h=vs(s).toUint8Array()}catch(p){if(p instanceof IA)return Co("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new pg(h,o,l)}catch(p){return Co(p instanceof tu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(t,e,s){return e.ge.count===s-this.st(t,e.targetId)?0:2}st(t,e){const s=this.ke.getRemoteKeysForTarget(e);let o=0;return s.forEach(l=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;t.mightContain(m)||(this.ze(e,l,null),o++)}),o}ot(t){const e=new Map;this.qe.forEach((l,h)=>{const m=this.Xe(h);if(m){if(l.current&&Ep(m.target)){const p=new St(m.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,un.newNoDocument(p,t))}l.ve&&(e.set(h,l.Fe()),l.Me())}});let s=Ht();this.Ke.forEach((l,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(l))}),this.Qe.forEach((l,h)=>h.setReadTime(t));const o=new df(t,e,this.Ue,this.Qe,s);return this.Qe=Tr(),this.$e=eh(),this.Ke=eh(),this.Ue=new ve(Gt),o}Ge(t,e){if(!this.Je(t))return;const s=this.ut(t,e.key)?2:0;this.He(t).xe(e.key,s),this.Qe=this.Qe.insert(e.key,e),this.$e=this.$e.insert(e.key,this._t(e.key).add(t)),this.Ke=this.Ke.insert(e.key,this.ct(e.key).add(t))}ze(t,e,s){if(!this.Je(t))return;const o=this.He(t);this.ut(t,e)?o.xe(e,1):o.Oe(e),this.Ke=this.Ke.insert(e,this.ct(e).delete(t)),this.Ke=this.Ke.insert(e,this.ct(e).add(t)),s&&(this.Qe=this.Qe.insert(e,s))}removeTarget(t){this.qe.delete(t)}et(t){const e=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let e=this.qe.get(t);return e||(e=new OT,this.qe.set(t,e)),e}ct(t){let e=this.Ke.get(t);return e||(e=new ze(Gt),this.Ke=this.Ke.insert(t,e)),e}_t(t){let e=this.$e.get(t);return e||(e=new ze(Gt),this.$e=this.$e.insert(t,e)),e}Je(t){const e=this.Xe(t)!==null;return e||ht("WatchChangeAggregator","Detected inactive target",t),e}Xe(t){const e=this.qe.get(t);return e&&e.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new OT),this.ke.getRemoteKeysForTarget(t).forEach(e=>{this.ze(t,e,null)})}ut(t,e){return this.ke.getRemoteKeysForTarget(t).has(e)}}function eh(){return new ve(St.comparator)}function NT(){return new ve(St.comparator)}const Zx={asc:"ASCENDING",desc:"DESCENDING"},Jx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tM={and:"AND",or:"OR"};class eM{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Sp(i,t){return i.useProto3Json||af(t)?t:{value:t}}function kh(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function rb(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function nM(i,t){return kh(i,t.toTimestamp())}function ki(i){return ne(!!i),It.fromTimestamp(function(e){const s=_s(e);return new Be(s.seconds,s.nanos)}(i))}function gg(i,t){return Ap(i,t).canonicalString()}function Ap(i,t){const e=function(o){return new we(["projects",o.projectId,"databases",o.database])}(i).child("documents");return t===void 0?e:e.child(t)}function sb(i){const t=we.fromString(i);return ne(cb(t)),t}function bp(i,t){return gg(i.databaseId,t.path)}function Hm(i,t){const e=sb(t);if(e.get(1)!==i.databaseId.projectId)throw new Tt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new Tt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new St(ob(e))}function ab(i,t){return gg(i.databaseId,t)}function iM(i){const t=sb(i);return t.length===4?we.emptyPath():ob(t)}function Rp(i){return new we(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ob(i){return ne(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function DT(i,t,e){return{name:bp(i,t),fields:e.value.mapValue.fields}}function rM(i,t){let e;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:wt()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],l=function(g,E){return g.useProto3Json?(ne(E===void 0||typeof E=="string"),nn.fromBase64String(E||"")):(ne(E===void 0||E instanceof Buffer||E instanceof Uint8Array),nn.fromUint8Array(E||new Uint8Array))}(i,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(g){const E=g.code===void 0?tt.UNKNOWN:eb(g.code);return new Tt(E,g.message||"")}(h);e=new ib(s,o,l,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Hm(i,s.document.name),l=ki(s.document.updateTime),h=s.document.createTime?ki(s.document.createTime):It.min(),m=new Qn({mapValue:{fields:s.document.fields}}),p=un.newFoundDocument(o,l,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];e=new mh(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Hm(i,s.document),l=s.readTime?ki(s.readTime):It.min(),h=un.newNoDocument(o,l),m=s.removedTargetIds||[];e=new mh([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Hm(i,s.document),l=s.removedTargetIds||[];e=new mh([],l,o,null)}else{if(!("filter"in t))return wt();{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new $x(o,l),m=s.targetId;e=new nb(m,h)}}return e}function sM(i,t){let e;if(t instanceof wu)e={update:DT(i,t.key,t.value)};else if(t instanceof tb)e={delete:bp(i,t.key)};else if(t instanceof Ta)e={update:DT(i,t.key,t.data),updateMask:mM(t.fieldMask)};else{if(!(t instanceof Fx))return wt();e={verify:bp(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(s=>function(l,h){const m=h.transform;if(m instanceof Mh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof mu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof pu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Vh)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw wt()}(0,s))),t.precondition.isNone||(e.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:nM(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:wt()}(i,t.precondition)),e}function aM(i,t){return i&&i.length>0?(ne(t!==void 0),i.map(e=>function(o,l){let h=o.updateTime?ki(o.updateTime):ki(l);return h.isEqual(It.min())&&(h=ki(l)),new zx(h,o.transformResults||[])}(e,t))):[]}function oM(i,t){return{documents:[ab(i,t.path)]}}function lM(i,t){const e={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=ab(i,o);const l=function(g){if(g.length!==0)return ub(Pi.create(g,"and"))}(t.filters);l&&(e.structuredQuery.where=l);const h=function(g){if(g.length!==0)return g.map(E=>function(R){return{field:go(R.field),direction:hM(R.dir)}}(E))}(t.orderBy);h&&(e.structuredQuery.orderBy=h);const m=Sp(i,t.limit);return m!==null&&(e.structuredQuery.limit=m),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ht:e,parent:o}}function uM(i){let t=iM(i.parent);const e=i.structuredQuery,s=e.from?e.from.length:0;let o=null;if(s>0){ne(s===1);const E=e.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let l=[];e.where&&(l=function(S){const R=lb(S);return R instanceof Pi&&UA(R)?R.getFilters():[R]}(e.where));let h=[];e.orderBy&&(h=function(S){return S.map(R=>function(U){return new xh(yo(U.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(R))}(e.orderBy));let m=null;e.limit&&(m=function(S){let R;return R=typeof S=="object"?S.value:S,af(R)?null:R}(e.limit));let p=null;e.startAt&&(p=function(S){const R=!!S.before,P=S.values||[];return new Dh(P,R)}(e.startAt));let g=null;return e.endAt&&(g=function(S){const R=!S.before,P=S.values||[];return new Dh(P,R)}(e.endAt)),Cx(t,o,h,l,m,"F",p,g)}function cM(i,t){const e=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt()}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function lb(i){return i.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=yo(e.unaryFilter.field);return je.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=yo(e.unaryFilter.field);return je.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=yo(e.unaryFilter.field);return je.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=yo(e.unaryFilter.field);return je.create(h,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}(i):i.fieldFilter!==void 0?function(e){return je.create(yo(e.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(e.fieldFilter.op),e.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(e){return Pi.create(e.compositeFilter.filters.map(s=>lb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return wt()}}(e.compositeFilter.op))}(i):wt()}function hM(i){return Zx[i]}function fM(i){return Jx[i]}function dM(i){return tM[i]}function go(i){return{fieldPath:i.canonicalString()}}function yo(i){return en.fromServerFormat(i.fieldPath)}function ub(i){return i instanceof je?function(e){if(e.op==="=="){if(_T(e.value))return{unaryFilter:{field:go(e.field),op:"IS_NAN"}};if(yT(e.value))return{unaryFilter:{field:go(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(_T(e.value))return{unaryFilter:{field:go(e.field),op:"IS_NOT_NAN"}};if(yT(e.value))return{unaryFilter:{field:go(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(e.field),op:fM(e.op),value:e.value}}}(i):i instanceof Pi?function(e){const s=e.getFilters().map(o=>ub(o));return s.length===1?s[0]:{compositeFilter:{op:dM(e.op),filters:s}}}(i):wt()}function mM(i){const t=[];return i.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function cb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(t,e,s,o,l=It.min(),h=It.min(),m=nn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new cs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(t){this.Tt=t}}function gM(i){const t=uM({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Tp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this.Tn=new _M}addToCollectionParentIndex(t,e){return this.Tn.add(e),W.resolve()}getCollectionParents(t,e){return W.resolve(this.Tn.getEntries(e))}addFieldIndex(t,e){return W.resolve()}deleteFieldIndex(t,e){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,e){return W.resolve()}getDocumentsMatchingTarget(t,e){return W.resolve(null)}getIndexType(t,e){return W.resolve(0)}getFieldIndexes(t,e){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,e){return W.resolve(ys.min())}getMinOffsetFromCollectionGroup(t,e){return W.resolve(ys.min())}updateCollectionGroup(t,e,s){return W.resolve()}updateIndexEntries(t,e){return W.resolve()}}class _M{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e]||new ze(we.comparator),l=!o.has(s);return this.index[e]=o.add(s),l}has(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e];return o&&o.has(s)}getEntries(t){return(this.index[t]||new ze(we.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hb=41943040;class En{static withCacheSize(t){return new En(t,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(hb,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new Do(0)}static Un(){return new Do(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="LruGarbageCollector",vM=1048576;function VT([i,t],[e,s]){const o=Gt(i,e);return o===0?Gt(t,s):o}class EM{constructor(t){this.Hn=t,this.buffer=new ze(VT),this.Jn=0}Yn(){return++this.Jn}Zn(t){const e=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();VT(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class TM{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ht(MT,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ho(e)?ht(MT,"Ignoring IndexedDB error during garbage collection: ",e):await zo(e)}await this.er(3e5)})}}class SM{constructor(t,e){this.tr=t,this.params=e}calculateTargetCount(t,e){return this.tr.nr(t).next(s=>Math.floor(e/100*s))}nthSequenceNumber(t,e){if(e===0)return W.resolve(sf.ae);const s=new EM(e);return this.tr.forEachTarget(t,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(t,e,s){return this.tr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.tr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(xT)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xT):this.ir(t,e))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,e){let s,o,l,h,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(t,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(t,s,e))).next(S=>(l=S,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(S=>(g=Date.now(),mo()<=zt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${l} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:S})))}}function AM(i,t){return new SM(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this.changes=new Ea(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,un.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?W.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(t,e,s,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,e))).next(o=>(s!==null&&su(s.mutation,o,ai.empty(),Be.now()),o))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.getLocalViewOfDocuments(t,s,Ht()).next(()=>s))}getLocalViewOfDocuments(t,e,s=Ht()){const o=ua();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,s).next(l=>{let h=Jl();return l.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(t,e){const s=ua();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,Ht()))}populateOverlays(t,e,s){const o=[];return s.forEach(l=>{e.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(t,o).next(l=>{l.forEach((h,m)=>{e.set(h,m)})})}computeViews(t,e,s,o){let l=Tr();const h=ru(),m=function(){return ru()}();return e.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Ta)?l=l.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),su(E.mutation,g,E.mutation.getFieldMask(),Be.now())):h.set(g.key,ai.empty())}),this.recalculateAndSaveOverlays(t,l).next(p=>(p.forEach((g,E)=>h.set(g,E)),e.forEach((g,E)=>{var S;return m.set(g,new RM(E,(S=h.get(g))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(t,e){const s=ru();let o=new ve((h,m)=>h-m),l=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=e.get(p);if(g===null)return;let E=s.get(p)||ai.empty();E=m.applyToLocalView(g,E),s.set(p,E);const S=(o.get(m.batchId)||Ht()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,S=KA();E.forEach(R=>{if(!l.has(R)){const P=ZA(e.get(R),s.get(R));P!==null&&S.set(R,P),l=l.add(R)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,S))}return W.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,e,s,o){return function(h){return St.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Ix(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,o):this.getDocumentsMatchingCollectionQuery(t,e,s,o)}getNextDocuments(t,e,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,o-l.size):W.resolve(ua());let m=cu,p=l;return h.next(g=>W.forEach(g,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),l.get(E)?W.resolve():this.remoteDocumentCache.getEntry(t,E).next(R=>{p=p.insert(E,R)}))).next(()=>this.populateOverlays(t,g,l)).next(()=>this.computeViews(t,p,g,Ht())).next(E=>({batchId:m,changes:GA(E)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new St(e)).next(s=>{let o=Jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,e,s,o){const l=e.collectionGroup;let h=Jl();return this.indexManager.getCollectionParents(t,l).next(m=>W.forEach(m,p=>{const g=function(S,R){return new lf(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(e,p.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(E=>{E.forEach((S,R)=>{h=h.insert(S,R)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,e,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,l,o))).next(h=>{l.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,un.newInvalidDocument(E)))});let m=Jl();return h.forEach((p,g)=>{const E=l.get(p);E!==void 0&&su(E.mutation,g,ai.empty(),Be.now()),cf(e,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,e){return W.resolve(this.dr.get(e))}saveBundleMetadata(t,e){return this.dr.set(e.id,function(o){return{id:o.id,version:o.version,createTime:ki(o.createTime)}}(e)),W.resolve()}getNamedQuery(t,e){return W.resolve(this.Ar.get(e))}saveNamedQuery(t,e){return this.Ar.set(e.name,function(o){return{name:o.name,query:gM(o.bundledQuery),readTime:ki(o.readTime)}}(e)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(){this.overlays=new ve(St.comparator),this.Rr=new Map}getOverlay(t,e){return W.resolve(this.overlays.get(e))}getOverlays(t,e){const s=ua();return W.forEach(e,o=>this.getOverlay(t,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(t,e,s){return s.forEach((o,l)=>{this.Et(t,e,l)}),W.resolve()}removeOverlaysForBatchId(t,e,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(s)),W.resolve()}getOverlaysForCollection(t,e,s){const o=ua(),l=e.length+1,h=new St(e.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(t,e,s,o){let l=new ve((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let E=l.get(g.largestBatchId);E===null&&(E=ua(),l=l.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=ua(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return W.resolve(m)}Et(t,e,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new Kx(e,s));let l=this.Rr.get(e);l===void 0&&(l=Ht(),this.Rr.set(e,l)),this.Rr.set(e,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this.Vr=new ze(Ye.mr),this.gr=new ze(Ye.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,e){const s=new Ye(t,e);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,e){t.forEach(s=>this.addReference(s,e))}removeReference(t,e){this.wr(new Ye(t,e))}br(t,e){t.forEach(s=>this.removeReference(s,e))}Sr(t){const e=new St(new we([])),s=new Ye(e,t),o=new Ye(e,t+1),l=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),l.push(h.key)}),l}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const e=new St(new we([])),s=new Ye(e,t),o=new Ye(e,t+1);let l=Ht();return this.gr.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(t){const e=new Ye(t,0),s=this.Vr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class Ye{constructor(t,e){this.key=t,this.Cr=e}static mr(t,e){return St.comparator(t.key,e.key)||Gt(t.Cr,e.Cr)}static pr(t,e){return Gt(t.Cr,e.Cr)||St.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Fr=1,this.Mr=new ze(Ye.mr)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Gx(l,e,s,o);this.mutationQueue.push(h);for(const m of o)this.Mr=this.Mr.add(new Ye(m.key,l)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return W.resolve(h)}lookupMutationBatch(t,e){return W.resolve(this.Or(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,o=this.Nr(s),l=o<0?0:o;return W.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?og:this.Fr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new Ye(e,0),o=new Ye(e,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([s,o],h=>{const m=this.Or(h.Cr);l.push(m)}),W.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new ze(Gt);return e.forEach(o=>{const l=new Ye(o,0),h=new Ye(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,h],m=>{s=s.add(m.Cr)})}),W.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,o=s.length+1;let l=s;St.isDocumentKey(l)||(l=l.child(""));const h=new Ye(new St(l),0);let m=new ze(Gt);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},h),W.resolve(this.Br(m))}Br(t){const e=[];return t.forEach(s=>{const o=this.Or(s);o!==null&&e.push(o)}),e}removeMutationBatch(t,e){ne(this.Lr(e.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return W.forEach(e.mutations,o=>{const l=new Ye(o.key,e.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,e){const s=new Ye(e,0),o=this.Mr.firstAfterOrEqual(s);return W.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}Lr(t,e){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const e=this.Nr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(t){this.kr=t,this.docs=function(){return new ve(St.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,o=this.docs.get(s),l=o?o.size:0,h=this.kr(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return W.resolve(s?s.document.mutableCopy():un.newInvalidDocument(e))}getEntries(t,e){let s=Tr();return e.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():un.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(t,e,s,o){let l=Tr();const h=e.path,m=new St(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||sx(rx(E),s)<=0||(o.has(E.key)||cf(e,E))&&(l=l.insert(E.key,E.mutableCopy()))}return W.resolve(l)}getAllFromCollectionGroup(t,e,s,o){wt()}qr(t,e){return W.forEach(this.docs,s=>e(s))}newChangeBuffer(t){return new xM(this)}getSize(t){return W.resolve(this.size)}}class xM extends bM{constructor(t){super(),this.Ir=t}applyChanges(t){const e=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?e.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(s)}),W.waitFor(e)}getFromCache(t,e){return this.Ir.getEntry(t,e)}getAllFromCache(t,e){return this.Ir.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(t){this.persistence=t,this.Qr=new Ea(e=>cg(e),hg),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.$r=0,this.Kr=new yg,this.targetCount=0,this.Ur=Do.Kn()}forEachTarget(t,e){return this.Qr.forEach((s,o)=>e(o)),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.$r&&(this.$r=e),W.resolve()}zn(t){this.Qr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ur=new Do(e),this.highestTargetId=e),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,e){return this.zn(e),this.targetCount+=1,W.resolve()}updateTargetData(t,e){return this.zn(e),W.resolve()}removeTargetData(t,e){return this.Qr.delete(e.target),this.Kr.Sr(e.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,e,s){let o=0;const l=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=e&&s.get(m.targetId)===null&&(this.Qr.delete(h),l.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),W.waitFor(l).next(()=>o)}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,e){const s=this.Qr.get(e)||null;return W.resolve(s)}addMatchingKeys(t,e,s){return this.Kr.yr(e,s),W.resolve()}removeMatchingKeys(t,e,s){this.Kr.br(e,s);const o=this.persistence.referenceDelegate,l=[];return o&&e.forEach(h=>{l.push(o.markPotentiallyOrphaned(t,h))}),W.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.Kr.Sr(e),W.resolve()}getMatchingKeysForTargetId(t,e){const s=this.Kr.vr(e);return W.resolve(s)}containsKey(t,e){return W.resolve(this.Kr.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(t,e){this.Wr={},this.overlays={},this.Gr=new sf(0),this.zr=!1,this.zr=!0,this.jr=new OM,this.referenceDelegate=t(this),this.Hr=new MM(this),this.indexManager=new yM,this.remoteDocumentCache=function(o){return new DM(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new pM(e),this.Yr=new CM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new IM,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.Wr[t.toKey()];return s||(s=new NM(e,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,e,s){ht("MemoryPersistence","Starting transaction:",t);const o=new VM(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(t,e){return W.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,e)))}}class VM extends ox{constructor(t){super(),this.currentSequenceNumber=t}}class _g{constructor(t){this.persistence=t,this.ti=new yg,this.ni=null}static ri(t){return new _g(t)}get ii(){if(this.ni)return this.ni;throw wt()}addReference(t,e,s){return this.ti.addReference(s,e),this.ii.delete(s.toString()),W.resolve()}removeReference(t,e,s){return this.ti.removeReference(s,e),this.ii.add(s.toString()),W.resolve()}markPotentiallyOrphaned(t,e){return this.ii.add(e.toString()),W.resolve()}removeTarget(t,e){this.ti.Sr(e.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>s.removeTargetData(t,e))}Zr(){this.ni=new Set}Xr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,s=>{const o=St.fromPath(s);return this.si(t,o).next(l=>{l||e.removeEntry(o,It.min())})}).next(()=>(this.ni=null,e.apply(t)))}updateLimboDocument(t,e){return this.si(t,e).next(s=>{s?this.ii.delete(e.toString()):this.ii.add(e.toString())})}Jr(t){return 0}si(t,e){return W.or([()=>W.resolve(this.ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.ei(t,e)])}}class Lh{constructor(t,e){this.persistence=t,this.oi=new Ea(s=>cx(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=AM(this,e)}static ri(t,e){return new Lh(t,e)}Zr(){}Xr(t){return W.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}nr(t){const e=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>e.next(o=>s+o))}sr(t){let e=0;return this.rr(t,s=>{e++}).next(()=>e)}rr(t,e){return W.forEach(this.oi,(s,o)=>this.ar(t,s,o).next(l=>l?W.resolve():e(o)))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(t,h=>this.ar(t,h,e).next(m=>{m||(s++,l.removeEntry(h,It.min()))})).next(()=>l.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,e){return this.oi.set(e,t.currentSequenceNumber),W.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.oi.set(s,t.currentSequenceNumber),W.resolve()}removeReference(t,e,s){return this.oi.set(s,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,e){return this.oi.set(e,t.currentSequenceNumber),W.resolve()}Jr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=hh(t.data.value)),e}ar(t,e,s){return W.or([()=>this.persistence.ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.oi.get(e);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(t,e,s,o){this.targetId=t,this.fromCache=e,this.Hi=s,this.Ji=o}static Yi(t,e){let s=Ht(),o=Ht();for(const l of e.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new vg(t,e.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return _O()?8:lx(hn())>0?6:4}()}initialize(t,e){this.ns=t,this.indexManager=e,this.Zi=!0}getDocumentsMatchingQuery(t,e,s,o){const l={result:null};return this.rs(t,e).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.ss(t,e,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new kM;return this._s(t,e,h).next(m=>{if(l.result=m,this.Xi)return this.us(t,e,h,m.size)})}).next(()=>l.result)}us(t,e,s,o){return s.documentReadCount<this.es?(mo()<=zt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",po(e),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(mo()<=zt.DEBUG&&ht("QueryEngine","Query:",po(e),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(mo()<=zt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",po(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vi(e))):W.resolve())}rs(t,e){if(ST(e))return W.resolve(null);let s=Vi(e);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(e.limit!==null&&o===1&&(e=Tp(e,null,"F"),s=Vi(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next(l=>{const h=Ht(...l);return this.ns.getDocuments(t,h).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const g=this.cs(e,m);return this.ls(e,g,h,p.readTime)?this.rs(t,Tp(e,null,"F")):this.hs(t,g,e,p)}))})))}ss(t,e,s,o){return ST(e)||o.isEqual(It.min())?W.resolve(null):this.ns.getDocuments(t,s).next(l=>{const h=this.cs(e,l);return this.ls(e,h,s,o)?W.resolve(null):(mo()<=zt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(e)),this.hs(t,h,e,ix(o,cu)).next(m=>m))})}cs(t,e){let s=new ze(qA(t));return e.forEach((o,l)=>{cf(t,l)&&(s=s.add(l))}),s}ls(t,e,s,o){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(t,e,s){return mo()<=zt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",po(e)),this.ns.getDocumentsMatchingQuery(t,e,ys.min(),s)}hs(t,e,s,o){return this.ns.getDocumentsMatchingQuery(t,s,o).next(l=>(e.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="LocalStore",PM=3e8;class UM{constructor(t,e,s,o){this.persistence=t,this.Ps=e,this.serializer=o,this.Ts=new ve(Gt),this.Is=new Ea(l=>cg(l),hg),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new wM(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ts))}}function jM(i,t,e,s){return new UM(i,t,e,s)}async function db(i,t){const e=Dt(i);return await e.persistence.runTransaction("Handle user change","readonly",s=>{let o;return e.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,e.As(t),e.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],m=[];let p=Ht();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of l){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return e.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:m}))})})}function BM(i,t){const e=Dt(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),l=e.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const S=g.batch,R=S.keys();let P=W.resolve();return R.forEach(U=>{P=P.next(()=>E.getEntry(p,U)).next(K=>{const B=g.docVersions.get(U);ne(B!==null),K.version.compareTo(B)<0&&(S.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),E.addEntry(K)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(e,s,t,l).next(()=>l.apply(s)).next(()=>e.mutationQueue.performConsistencyCheck(s)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ht();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(t))).next(()=>e.localDocuments.getDocuments(s,o))})}function mb(i){const t=Dt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Hr.getLastRemoteSnapshotVersion(e))}function zM(i,t){const e=Dt(i),s=t.snapshotVersion;let o=e.Ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=e.ds.newChangeBuffer({trackRemovals:!0});o=e.Ts;const m=[];t.targetChanges.forEach((E,S)=>{const R=o.get(S);if(!R)return;m.push(e.Hr.removeMatchingKeys(l,E.removedDocuments,S).next(()=>e.Hr.addMatchingKeys(l,E.addedDocuments,S)));let P=R.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(S)!==null?P=P.withResumeToken(nn.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(S,P),function(K,B,it){return K.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=PM?!0:it.addedDocuments.size+it.modifiedDocuments.size+it.removedDocuments.size>0}(R,P,E)&&m.push(e.Hr.updateTargetData(l,P))});let p=Tr(),g=Ht();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(l,E))}),m.push(HM(l,h,t.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(It.min())){const E=e.Hr.getLastRemoteSnapshotVersion(l).next(S=>e.Hr.setTargetsMetadata(l,l.currentSequenceNumber,s));m.push(E)}return W.waitFor(m).next(()=>h.apply(l)).next(()=>e.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(e.Ts=o,l))}function HM(i,t,e){let s=Ht(),o=Ht();return e.forEach(l=>s=s.add(l)),t.getEntries(i,s).next(l=>{let h=Tr();return e.forEach((m,p)=>{const g=l.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(It.min())?(t.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(m,p)):ht(Eg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function qM(i,t){const e=Dt(i);return e.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=og),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function FM(i,t){const e=Dt(i);return e.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return e.Hr.getTargetData(s,t).next(l=>l?(o=l,W.resolve(o)):e.Hr.allocateTargetId(s).next(h=>(o=new cs(t,h,"TargetPurposeListen",s.currentSequenceNumber),e.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=e.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ts=e.Ts.insert(s.targetId,s),e.Is.set(t,s.targetId)),s})}async function wp(i,t,e){const s=Dt(i),o=s.Ts.get(t),l=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Ho(h))throw h;ht(Eg,`Failed to update sequence numbers for target ${t}: ${h}`)}s.Ts=s.Ts.remove(t),s.Is.delete(o.target)}function kT(i,t,e){const s=Dt(i);let o=It.min(),l=Ht();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const S=Dt(p),R=S.Is.get(E);return R!==void 0?W.resolve(S.Ts.get(R)):S.Hr.getTargetData(g,E)}(s,h,Vi(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,m.targetId).next(p=>{l=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,t,e?o:It.min(),e?l:Ht())).next(m=>(GM(s,Nx(t),m),{documents:m,gs:l})))}function GM(i,t,e){let s=i.Es.get(t)||It.min();e.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),i.Es.set(t,s)}class LT{constructor(){this.activeTargetIds=Lx()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ss(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class KM{constructor(){this.ho=new LT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,e,s){this.Po[t]=e}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new LT,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="ConnectivityMonitor";class UT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ht(PT,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ht(PT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh=null;function Cp(){return nh===null?nh=function(){return 268435456+Math.round(2147483648*Math.random())}():nh++,"0x"+nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="RestConnection",QM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YM{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=e+"://"+t.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Oh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(t,e,s,o,l){const h=Cp(),m=this.So(t,e.toUriEncodedString());ht(qm,`Sending RPC '${t}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,l),this.vo(t,m,p,s).then(g=>(ht(qm,`Received RPC '${t}' ${h}: `,g),g),g=>{throw Co(qm,`RPC '${t}' ${h} failed with error: `,g,"url: ",m,"request:",s),g})}Co(t,e,s,o,l,h){return this.bo(t,e,s,o,l)}Do(t,e,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,l)=>t[l]=o),s&&s.headers.forEach((o,l)=>t[l]=o)}So(t,e){const s=QM[t];return`${this.po}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class WM extends YM{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,e,s,o){const l=Cp();return new Promise((h,m)=>{const p=new vA;p.setWithCredentials(!0),p.listenOnce(EA.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ch.NO_ERROR:const E=p.getResponseJson();ht(on,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(E)),h(E);break;case ch.TIMEOUT:ht(on,`RPC '${t}' ${l} timed out`),m(new Tt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const S=p.getStatus();if(ht(on,`RPC '${t}' ${l} failed with status:`,S,"response text:",p.getResponseText()),S>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const P=R==null?void 0:R.error;if(P&&P.status&&P.message){const U=function(B){const it=B.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(it)>=0?it:tt.UNKNOWN}(P.status);m(new Tt(U,P.message))}else m(new Tt(tt.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new Tt(tt.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{ht(on,`RPC '${t}' ${l} completed.`)}});const g=JSON.stringify(o);ht(on,`RPC '${t}' ${l} sending request:`,o),p.send(e,"POST",g,s,15)})}Wo(t,e,s){const o=Cp(),l=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=AA(),m=SA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,e,s),p.encodeInitMessageHeaders=!0;const E=l.join("");ht(on,`Creating RPC '${t}' stream ${o}: ${E}`,p);const S=h.createWebChannel(E,p);let R=!1,P=!1;const U=new XM({Fo:B=>{P?ht(on,`Not sending because RPC '${t}' stream ${o} is closed:`,B):(R||(ht(on,`Opening RPC '${t}' stream ${o} transport.`),S.open(),R=!0),ht(on,`RPC '${t}' stream ${o} sending:`,B),S.send(B))},Mo:()=>S.close()}),K=(B,it,rt)=>{B.listen(it,et=>{try{rt(et)}catch(ct){setTimeout(()=>{throw ct},0)}})};return K(S,Zl.EventType.OPEN,()=>{P||(ht(on,`RPC '${t}' stream ${o} transport opened.`),U.Qo())}),K(S,Zl.EventType.CLOSE,()=>{P||(P=!0,ht(on,`RPC '${t}' stream ${o} transport closed`),U.Ko())}),K(S,Zl.EventType.ERROR,B=>{P||(P=!0,Co(on,`RPC '${t}' stream ${o} transport errored:`,B),U.Ko(new Tt(tt.UNAVAILABLE,"The operation could not be completed")))}),K(S,Zl.EventType.MESSAGE,B=>{var it;if(!P){const rt=B.data[0];ne(!!rt);const et=rt,ct=(et==null?void 0:et.error)||((it=et[0])===null||it===void 0?void 0:it.error);if(ct){ht(on,`RPC '${t}' stream ${o} received error:`,ct);const lt=ct.status;let ft=function(b){const O=Me[b];if(O!==void 0)return eb(O)}(lt),D=ct.message;ft===void 0&&(ft=tt.INTERNAL,D="Unknown error status: "+lt+" with message "+ct.message),P=!0,U.Ko(new Tt(ft,D)),S.close()}else ht(on,`RPC '${t}' stream ${o} received:`,rt),U.Uo(rt)}}),K(m,TA.STAT_EVENT,B=>{B.stat===gp.PROXY?ht(on,`RPC '${t}' stream ${o} detected buffering proxy`):B.stat===gp.NOPROXY&&ht(on,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.$o()},0),U}}function Fm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(i){return new eM(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(t,e,s=1e3,o=1.5,l=6e4){this.Ti=t,this.timerId=e,this.Go=s,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const e=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,e-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="PersistentStream";class gb{constructor(t,e,s,o,l,h,m,p){this.Ti=t,this.n_=s,this.r_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new pb(t,e)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,e){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():e&&e.code===tt.RESOURCE_EXHAUSTED?(Er(e.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):e&&e.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(e)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),e=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===e&&this.V_(s,o)},s=>{t(()=>{const o=new Tt(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(t,e){const s=this.R_(this.i_);this.stream=this.f_(t,e),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ht(jT,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return e=>{this.Ti.enqueueAndForget(()=>this.i_===t?e():(ht(jT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZM extends gb{constructor(t,e,s,o,l,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,o,h),this.serializer=l}f_(t,e){return this.connection.Wo("Listen",t,e)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const e=rM(this.serializer,t),s=function(l){if(!("targetChange"in l))return It.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?It.min():h.readTime?ki(h.readTime):It.min()}(t);return this.listener.p_(e,s)}y_(t){const e={};e.database=Rp(this.serializer),e.addTarget=function(l,h){let m;const p=h.target;if(m=Ep(p)?{documents:oM(l,p)}:{query:lM(l,p).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=rb(l,h.resumeToken);const g=Sp(l,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(It.min())>0){m.readTime=kh(l,h.snapshotVersion.toTimestamp());const g=Sp(l,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const s=cM(this.serializer,t);s&&(e.labels=s),this.I_(e)}w_(t){const e={};e.database=Rp(this.serializer),e.removeTarget=t,this.I_(e)}}class JM extends gb{constructor(t,e,s,o,l,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,o,h),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(t,e){return this.connection.Wo("Write",t,e)}g_(t){return ne(!!t.streamToken),this.lastStreamToken=t.streamToken,ne(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){ne(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const e=aM(t.writeResults,t.commitTime),s=ki(t.commitTime);return this.listener.v_(s,e)}C_(){const t={};t.database=Rp(this.serializer),this.I_(t)}S_(t){const e={streamToken:this.lastStreamToken,writes:t.map(s=>sM(this.serializer,s))};this.I_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{}class eV extends tV{constructor(t,e,s,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Tt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,e,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.bo(t,Ap(e,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Tt(tt.UNKNOWN,l.toString())})}Co(t,e,s,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(t,Ap(e,s),o,h,m,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Tt(tt.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class nV{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Er(e),this.N_=!1):ht("OnlineStateTracker",e)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="RemoteStore";class iV{constructor(t,e,s,o,l){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(h=>{s.enqueueAndForget(async()=>{Sa(this)&&(ht(ya,"Restarting streams for network reachability change."),await async function(p){const g=Dt(p);g.W_.add(4),await Iu(g),g.j_.set("Unknown"),g.W_.delete(4),await pf(g)}(this))})}),this.j_=new nV(s,o)}}async function pf(i){if(Sa(i))for(const t of i.G_)await t(!0)}async function Iu(i){for(const t of i.G_)await t(!1)}function yb(i,t){const e=Dt(i);e.U_.has(t.targetId)||(e.U_.set(t.targetId,t),bg(e)?Ag(e):qo(e).c_()&&Sg(e,t))}function Tg(i,t){const e=Dt(i),s=qo(e);e.U_.delete(t),s.c_()&&_b(e,t),e.U_.size===0&&(s.c_()?s.P_():Sa(e)&&e.j_.set("Unknown"))}function Sg(i,t){if(i.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}qo(i).y_(t)}function _b(i,t){i.H_.Ne(t),qo(i).w_(t)}function Ag(i){i.H_=new Wx({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>i.U_.get(t)||null,it:()=>i.datastore.serializer.databaseId}),qo(i).start(),i.j_.B_()}function bg(i){return Sa(i)&&!qo(i).u_()&&i.U_.size>0}function Sa(i){return Dt(i).W_.size===0}function vb(i){i.H_=void 0}async function rV(i){i.j_.set("Online")}async function sV(i){i.U_.forEach((t,e)=>{Sg(i,t)})}async function aV(i,t){vb(i),bg(i)?(i.j_.q_(t),Ag(i)):i.j_.set("Unknown")}async function oV(i,t,e){if(i.j_.set("Online"),t instanceof ib&&t.state===2&&t.cause)try{await async function(o,l){const h=l.cause;for(const m of l.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.U_.delete(m),o.H_.removeTarget(m))}(i,t)}catch(s){ht(ya,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Ph(i,s)}else if(t instanceof mh?i.H_.We(t):t instanceof nb?i.H_.Ze(t):i.H_.je(t),!e.isEqual(It.min()))try{const s=await mb(i.localStore);e.compareTo(s)>=0&&await function(l,h){const m=l.H_.ot(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=l.U_.get(g);E&&l.U_.set(g,E.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const E=l.U_.get(p);if(!E)return;l.U_.set(p,E.withResumeToken(nn.EMPTY_BYTE_STRING,E.snapshotVersion)),_b(l,p);const S=new cs(E.target,p,g,E.sequenceNumber);Sg(l,S)}),l.remoteSyncer.applyRemoteEvent(m)}(i,e)}catch(s){ht(ya,"Failed to raise snapshot:",s),await Ph(i,s)}}async function Ph(i,t,e){if(!Ho(t))throw t;i.W_.add(1),await Iu(i),i.j_.set("Offline"),e||(e=()=>mb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ht(ya,"Retrying IndexedDB access"),await e(),i.W_.delete(1),await pf(i)})}function Eb(i,t){return t().catch(e=>Ph(i,e,t))}async function gf(i){const t=Dt(i),e=Ts(t);let s=t.K_.length>0?t.K_[t.K_.length-1].batchId:og;for(;lV(t);)try{const o=await qM(t.localStore,s);if(o===null){t.K_.length===0&&e.P_();break}s=o.batchId,uV(t,o)}catch(o){await Ph(t,o)}Tb(t)&&Sb(t)}function lV(i){return Sa(i)&&i.K_.length<10}function uV(i,t){i.K_.push(t);const e=Ts(i);e.c_()&&e.b_&&e.S_(t.mutations)}function Tb(i){return Sa(i)&&!Ts(i).u_()&&i.K_.length>0}function Sb(i){Ts(i).start()}async function cV(i){Ts(i).C_()}async function hV(i){const t=Ts(i);for(const e of i.K_)t.S_(e.mutations)}async function fV(i,t,e){const s=i.K_.shift(),o=mg.from(s,t,e);await Eb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await gf(i)}async function dV(i,t){t&&Ts(i).b_&&await async function(s,o){if(function(h){return Qx(h)&&h!==tt.ABORTED}(o.code)){const l=s.K_.shift();Ts(s).h_(),await Eb(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await gf(s)}}(i,t),Tb(i)&&Sb(i)}async function BT(i,t){const e=Dt(i);e.asyncQueue.verifyOperationInProgress(),ht(ya,"RemoteStore received new credentials");const s=Sa(e);e.W_.add(3),await Iu(e),s&&e.j_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.W_.delete(3),await pf(e)}async function mV(i,t){const e=Dt(i);t?(e.W_.delete(2),await pf(e)):t||(e.W_.add(2),await Iu(e),e.j_.set("Unknown"))}function qo(i){return i.J_||(i.J_=function(e,s,o){const l=Dt(e);return l.M_(),new ZM(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{xo:rV.bind(null,i),No:sV.bind(null,i),Lo:aV.bind(null,i),p_:oV.bind(null,i)}),i.G_.push(async t=>{t?(i.J_.h_(),bg(i)?Ag(i):i.j_.set("Unknown")):(await i.J_.stop(),vb(i))})),i.J_}function Ts(i){return i.Y_||(i.Y_=function(e,s,o){const l=Dt(e);return l.M_(),new JM(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:cV.bind(null,i),Lo:dV.bind(null,i),D_:hV.bind(null,i),v_:fV.bind(null,i)}),i.G_.push(async t=>{t?(i.Y_.h_(),await gf(i)):(await i.Y_.stop(),i.K_.length>0&&(ht(ya,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(t,e,s,o,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,o,l){const h=Date.now()+s,m=new Rg(t,e,h,o,l);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Tt(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wg(i,t){if(Er("AsyncQueue",`${t}: ${i}`),Ho(i))return new Tt(tt.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{static emptySet(t){return new Ao(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||St.comparator(e.key,s.key):(e,s)=>St.comparator(e.key,s.key),this.keyedMap=Jl(),this.sortedSet=new ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,s)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ao)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new Ao;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(){this.Z_=new ve(St.comparator)}track(t){const e=t.doc.key,s=this.Z_.get(e);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(e,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(e):t.type===1&&s.type===2?this.Z_=this.Z_.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):wt():this.Z_=this.Z_.insert(e,t)}X_(){const t=[];return this.Z_.inorderTraversal((e,s)=>{t.push(s)}),t}}class xo{constructor(t,e,s,o,l,h,m,p,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,o,l){const h=[];return e.forEach(m=>{h.push({type:0,doc:m})}),new xo(t,e,Ao.emptySet(e),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&uf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==s[o].type||!e[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class gV{constructor(){this.queries=HT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(e,s){const o=Dt(e),l=o.queries;o.queries=HT(),l.forEach((h,m)=>{for(const p of m.ta)p.onError(s)})})(this,new Tt(tt.ABORTED,"Firestore shutting down"))}}function HT(){return new Ea(i=>HA(i),uf)}async function yV(i,t){const e=Dt(i);let s=3;const o=t.query;let l=e.queries.get(o);l?!l.na()&&t.ra()&&(s=2):(l=new pV,s=t.ra()?0:1);try{switch(s){case 0:l.ea=await e.onListen(o,!0);break;case 1:l.ea=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(h){const m=wg(h,`Initialization of query '${po(t.query)}' failed`);return void t.onError(m)}e.queries.set(o,l),l.ta.push(t),t.sa(e.onlineState),l.ea&&t.oa(l.ea)&&Cg(e)}async function _V(i,t){const e=Dt(i),s=t.query;let o=3;const l=e.queries.get(s);if(l){const h=l.ta.indexOf(t);h>=0&&(l.ta.splice(h,1),l.ta.length===0?o=t.ra()?0:1:!l.na()&&t.ra()&&(o=2))}switch(o){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function vV(i,t){const e=Dt(i);let s=!1;for(const o of t){const l=o.query,h=e.queries.get(l);if(h){for(const m of h.ta)m.oa(o)&&(s=!0);h.ea=o}}s&&Cg(e)}function EV(i,t,e){const s=Dt(i),o=s.queries.get(t);if(o)for(const l of o.ta)l.onError(e);s.queries.delete(t)}function Cg(i){i.ia.forEach(t=>{t.next()})}var Ip,qT;(qT=Ip||(Ip={}))._a="default",qT.Cache="cache";class TV{constructor(t,e,s){this.query=t,this.aa=e,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new xo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ua?this.la(t)&&(this.aa.next(t),e=!0):this.ha(t,this.onlineState)&&(this.Pa(t),e=!0),this.ca=t,e}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let e=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),e=!0),e}ha(t,e){if(!t.fromCache||!this.ra())return!0;const s=e!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}la(t){if(t.docChanges.length>0)return!0;const e=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Pa(t){t=xo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Ip.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(t){this.key=t}}class bb{constructor(t){this.key=t}}class SV{constructor(t,e){this.query=t,this.fa=e,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ht(),this.mutatedKeys=Ht(),this.ya=qA(t),this.wa=new Ao(this.ya)}get ba(){return this.fa}Sa(t,e){const s=e?e.Da:new zT,o=e?e.wa:this.wa;let l=e?e.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,S)=>{const R=o.get(E),P=cf(this.query,S)?S:null,U=!!R&&this.mutatedKeys.has(R.key),K=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let B=!1;R&&P?R.data.isEqual(P.data)?U!==K&&(s.track({type:3,doc:P}),B=!0):this.va(R,P)||(s.track({type:2,doc:P}),B=!0,(p&&this.ya(P,p)>0||g&&this.ya(P,g)<0)&&(m=!0)):!R&&P?(s.track({type:0,doc:P}),B=!0):R&&!P&&(s.track({type:1,doc:R}),B=!0,(p||g)&&(m=!0)),B&&(P?(h=h.add(P),l=K?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),s.track({type:1,doc:E})}return{wa:h,Da:s,ls:m,mutatedKeys:l}}va(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,o){const l=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const h=t.Da.X_();h.sort((E,S)=>function(P,U){const K=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return K(P)-K(U)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(s),o=o!=null&&o;const m=e&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new xo(this.query,t.wa,l,h,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new zT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(e=>this.fa=this.fa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.fa=this.fa.delete(e)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Ht(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const e=[];return t.forEach(s=>{this.pa.has(s)||e.push(new bb(s))}),this.pa.forEach(s=>{t.has(s)||e.push(new Ab(s))}),e}Oa(t){this.fa=t.gs,this.pa=Ht();const e=this.Sa(t.documents);return this.applyChanges(e,!0)}Na(){return xo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ig="SyncEngine";class AV{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class bV{constructor(t){this.key=t,this.Ba=!1}}class RV{constructor(t,e,s,o,l,h){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new Ea(m=>HA(m),uf),this.qa=new Map,this.Qa=new Set,this.$a=new ve(St.comparator),this.Ka=new Map,this.Ua=new yg,this.Wa={},this.Ga=new Map,this.za=Do.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function wV(i,t,e=!0){const s=Nb(i);let o;const l=s.ka.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await Rb(s,t,e,!0),o}async function CV(i,t){const e=Nb(i);await Rb(e,t,!0,!1)}async function Rb(i,t,e,s){const o=await FM(i.localStore,Vi(t)),l=o.targetId,h=i.sharedClientState.addLocalQueryTarget(l,e);let m;return s&&(m=await IV(i,t,l,h==="current",o.resumeToken)),i.isPrimaryClient&&e&&yb(i.remoteStore,o),m}async function IV(i,t,e,s,o){i.Ha=(S,R,P)=>async function(K,B,it,rt){let et=B.view.Sa(it);et.ls&&(et=await kT(K.localStore,B.query,!1).then(({documents:D})=>B.view.Sa(D,et)));const ct=rt&&rt.targetChanges.get(B.targetId),lt=rt&&rt.targetMismatches.get(B.targetId)!=null,ft=B.view.applyChanges(et,K.isPrimaryClient,ct,lt);return GT(K,B.targetId,ft.Ma),ft.snapshot}(i,S,R,P);const l=await kT(i.localStore,t,!0),h=new SV(t,l.gs),m=h.Sa(l.documents),p=Cu.createSynthesizedTargetChangeForCurrentChange(e,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);GT(i,e,g.Ma);const E=new AV(t,e,h);return i.ka.set(t,E),i.qa.has(e)?i.qa.get(e).push(t):i.qa.set(e,[t]),g.snapshot}async function OV(i,t,e){const s=Dt(i),o=s.ka.get(t),l=s.qa.get(o.targetId);if(l.length>1)return s.qa.set(o.targetId,l.filter(h=>!uf(h,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await wp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),e&&Tg(s.remoteStore,o.targetId),Op(s,o.targetId)}).catch(zo)):(Op(s,o.targetId),await wp(s.localStore,o.targetId,!0))}async function NV(i,t){const e=Dt(i),s=e.ka.get(t),o=e.qa.get(s.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),Tg(e.remoteStore,s.targetId))}async function DV(i,t,e){const s=UV(i);try{const o=await function(h,m){const p=Dt(h),g=Be.now(),E=m.reduce((P,U)=>P.add(U.key),Ht());let S,R;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let U=Tr(),K=Ht();return p.ds.getEntries(P,E).next(B=>{U=B,U.forEach((it,rt)=>{rt.isValidDocument()||(K=K.add(it))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,U)).next(B=>{S=B;const it=[];for(const rt of m){const et=qx(rt,S.get(rt.key).overlayedDocument);et!=null&&it.push(new Ta(rt.key,et,kA(et.value.mapValue),gr.exists(!0)))}return p.mutationQueue.addMutationBatch(P,g,it,m)}).next(B=>{R=B;const it=B.applyToLocalDocumentSet(S,K);return p.documentOverlayCache.saveOverlays(P,B.batchId,it)})}).then(()=>({batchId:R.batchId,changes:GA(S)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new ve(Gt)),g=g.insert(m,p),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,e),await Ou(s,o.changes),await gf(s.remoteStore)}catch(o){const l=wg(o,"Failed to persist write");e.reject(l)}}async function wb(i,t){const e=Dt(i);try{const s=await zM(e.localStore,t);t.targetChanges.forEach((o,l)=>{const h=e.Ka.get(l);h&&(ne(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?ne(h.Ba):o.removedDocuments.size>0&&(ne(h.Ba),h.Ba=!1))}),await Ou(e,s,t)}catch(s){await zo(s)}}function FT(i,t,e){const s=Dt(i);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const o=[];s.ka.forEach((l,h)=>{const m=h.view.sa(t);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Dt(h);p.onlineState=m;let g=!1;p.queries.forEach((E,S)=>{for(const R of S.ta)R.sa(m)&&(g=!0)}),g&&Cg(p)}(s.eventManager,t),o.length&&s.La.p_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function xV(i,t,e){const s=Dt(i);s.sharedClientState.updateQueryState(t,"rejected",e);const o=s.Ka.get(t),l=o&&o.key;if(l){let h=new ve(St.comparator);h=h.insert(l,un.newNoDocument(l,It.min()));const m=Ht().add(l),p=new df(It.min(),new Map,new ve(Gt),h,m);await wb(s,p),s.$a=s.$a.remove(l),s.Ka.delete(t),Og(s)}else await wp(s.localStore,t,!1).then(()=>Op(s,t,e)).catch(zo)}async function MV(i,t){const e=Dt(i),s=t.batch.batchId;try{const o=await BM(e.localStore,t);Ib(e,s,null),Cb(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await Ou(e,o)}catch(o){await zo(o)}}async function VV(i,t,e){const s=Dt(i);try{const o=await function(h,m){const p=Dt(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(S=>(ne(S!==null),E=S.keys(),p.mutationQueue.removeMutationBatch(g,S))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,t);Ib(s,t,e),Cb(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await Ou(s,o)}catch(o){await zo(o)}}function Cb(i,t){(i.Ga.get(t)||[]).forEach(e=>{e.resolve()}),i.Ga.delete(t)}function Ib(i,t,e){const s=Dt(i);let o=s.Wa[s.currentUser.toKey()];if(o){const l=o.get(t);l&&(e?l.reject(e):l.resolve(),o=o.remove(t)),s.Wa[s.currentUser.toKey()]=o}}function Op(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.qa.get(t))i.ka.delete(s),e&&i.La.Ja(s,e);i.qa.delete(t),i.isPrimaryClient&&i.Ua.Sr(t).forEach(s=>{i.Ua.containsKey(s)||Ob(i,s)})}function Ob(i,t){i.Qa.delete(t.path.canonicalString());const e=i.$a.get(t);e!==null&&(Tg(i.remoteStore,e),i.$a=i.$a.remove(t),i.Ka.delete(e),Og(i))}function GT(i,t,e){for(const s of e)s instanceof Ab?(i.Ua.addReference(s.key,t),kV(i,s)):s instanceof bb?(ht(Ig,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,t),i.Ua.containsKey(s.key)||Ob(i,s.key)):wt()}function kV(i,t){const e=t.key,s=e.path.canonicalString();i.$a.get(e)||i.Qa.has(s)||(ht(Ig,"New document in limbo: "+e),i.Qa.add(s),Og(i))}function Og(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const t=i.Qa.values().next().value;i.Qa.delete(t);const e=new St(we.fromString(t)),s=i.za.next();i.Ka.set(s,new bV(e)),i.$a=i.$a.insert(e,s),yb(i.remoteStore,new cs(Vi(fg(e.path)),s,"TargetPurposeLimboResolution",sf.ae))}}async function Ou(i,t,e){const s=Dt(i),o=[],l=[],h=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{h.push(s.Ha(p,t,e).then(g=>{var E;if((g||e)&&s.isPrimaryClient){const S=g?!g.fromCache:(E=e==null?void 0:e.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(g){o.push(g);const S=vg.Yi(p.targetId,g);l.push(S)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,g){const E=Dt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>W.forEach(g,R=>W.forEach(R.Hi,P=>E.persistence.referenceDelegate.addReference(S,R.targetId,P)).next(()=>W.forEach(R.Ji,P=>E.persistence.referenceDelegate.removeReference(S,R.targetId,P)))))}catch(S){if(!Ho(S))throw S;ht(Eg,"Failed to update sequence numbers: "+S)}for(const S of g){const R=S.targetId;if(!S.fromCache){const P=E.Ts.get(R),U=P.snapshotVersion,K=P.withLastLimboFreeSnapshotVersion(U);E.Ts=E.Ts.insert(R,K)}}}(s.localStore,l))}async function LV(i,t){const e=Dt(i);if(!e.currentUser.isEqual(t)){ht(Ig,"User change. New user:",t.toKey());const s=await db(e.localStore,t);e.currentUser=t,function(l,h){l.Ga.forEach(m=>{m.forEach(p=>{p.reject(new Tt(tt.CANCELLED,h))})}),l.Ga.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ou(e,s.Rs)}}function PV(i,t){const e=Dt(i),s=e.Ka.get(t);if(s&&s.Ba)return Ht().add(s.key);{let o=Ht();const l=e.qa.get(t);if(!l)return o;for(const h of l){const m=e.ka.get(h);o=o.unionWith(m.view.ba)}return o}}function Nb(i){const t=Dt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=wb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xV.bind(null,t),t.La.p_=vV.bind(null,t.eventManager),t.La.Ja=EV.bind(null,t.eventManager),t}function UV(i){const t=Dt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=MV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=VV.bind(null,t),t}class Uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=mf(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,e){return null}nu(t,e){return null}eu(t){return jM(this.persistence,new LM,t.initialUser,this.serializer)}Xa(t){return new fb(_g.ri,this.serializer)}Za(t){return new KM}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uh.provider={build:()=>new Uh};class jV extends Uh{constructor(t){super(),this.cacheSizeBytes=t}tu(t,e){ne(this.persistence.referenceDelegate instanceof Lh);const s=this.persistence.referenceDelegate.garbageCollector;return new TM(s,t.asyncQueue,e)}Xa(t){const e=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new fb(s=>Lh.ri(s,e),this.serializer)}}class Np{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>FT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=LV.bind(null,this.syncEngine),await mV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new gV}()}createDatastore(t){const e=mf(t.databaseInfo.databaseId),s=function(l){return new WM(l)}(t.databaseInfo);return function(l,h,m,p){return new eV(l,h,m,p)}(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return function(s,o,l,h,m){return new iV(s,o,l,h,m)}(this.localStore,this.datastore,t.asyncQueue,e=>FT(this.syncEngine,e,0),function(){return UT.D()?new UT:new $M}())}createSyncEngine(t,e){return function(o,l,h,m,p,g,E){const S=new RV(o,l,h,m,p,g);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(o){const l=Dt(o);ht(ya,"RemoteStore shutting down."),l.W_.add(5),await Iu(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Np.provider={build:()=>new Np};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Er("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="FirestoreClient";class zV{constructor(t,e,s,o,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=RA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{ht(Ss,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ht(Ss,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=wg(e,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Gm(i,t){i.asyncQueue.verifyOperationInProgress(),ht(Ss,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let s=e.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await db(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function KT(i,t){i.asyncQueue.verifyOperationInProgress();const e=await HV(i);ht(Ss,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener(s=>BT(t.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>BT(t.remoteStore,o)),i._onlineComponents=t}async function HV(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ht(Ss,"Using user provided OfflineComponentProvider");try{await Gm(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(e))throw e;Co("Error using user provided cache. Falling back to memory cache: "+e),await Gm(i,new Uh)}}else ht(Ss,"Using default OfflineComponentProvider"),await Gm(i,new jV(void 0));return i._offlineComponents}async function Db(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ht(Ss,"Using user provided OnlineComponentProvider"),await KT(i,i._uninitializedComponentsProvider._online)):(ht(Ss,"Using default OnlineComponentProvider"),await KT(i,new Np))),i._onlineComponents}function qV(i){return Db(i).then(t=>t.syncEngine)}async function FV(i){const t=await Db(i),e=t.eventManager;return e.onListen=wV.bind(null,t.syncEngine),e.onUnlisten=OV.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=CV.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=NV.bind(null,t.syncEngine),e}function GV(i,t,e={}){const s=new gs;return i.asyncQueue.enqueueAndForget(async()=>function(l,h,m,p,g){const E=new BV({next:R=>{E.su(),h.enqueueAndForget(()=>_V(l,S));const P=R.docs.has(m);!P&&R.fromCache?g.reject(new Tt(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&R.fromCache&&p&&p.source==="server"?g.reject(new Tt(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),S=new TV(fg(m.path),E,{includeMetadataChanges:!0,Ta:!0});return yV(l,S)}(await FV(i),i.asyncQueue,t,e,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(i,t,e){if(!e)throw new Tt(tt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function $V(i,t,e,s){if(t===!0&&s===!0)throw new Tt(tt.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function QT(i){if(!St.isDocumentKey(i))throw new Tt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Ng(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":wt()}function gu(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new Tt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Ng(i);throw new Tt(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="firestore.googleapis.com",YT=!0;class XT{constructor(t){var e,s;if(t.host===void 0){if(t.ssl!==void 0)throw new Tt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Mb,this.ssl=YT}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:YT;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=hb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<vM)throw new Tt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$V("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xb((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Tt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Tt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Tt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Dg{constructor(t,e,s,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Tt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Tt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Y2;switch(s.type){case"firstParty":return new J2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Tt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const s=$T.get(e);s&&(ht("ComponentProvider","Removing Datastore"),$T.delete(e),s.terminate())}(this),Promise.resolve()}}function QV(i,t,e,s={}){var o;const l=(i=gu(i,Dg))._getSettings(),h=Object.assign(Object.assign({},l),{emulatorOptions:i._getEmulatorOptions()}),m=`${t}:${e}`;l.host!==Mb&&l.host!==m&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:m,ssl:!1,emulatorOptions:s});if(!da(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=ln.MOCK_USER;else{g=hO(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new Tt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new ln(S)}i._authCredentials=new X2(new bA(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new xg(this.firestore,t,this._query)}}class Yn{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Yn(this.firestore,t,this._key)}}class yu extends xg{constructor(t,e,s){super(t,e,fg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Yn(this.firestore,null,new St(t))}withConverter(t){return new yu(this.firestore,t,this._path)}}function YV(i,t,...e){if(i=oi(i),arguments.length===1&&(t=RA.newId()),KV("doc","path",t),i instanceof Dg){const s=we.fromString(t,...e);return QT(s),new Yn(i,null,new St(s))}{if(!(i instanceof Yn||i instanceof yu))throw new Tt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(we.fromString(t,...e));return QT(s),new Yn(i.firestore,i instanceof yu?i.converter:null,new St(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="AsyncQueue";class ZT{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new pb(this,"async_queue_retry"),this.bu=()=>{const s=Fm();s&&ht(WT,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=t;const e=Fm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const e=Fm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.bu)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const e=new gs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Ho(t))throw t;ht(WT,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const e=this.Su.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw Er("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=e,e}enqueueAfterDelay(t,e,s){this.Du(),this.wu.indexOf(t)>-1&&(e=0);const o=Rg.createAndSchedule(this,t,e,s,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&wt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.Su,await t;while(t!==this.Su)}xu(t){for(const e of this.fu)if(e.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((e,s)=>e.targetTimeMs-s.targetTimeMs);for(const e of this.fu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const e=this.fu.indexOf(t);this.fu.splice(e,1)}}class Mg extends Dg{constructor(t,e,s,o){super(t,e,s,o),this.type="firestore",this._queue=new ZT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ZT(t),this._firestoreClient=void 0,await t}}}function XV(i,t){const e=typeof i=="object"?i:kS(),s=typeof i=="string"?i:Oh,o=Xp(e,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=uO("firestore");l&&QV(o,...l)}return o}function Vb(i){if(i._terminated)throw new Tt(tt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||WV(i),i._firestoreClient}function WV(i){var t,e,s;const o=i._freezeSettings(),l=function(m,p,g,E){return new dx(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,xb(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((e=o.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new zV(i._authCredentials,i._appCheckCredentials,i._queue,l,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Mo(nn.fromBase64String(t))}catch(e){throw new Tt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Mo(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Tt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Tt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Tt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Gt(this._lat,t._lat)||Gt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=/^__.*__$/;class JV{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new Ta(t,this.data,this.fieldMask,e,this.fieldTransforms):new wu(t,this.data,e,this.fieldTransforms)}}function Lb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class Pg{constructor(t,e,s,o,l,h){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Pg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.ku({path:s,Qu:!1});return o.$u(t),o}Ku(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return jh(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(Lb(this.Lu)&&ZV.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class tk{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||mf(t)}ju(t,e,s,o=!1){return new Pg({Lu:t,methodName:e,zu:s,path:en.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ek(i){const t=i._freezeSettings(),e=mf(i._databaseId);return new tk(i._databaseId,!!t.ignoreUndefinedProperties,e)}function nk(i,t,e,s,o,l={}){const h=i.ju(l.merge||l.mergeFields?2:0,t,e,o);Bb("Data must be an object, but it was:",h,s);const m=Ub(s,h);let p,g;if(l.merge)p=new ai(h.fieldMask),g=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const S of l.mergeFields){const R=ik(t,S,e);if(!h.contains(R))throw new Tt(tt.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);sk(E,R)||E.push(R)}p=new ai(E),g=h.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,g=h.fieldTransforms;return new JV(new Qn(m),p,g)}function Pb(i,t){if(jb(i=oi(i)))return Bb("Unsupported field value:",t,i),Ub(i,t);if(i instanceof kb)return function(s,o){if(!Lb(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const m of s){let p=Pb(m,o.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(i,t)}return function(s,o){if((s=oi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Px(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Be.fromDate(s);return{timestampValue:kh(o.serializer,l)}}if(s instanceof Be){const l=new Be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kh(o.serializer,l)}}if(s instanceof kg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Mo)return{bytesValue:rb(o.serializer,s._byteString)};if(s instanceof Yn){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:gg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Lg)return function(h,m){return{mapValue:{fields:{[MA]:{stringValue:VA},[Nh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return dg(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Ng(s)}`)}(i,t)}function Ub(i,t){const e={};return CA(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):va(i,(s,o)=>{const l=Pb(o,t.qu(s));l!=null&&(e[s]=l)}),{mapValue:{fields:e}}}function jb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Be||i instanceof kg||i instanceof Mo||i instanceof Yn||i instanceof kb||i instanceof Lg)}function Bb(i,t,e){if(!jb(e)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(e)){const s=Ng(e);throw s==="an object"?t.Wu(i+" a custom object"):t.Wu(i+" "+s)}}function ik(i,t,e){if((t=oi(t))instanceof Vg)return t._internalPath;if(typeof t=="string")return zb(i,t);throw jh("Field path arguments must be of type string or ",i,!1,void 0,e)}const rk=new RegExp("[~\\*/\\[\\]]");function zb(i,t,e){if(t.search(rk)>=0)throw jh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new Vg(...t.split("."))._internalPath}catch{throw jh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function jh(i,t,e,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new Tt(tt.INVALID_ARGUMENT,m+i+p)}function sk(i,t){return i.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(t,e,s,o,l){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ak(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(qb("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class ak extends Hb{data(){return super.data()}}function qb(i,t){return typeof t=="string"?zb(i,t):t instanceof Vg?t._internalPath:t._delegate._internalPath}class ok{convertValue(t,e="none"){switch(Es(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Oe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(vs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw wt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return va(t,(o,l)=>{s[o]=this.convertValue(l,e)}),s}convertVectorValue(t){var e,s,o;const l=(o=(s=(e=t.fields)===null||e===void 0?void 0:e[Nh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>Oe(h.doubleValue));return new Lg(l)}convertGeoPoint(t){return new kg(Oe(t.latitude),Oe(t.longitude))}convertArray(t,e){return(t.values||[]).map(s=>this.convertValue(s,e))}convertServerTimestamp(t,e){switch(e){case"previous":const s=of(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(hu(t));default:return null}}convertTimestamp(t){const e=_s(t);return new Be(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=we.fromString(t);ne(cb(s));const o=new fu(s.get(1),s.get(3)),l=new St(s.popFirst(5));return o.isEqual(e)||Er(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(i,t,e){let s;return s=i?i.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fb extends Hb{constructor(t,e,s,o,l,h){super(t,e,s,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new ck(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(qb("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}}class ck extends Fb{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(i){i=gu(i,Yn);const t=gu(i.firestore,Mg);return GV(Vb(t),i._key).then(e=>pk(t,i,e))}class fk extends ok{constructor(t){super(),this.firestore=t}convertBytes(t){return new Mo(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Yn(this.firestore,null,e)}}function dk(i,t,e){i=gu(i,Yn);const s=gu(i.firestore,Mg),o=lk(i.converter,t);return mk(s,[nk(ek(s),"setDoc",i._key,o,i.converter!==null,e).toMutation(i._key,gr.none())])}function mk(i,t){return function(s,o){const l=new gs;return s.asyncQueue.enqueueAndForget(async()=>DV(await qV(s),o,l)),l.promise}(Vb(i),t)}function pk(i,t,e){const s=e.docs.get(t._key),o=new fk(i);return new Fb(i,o,t._key,s,new uk(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){Bo=o})(Po),Ro(new ma("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),m=new Mg(new W2(s.getProvider("auth-internal")),new tx(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Tt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(g.options.projectId,E)}(h,o),h);return l=Object.assign({useFetchStreams:e},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),ds(aT,oT,t),ds(aT,oT,"esm2017")})();const gk={apiKey:"AIzaSyCfWVq2kCF4hJ0H1G-XZMWn5ESbP787oBI",authDomain:"agendareact-d0dbd.firebaseapp.com",projectId:"agendareact-d0dbd",storageBucket:"agendareact-d0dbd.firebasestorage.app",messagingSenderId:"891966541314",appId:"1:891966541314:web:71b6cea5667e727da9e11b"},Gb=VS(gk),Ug=$2(Gb),yk=XV(Gb);new hr;const _k=async(i,t)=>{if(!i)return null;const e=YV(yk,"users",i.uid),s=await hk(e);if(!s.exists()){const{email:o,displayName:l,photoURL:h}=i;try{await dk(e,{displayName:l,email:o,photoURL:h,...t})}catch(m){console.error("Error creando documento de usuario",m)}}return s.data()};function vk({onClose:i}){const[t,e]=N.useState(""),[s,o]=N.useState(""),[l,h]=N.useState(""),m=async p=>{p.preventDefault();try{await VD(Ug,t,s),i()}catch(g){h("Error al iniciar sesin: "+g.message)}};return M.jsxs("div",{children:[M.jsx("h2",{children:"Iniciar sesin"}),l&&M.jsx("p",{style:{color:"red"},children:l}),M.jsxs(ie,{onSubmit:m,children:[M.jsxs(ie.Group,{children:[M.jsx(ie.Label,{children:"Email"}),M.jsx(ie.Control,{type:"email",placeholder:"Ingresa tu email",value:t,onChange:p=>e(p.target.value)})]}),M.jsxs(ie.Group,{children:[M.jsx(ie.Label,{children:"Contrasea"}),M.jsx(ie.Control,{type:"password",placeholder:"Ingresa tu contrasea",value:s,onChange:p=>o(p.target.value)})]}),M.jsx(Di,{variant:"primary",type:"submit",children:"Ingresar"}),M.jsx(Di,{variant:"secondary",onClick:i,className:"ms-2",children:"Cerrar"})]})]})}const Kb=N.createContext({user:null});class Ek extends N.Component{constructor(){super(...arguments);dm(this,"state",{user:null});dm(this,"componentDidMount",async()=>{Ug.onAuthStateChanged(async e=>{const s=await _k(e);this.setState({user:s})})})}render(){const{user:e}=this.state;return M.jsx(Kb.Provider,{value:{user:e},children:this.props.children})}}function Tk(){const[i,t]=N.useState([]),[e,s]=N.useState(null),[o,l]=N.useState(!1),[h,m]=N.useState(!1),[p,g]=N.useState(!1),{user:E}=N.useContext(Kb),S=50,R=()=>{Eh.getAllContacts().then(B=>t(B.data)).catch(B=>console.error("Error al cargar contactos:",B))};N.useEffect(()=>{R()},[]);const P=()=>{E&&e?(g(!0),l(!0),R()):alert("Debes iniciar sesin y seleccionar un contacto para editar.")},U=()=>{E?(s(null),g(!1),l(!0),R()):alert("Debes iniciar sesin para crear un contacto.")},K=()=>{E&&e?Eh.deleteContact(e.id).then(()=>{t(i.filter(B=>B.id!==e.id)),s(null),R()}).catch(B=>console.error("Error al borrar contacto:",B)):alert("Debes iniciar sesin y seleccionar un contacto para borrar.")};return M.jsxs(O0,{fluid:!0,className:"app-container",children:[M.jsx("div",{className:"auth-container",style:{position:"absolute",top:10,right:10},children:E?M.jsxs("div",{className:"d-flex align-items-center",children:[M.jsx("img",{src:E.photoURL,alt:"User Avatar",style:{width:40,height:40,borderRadius:"50%",marginRight:10}}),M.jsxs("span",{children:[E.displayName," (",E.name,")"]}),M.jsx(Di,{onClick:()=>Ug.signOut(),variant:"danger",size:"sm",className:"ms-2",children:"Cerrar sesin"})]}):M.jsx(Di,{onClick:()=>m(!0),variant:"primary",children:"Iniciar sesin"})}),M.jsxs(Yl,{className:"app-row",children:[M.jsx(ri,{md:4,className:"agenda-list",children:M.jsxs(wm,{children:[M.jsx(wm.Item,{className:"header-item",style:{position:"sticky",top:0,zIndex:1,background:"white"},children:M.jsxs(Yl,{children:[M.jsx(ri,{children:M.jsx("h2",{className:"list-title",children:"Nombre"})}),M.jsx(ri,{children:M.jsx("h2",{className:"list-title",children:"Apellidos"})})]})}),M.jsx("div",{style:{maxHeight:"65vh",overflowY:"auto"},children:i.map(B=>M.jsx(wm.Item,{onClick:()=>s(B),active:e&&e.id===B.id,className:"contact-item",children:M.jsxs(Yl,{children:[M.jsx(ri,{className:"contact-name",children:B.firstName}),M.jsx(ri,{className:"contact-name",children:B.lastName})]})},B.id))})]})}),M.jsx(g1,{selectedContact:e}),M.jsxs(ri,{md:4,className:"contact-details",children:[M.jsx("h2",{children:"Tutoriales"}),e?M.jsx(YI,{selectedContact:e}):M.jsx("p",{children:"No hay tutoriales disponibles"})]})]}),M.jsxs(Yl,{className:"align-items-center mt-3",children:[M.jsx(ri,{md:6,children:M.jsx(J0,{now:i.length/S*100,label:`${i.length}/${S}`,variant:i.length<S*.5?"success":i.length<S*.75?"warning":"danger"})}),M.jsxs(ri,{md:6,className:"d-flex justify-content-end",children:[M.jsx(Di,{className:"btn btn-primary me-2",onClick:U,disabled:!E,children:"Nuevo"}),M.jsx(Di,{className:"btn btn-warning me-2",onClick:P,disabled:!E||!e,children:"Editar"}),M.jsx(Di,{className:"btn btn-danger",onClick:K,disabled:!E||!e,children:"Borrar"})]})]}),M.jsx(tO,{show:o,handleClose:()=>l(!1),selectedContact:e,refreshContacts:R,isEditMode:p}),M.jsx(aa,{show:h,onHide:()=>m(!1),children:M.jsx(aa.Body,{children:M.jsx(vk,{onClose:()=>m(!1)})})})]})}Cw.createRoot(document.getElementById("root")).render(M.jsx(N.StrictMode,{children:M.jsx(Ek,{children:M.jsx(Tk,{})})}));
